import{j as o}from"./jsx-runtime.D_zvdyIk.js";import{r as q,c as St,g as Oi,a as Aa,b as $l}from"./index.C1SLTdIO.js";import{L as Le,u as Hl,O as ja,c as zl,a as Wl,R as Gl,b as ce}from"./chunk-NL6KNZEE.CVgfsdEt.js";import{G as ke,c as qe,a as He,b as ze,u as Li,f as We,d as Ge,i as Sa,A as Kl}from"./githubFileUpdater.BnUKoWxh.js";import{t as Jl}from"./burger-menu-react.BkVEGyzS.js";import{A as Vl}from"./index.BXk8rcrj.js";import{n as ct}from"./navbar.C80nBafe.js";import{p as Tn}from"./products.CIYfErmN.js";import{f as Ht}from"./faq.CZALwKBU.js";import{f as be,l as eo}from"./logo.MwtVS3_u.js";import{a as to}from"./app-config.zEQo3iYE.js";import{t as no}from"./quiz.dbW5IS76.js";import{r as so}from"./reviews.DM1zjBDF.js";import{t as Ql}from"./contact-us.D-J7bnCy.js";import{s as fn}from"./seo-data-site.CLNeXSAF.js";import{r as Zl}from"./index.CduIErne.js";import"./iconBase.10d0k-hK.js";const zs=async(s,e,t,n)=>{if(!(await fetch(`${ke}/${s}/${e}/contents/${t}`,{method:"PUT",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)throw new Error("Не удалось обновить файл");console.log("Файл успешно обновлен")},Yl=()=>{const[s,e]=q.useState(null),[t,n]=q.useState(!0),[r,i]=q.useState(null);q.useEffect(()=>{e(Jl.BurgerMenu),n(!1)},[]);const l=(u,f)=>{e(m=>({...m,[u]:{...m[u],title:f}}))},a=(u,f)=>{e(m=>({...m,[u]:{...m[u],is_active:f}}))},h=async()=>{try{const u=He,f=ze,m="src/const/navbar/burger-menu-react.json";n(!0);const d=await fetch(`${ke}/${u}/${f}/contents/${m}`,{method:"GET",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"}});if(!d.ok)throw new Error(`Ошибка загрузки файла: ${d.statusText}`);const g=await d.json(),x=String(g.sha),T={message:"Update BurgerMenu",content:btoa(unescape(encodeURIComponent(JSON.stringify({BurgerMenu:s},null,2)))),sha:x};await zs(u,f,m,T),n(!1),alert("BurgerMenu успешно обновлено!")}catch(u){i(u.message),n(!1)}};return o.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white text-gray-500 rounded-lg shadow-lg",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Редактор BurgerMenu"}),t?o.jsx("p",{className:"text-center",children:"Загрузка..."}):o.jsxs("div",{className:"flex flex-col space-y-6",children:[Object.keys(s).map(u=>o.jsxs("div",{className:"border p-4 rounded-lg shadow-sm bg-gray-50",children:[o.jsxs("label",{className:"block text-lg font-semibold mb-2",children:[s[u].label," "]}),o.jsx("input",{type:"text",value:s[u].title||"",onChange:f=>l(u,f.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Введите заголовок"}),s[u].hasOwnProperty("is_active")&&o.jsxs("div",{className:"flex items-center mt-4",children:[o.jsxs("label",{className:"mr-2",children:[s[u].label," Активно:"]}),o.jsx("input",{type:"checkbox",checked:s[u].is_active,onChange:f=>a(u,f.target.checked),className:"h-5 w-5 text-green-600 border-gray-300 rounded focus:ring-green-500"})]})]},u)),o.jsx("button",{onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition duration-200",children:t?"Сохранение...":"Сохранить изменения"}),r&&o.jsx("p",{className:"text-red-500 text-center",children:r})]})]})},Xl=()=>o.jsx(o.Fragment,{children:o.jsxs("div",{className:"mt-12 relative",children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx(Yl,{})]})}),ec=()=>{const{user:s,logout:e}=Li(),[t,n]=q.useState(!0),r=()=>{n(!t)};return o.jsx("div",{className:"flex ",children:o.jsxs("div",{style:{zIndex:9999},className:`fixed max-h-[500px] top-24 left-0 bg-gray-900 text-white flex flex-col transition-all duration-300 ease-in-out ${t?"w-64":"w-0"}`,children:[o.jsx("button",{onClick:r,className:"fixed  left-52 bg-gray-700 hover:bg-gray-800 text-white p-3 rounded-lg focus:outline-none",children:t?o.jsx(Vl,{size:24}):"Меню администратора"}),o.jsx("button",{onClick:e,className:"bg-red-600  w-20 hover:bg-red-700 text-white py-1 px-2 rounded-lg m-1",children:"Выйти"}),t&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mt-16 p-2   border-b border-gray-700 flex items-center justify-between",children:o.jsx("h2",{className:"text-xl font-bold",children:"Панель администратора"})}),o.jsx("nav",{className:"mt-4  flex-grow overflow-y-auto",children:o.jsx("ul",{className:"space-y-2 ",children:[{to:"admin/edit-main-image",label:"Редактировать Главное Изображение"},{to:"admin/edit-image-list",label:"Редактировать другие Фото/Изображения сайта"},{to:"admin/edit-main-logo",label:"Редактировать логотип"},{to:"admin/edit-main-config-logo",label:"Редактировать параметры логотипа"},{to:"admin/site-settings",label:"Настройки сайта"},{to:"admin/edit-nav-bar",label:"Редактировать Главное меню сайта"},{to:"admin/edit-burger-menu",label:"Редактировать БургерМеню"},{to:"admin/edit-footer",label:"Редактировать Footer сайта"},{to:"admin/edit-robots-txt",label:"Изменить файл robots.txt"},{to:"admin/edit-quiz",label:"Редактировать QUIZ"},{to:"admin/edit-faq",label:"Редактировать FAQ"},{to:"admin/edit-review",label:"Редактировать Отзывы"},{to:"admin/edit/contact-us-company",label:"Редактировать Контакты"},{to:"admin/edit/features",label:"Редактировать Раздел - особенности"},{to:"admin/edit/hero",label:"Редактировать Главный Раздел"},{to:"admin/edit/seo",label:"Редактировать Раздел SEO"},{to:"admin/edit/product-section",label:"Редактировать Раздел Продукты/Услуги"},{to:"admin/edit-flatpages/edit-about",label:"Редактировать О нас"},{to:"admin/edit-flatpages/edit-hero",label:"Редактировать Главный экран сайта HTML"},{to:"admin/edit-flatpages/edit-portfolio",label:"Редактировать Наши работы"},{to:"admin/edit-flatpages/edit-offer-agreement",label:"Редактировать Соглашение оферта"},{to:"admin/edit-flatpages/edit-privacy-policy",label:"Редактировать Политику конфиденциальности"},{to:"admin/edit-flatpages/edit-user-agreement",label:"Редактировать Пользовательское соглашение"},{to:"admin/edit-flatpages/edit-delivery-rules",label:"Редактировать Правила Доставки"}].map(i=>o.jsx("li",{children:o.jsx(Le,{to:i.to,className:"flex items-center px-4 py-2 hover:bg-gray-700 rounded-lg transition-colors",children:o.jsx("span",{children:i.label})})},i.to))})}),o.jsx("footer",{className:"p-4 border-t border-gray-700",children:o.jsxs("p",{className:"text-sm",children:["Вы вошли как: ",s?.email]})})]})]})})},_a=()=>{const[s,e]=q.useState(""),[t,n]=q.useState(""),{login:r,isAuthenticated:i}=Li(),l=Hl(),[a,h]=q.useState(null);if(i)return l("/index-editor"),null;const u=async f=>{f.preventDefault();try{const x=await fetch(`${ke}/${He}/${ze}/contents/src/const/app-config/app-config.json`,{method:"GET",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"}});if(!x.ok)throw new Error(`Ошибка загрузки файла: ${x.statusText}`);const y=await x.json(),T=atob(y.content),j=JSON.parse(T);j.email_admin===s&&j.password_admin===t?(r(s,t),l("/index-editor")):h("Неверный email или пароль.")}catch(m){console.error("Ошибка авторизации:",m),h("Ошибка авторизации. Пожалуйста, попробуйте позже.")}};return o.jsx("div",{className:"fixed z-20 inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"m-1 bg-gray-100 p-8 rounded-lg shadow-md w-96",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Вход"}),a&&o.jsx("p",{className:"text-red-500 mb-4",children:a})," ",o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",className:"text-gray-700 w-full p-2 border border-gray-300 rounded",value:s,onChange:f=>e(f.target.value),required:!0})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Пароль"}),o.jsx("input",{type:"password",id:"password",className:"text-gray-700 w-full p-2 border border-gray-300 rounded",value:t,onChange:f=>n(f.target.value),required:!0})]}),o.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition",children:"Войти"})]})]})})},tc="black",nc="white",sc="#db1200",rc="linear-gradient(135deg, #E5E4E2, #C0C0C0, #B0B0B0, #FFFFFF); box-shadow: 10px 0 20px rgba(255, 255, 255, 0.8), 0 0 20px rgba(224, 224, 224, 0.5); border-radius: 10px; filter: brightness(1.2) contrast(1.1); padding: 15px; color: #ccfaf5;",ic="black",oc="linear-gradient(135deg, #E5E4E2, #C0C0C0, #B0B0B0, #FFFFFF); box-shadow: 10px 0 20px rgba(55, 255, 255, 0.8), 0 0 40px rgba(224, 224, 224, 0.5); border-radius: 10px; filter: brightness(1.2) contrast(1.1); padding: 15px; color: #ccfaf5;",ac=`Автоворонка продаж под ключ

САЙТ + ОПЛАТА + TELEGRAM + РЕКЛАМА`,lc=`# 

---

## **✔️ Мгновенный запуск бизнеса**
Готовый комплекс: сайт, приём оплат, Telegram-продавец и реклама.

## **✔️ Гибкость и контроль**
Меняйте контент даже когда реклама уже работает.

## **✔️ Для любого бизнеса**
Интернет-магазин, услуги, консультации, обучение.

## **✔️ Без абонплаты**
Оплачиваете только нужные функции. 

---

`,cc="Получить",uc="Заявка",dc=!0,hc=!0,fc="/contact",pc="/call-to-action",mc=!0,gc=!1,bc=!1,xc=!1,yc="#ccfaf5",ut={bgTheme:tc,textColorTheme:nc,bgBtnOne:sc,colorBtnOne:rc,bgBtnTwo:ic,colorBtnTwo:oc,title:ac,subtitle:lc,button_one:cc,button_two:uc,isActiveBtnTwo:dc,isActiveBtnOne:hc,link_button_one:fc,link_button_two:pc,isRoundedMainImg:mc,isBlackAndWhitePhoto:gc,isCustomHero:bc,isHeroBackgroundImg:xc,colorTextIsBackgroundImg:yc},Oa=q.createContext(void 0),vc=({children:s})=>{const[e,t]=q.useState(ct),[n,r]=q.useState(ut),[i,l]=q.useState(Tn),[a,h]=q.useState(Ht),[u,f]=q.useState(be);return q.useEffect(()=>{console.log("update Context data!")},[e,n,i,a,u]),o.jsx(Oa.Provider,{value:{updateNavbarJsonFile:e,updateHeroJsonFile:n,updateProductsJsonFile:i,updateFAQJsonFile:a,updateFooterJsonFile:u,setUpdateNavbarJsonFile:t,setUpdateHeroJsonFile:r,setUpdateProductsJsonFile:l,setUpdateFAQJsonFile:h,setUpdateFooterJsonFile:f},children:s})},Zs=()=>{const s=q.useContext(Oa);if(!s)throw new Error("useColorEditorContet must be used within a ColorEditorProvider");return s},Fe=({backgroundId:s,element:e,currentBackground:t,onColorChange:n})=>{const{updateNavbarJsonFile:r,updateHeroJsonFile:i,updateProductsJsonFile:l,updateFAQJsonFile:a,updateFooterJsonFile:h,setUpdateNavbarJsonFile:u,setUpdateHeroJsonFile:f,setUpdateProductsJsonFile:m,setUpdateFAQJsonFile:d,setUpdateFooterJsonFile:g}=Zs(),x=I=>({bgNavbar:{jsonFile:r,setter:u},bgTheme:{jsonFile:i,setter:f},bgCard:{jsonFile:l,setter:m},bgFAQ:{jsonFile:a,setter:d},bgFooter:{jsonFile:h,setter:g}})[I]||{jsonFile:{},setter:()=>{}},{jsonFile:y,setter:T}=x(e),j=y[e]||t,[L,B]=q.useState(j);q.useEffect(()=>{const I=document.getElementById(s);return I&&(I.style.backgroundColor=L),I?.style.backgroundColor!==L&&n(L),()=>{I&&(I.style.backgroundColor=y[e])}},[y,e,s,L,n]);const D=I=>{const P=I.target.value;if(P!==L){B(P);const X={...y,[e]:P};T(X)}};return o.jsxs("div",{className:"z-50",children:[o.jsx("label",{htmlFor:"background-color",children:"Выберите цвет фона:"}),o.jsx("input",{type:"color",id:"background-color",value:L,onChange:D}),o.jsx("input",{type:"text",id:"background-manual-color",value:L,onChange:D,placeholder:"Введите цвет (#hex или rgb)"})]})},Be=({textId:s,element:e,currentColor:t,onColorChange:n})=>{const{updateNavbarJsonFile:r,updateHeroJsonFile:i,updateProductsJsonFile:l,updateFAQJsonFile:a,updateFooterJsonFile:h,setUpdateNavbarJsonFile:u,setUpdateHeroJsonFile:f,setUpdateProductsJsonFile:m,setUpdateFAQJsonFile:d,setUpdateFooterJsonFile:g}=Zs(),x=I=>({textColorNavbar:{jsonFile:r,setter:u},textColorTheme:{jsonFile:i,setter:f},cardTextColor:{jsonFile:l,setter:m},textColorFAQ:{jsonFile:a,setter:d},textColorFooter:{jsonFile:h,setter:g}})[I]||{jsonFile:{},setter:()=>{}},{jsonFile:y,setter:T}=x(e),j=y[e]||t,[L,B]=q.useState(j);q.useEffect(()=>{const I=document.getElementById(s);return I&&(I.style.color=L),I?.style.color!==L&&n(L),()=>{I&&(I.style.color=y[e])}},[y,e,s,L,n]);const D=I=>{const P=I.target.value;if(P!==L){B(P);const X={...y,[e]:P};T(X)}};return o.jsxs("div",{className:"z-50",children:[o.jsx("label",{htmlFor:"text-color",children:"Выберите цвет текста:"}),o.jsx("input",{type:"color",id:"text-color",value:L,onChange:D}),o.jsx("input",{type:"text",id:"text-manual-color",value:L,onChange:D,placeholder:"Введите цвет (#hex или rgb)"})]})},pn=({targetId:s,element:e,onChange:t})=>{const{updateNavbarJsonFile:n,updateFooterJsonFile:r}=Zs(),[i,l]=q.useState(!1);q.useEffect(()=>{e==="roundedNavbar"&&l(n.roundedNavbar),e==="isRoundedFooter"&&l(r.isRoundedFooter),e==="isRoundedBoxLinkFooterPhone"&&l(r.isRoundedBoxLinkFooterPhone),e==="isRoundedBoxLinkFooterTelegram"&&l(r.isRoundedBoxLinkFooterTelegram),e==="isRoundedBoxLinkFooterWhatsApp"&&l(r.isRoundedBoxLinkFooterWhatsApp),e==="isRoundedBoxLinkFooterEmail"&&l(r.isRoundedBoxLinkFooterEmail)},[e,n,r]),q.useEffect(()=>{const h=document.getElementById(s);return h&&(h.style.borderRadius=i?"30px":"0"),()=>{h&&(h.style.borderRadius="")}},[i,s]);const a=h=>{const u=h.target.checked;l(u),t({checkboxId:s,isChecked:u,element:e})};return o.jsx("div",{children:o.jsx("input",{type:"checkbox",checked:i,onChange:a,className:"rounded-sm text-blue-500 focus:ring-blue-500"})})};function Nc(s){const t=new TextEncoder().encode(s);return btoa(String.fromCharCode(...t))}function wc(s){const e=atob(s),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return new TextDecoder().decode(t)}async function Ec(s,e,t,n){const r=Nc(t),i={message:e,content:r,sha:n},l=await fetch(`${ke}/${He}/${ze}/contents/${s}`,{method:"PUT",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok)throw new Error(`Ошибка обновления файла: ${l.statusText}`);return await l.json()}async function Tc(s){const e=await fetch(`${ke}/${He}/${ze}/contents/${s}`,{method:"GET",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Ошибка загрузки файла: ${e.statusText}`);return await e.json()}function Cc(s,e){return{...s,...e}}async function Ac({updateNavbarJsonFile:s,updateHeroJsonFile:e,updateProductsJsonFile:t,updateFAQJsonFile:n,updateFooterJsonFile:r}){const i=[{info:"Главное меню",path:"src/const/navbar/navbar.json",jsonData:ct,newJsonData:s},{info:"Главная страница",path:"src/const/hero/hero.json",jsonData:ut,newJsonData:e},{info:"Карточки продуктов/услуг",path:"src/const/products/products.json",jsonData:Tn,newJsonData:t},{info:"Вопросы и ответы",path:"src/const/faq/faq.json",jsonData:Ht,newJsonData:n},{info:"Подвал сайта (Футер)",path:"src/const/footer/footer.json",jsonData:be,newJsonData:r}],l=[];try{for(let a of i){const h=await Tc(a.path),u=h.sha,f=JSON.parse(wc(h.content)),m=Cc(f,a.newJsonData);if(JSON.stringify(f)!==JSON.stringify(m)){const d=JSON.stringify(m,null,2),g=`Обновление ${a.path}`;await Ec(a.path,g,d,u),l.push({success:!0,message:`Раздел ${a.info} успешно обновлен`})}else l.push({success:!1,message:`Раздел ${a.info} не изменился, обновление не требуется`})}}catch(a){console.error("Ошибка при обновлении файлов:",a),l.push({success:!1,message:`Ошибка при обновлении файлов: ${a.message}`})}return l}const jc=()=>{const[s,e]=q.useState(!1),[t,n]=q.useState(!1),[r,i]=q.useState([]),l={bgNavbar:ct.bgBurger,textColorNavbar:ct.textColorNavbar,roundedNavbar:ct.roundedNavbar,bgBurger:ct.bgBurger,textColorBurger:ct.textColorBurger},a={bgTheme:ut.bgTheme,textColorTheme:ut.textColorTheme,bgBtnOne:ut.bgBtnOne,colorBtnOne:ut.colorBtnOne,bgBtnTwo:ut.bgBtnTwo,colorBtnTwo:ut.colorBtnTwo},h={bgCard:Tn.bgCard,cardTextColor:Tn.cardTextColor},u={bgFAQ:Ht.bgFAQ,textColorFAQ:Ht.textColorFAQ,isRounded:Ht.isRounded},f={bgFooter:be.bgFooter,isRoundedFooter:be.isRoundedFooter,textColorFooter:be.textColorFooter,colorTextBoxLinkFooterPhone:be.colorTextBoxLinkFooterPhone,isRoundedBoxLinkFooterPhone:be.isRoundedBoxLinkFooterPhone,bgBoxLinkFooterPhone:be.bgBoxLinkFooterPhone,colorTextBoxLinkFooterTelegram:be.colorTextBoxLinkFooterTelegram,isRoundedBoxLinkFooterTelegram:be.isRoundedBoxLinkFooterTelegram,bgBoxLinkFooterTelegram:be.bgBoxLinkFooterTelegram,colorTextBoxLinkFooterWhatsApp:be.colorTextBoxLinkFooterWhatsApp,isRoundedBoxLinkFooterWhatsApp:be.isRoundedBoxLinkFooterWhatsApp,bgBoxLinkFooterWhatsApp:be.bgBoxLinkFooterWhatsApp,colorTextBoxLinkFooterEmail:be.colorTextBoxLinkFooterEmail,isRoundedBoxLinkFooterEmail:be.isRoundedBoxLinkFooterEmail,bgBoxLinkFooterEmail:be.bgBoxLinkFooterEmail},m=()=>e(!s),{updateNavbarJsonFile:d,updateHeroJsonFile:g,updateProductsJsonFile:x,updateFAQJsonFile:y,updateFooterJsonFile:T,setUpdateNavbarJsonFile:j,setUpdateHeroJsonFile:L,setUpdateProductsJsonFile:B,setUpdateFAQJsonFile:D,setUpdateFooterJsonFile:I}=Zs(),P=(F,J,b)=>{F==="navbar"&&j(E=>E[J]===b?E:{...E,[J]:b}),F==="hero"&&L(E=>E[J]===b?E:{...E,[J]:b}),F==="products"&&B(E=>E[J]===b?E:{...E,[J]:b}),F==="faq"&&D(E=>E[J]===b?E:{...E,[J]:b}),F==="footer"&&I(E=>E[J]===b?E:{...E,[J]:b})},X=({checkboxId:F,isChecked:J,element:b})=>{b==="roundedNavbar"&&j(E=>E.roundedNavbar===J?E:{...E,roundedNavbar:J}),b==="isRoundedFooter"&&I(E=>E.isRoundedFooter===J?E:{...E,isRoundedFooter:J}),b==="isRoundedBoxLinkFooterPhone"&&I(E=>E.isRoundedBoxLinkFooterPhone===J?E:{...E,isRoundedBoxLinkFooterPhone:J}),b==="isRoundedBoxLinkFooterTelegram"&&I(E=>E.isRoundedBoxLinkFooterTelegram===J?E:{...E,isRoundedBoxLinkFooterTelegram:J}),b==="isRoundedBoxLinkFooterWhatsApp"&&I(E=>E.isRoundedBoxLinkFooterWhatsApp===J?E:{...E,isRoundedBoxLinkFooterWhatsApp:J}),b==="isRoundedBoxLinkFooterEmail"&&I(E=>E.isRoundedBoxLinkFooterEmail===J?E:{...E,isRoundedBoxLinkFooterEmail:J})},fe=async()=>{n(!0);try{const F=await Ac({updateNavbarJsonFile:d,updateHeroJsonFile:g,updateProductsJsonFile:x,updateFAQJsonFile:y,updateFooterJsonFile:T});i(F)}catch(F){i([{success:!1,message:`Ошибка: ${F.message}`}])}finally{n(!1)}};return o.jsxs("div",{style:{zIndex:9999},className:"fixed  mt-0  end-1 inline-block text-left",children:[o.jsx("button",{onClick:m,className:"max-w-28 bg-blue-500 hover:bg-blue-600 text-sm text-white font-bold p-1  rounded focus:outline-none focus:ring",children:"Редактировать Цвета"}),s&&o.jsxs("div",{className:"z-50 max-h-[450px]  absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg  p-2  space-y-4 overflow-y-auto ",children:[o.jsxs("div",{children:[o.jsx("div",{className:" text-gray-800 bg-gray-300 p-2 rounded font-semibold mb-2",children:"Главное меню"}),o.jsx("hr",{}),o.jsxs("div",{className:" space-y-2",children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон главного меню"}),o.jsx(Fe,{backgroundId:"navbar",element:"bgNavbar",onColorChange:F=>P("navbar","bgNavbar",F),currentBackground:ct.bgNavbar}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста главного меню"}),o.jsx(Be,{textId:"navbar",element:"textColorNavbar",currentColor:l.textColorNavbar,onColorChange:F=>P("navbar","textColorNavbar",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Закруглить главное меню"}),o.jsx(pn,{targetId:"navbar",element:"roundedNavbar",onChange:X}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон значка бургер-меню"}),o.jsx(Fe,{backgroundId:"btnBurger",element:"bgBurger",currentBackground:l.bgBurger,onColorChange:F=>P("navbar","bgBurger",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет значка бургер-меню"}),o.jsx(Be,{element:"textColorBurger",currentColor:l.textColorBurger,textId:"btnBurger",onColorChange:F=>P("navbar","textColorBurger",F)})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-800 bg-gray-300 p-2 rounded font-semibold mb-2 ",children:"Главный фон и текст"}),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Главный фон"}),o.jsx(Fe,{backgroundId:"bgTheme",element:"bgTheme",currentBackground:a.bgTheme,onColorChange:F=>P("hero","bgTheme",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет основного текста сайта"}),o.jsx(Be,{textId:"bgTheme",element:"textColorTheme",currentColor:a.textColorTheme,onColorChange:F=>P("hero","textColorTheme",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон первой кнопки"}),o.jsx(Fe,{backgroundId:"btnOne",element:"bgBtnOne",currentBackground:a.bgBtnOne,onColorChange:F=>P("hero","bgBtnOne",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста первой кнопки"}),o.jsx(Be,{textId:"btnOne",element:"colorBtnOne",currentColor:a.colorBtnOne,onColorChange:F=>P("hero","colorBtnOne",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон второй кнопки"}),o.jsx(Fe,{backgroundId:"btnTwo",element:"bgBtnTwo",currentBackground:a.bgBtnTwo,onColorChange:F=>P("hero","bgBtnTwo",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста второй кнопки"}),o.jsx(Be,{textId:"btnTwo",element:"colorBtnTwo",currentColor:a.colorBtnTwo,onColorChange:F=>P("hero","colorBtnTwo",F)})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-800 bg-gray-300 p-2 rounded font-semibold mb-2",children:"Раздел: Продукты/услуги"}),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон Раздела продукты/услуги"}),o.jsx(Fe,{backgroundId:"idProductsCard",element:"bgCard",currentBackground:h.bgCard,onColorChange:F=>P("products","bgCard",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста Раздела продукты/услуги"}),o.jsx(Be,{textId:"idProductsCard",element:"cardTextColor",currentColor:h.cardTextColor,onColorChange:F=>P("products","cardTextColor",F)})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-800 bg-gray-300 p-2 rounded font-semibold mb-2",children:"Вопросы и ответы"}),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон секции Вопросы и ответы"}),o.jsx(Fe,{backgroundId:"idFAQ",element:"bgFAQ",currentBackground:u.bgFAQ,onColorChange:F=>P("faq","bgFAQ",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста Вопросы и ответы"}),o.jsx(Be,{textId:"idFAQ",element:"textColorFAQ",currentColor:u.textColorFAQ,onColorChange:F=>P("faq","textColorFAQ",F)})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-800 bg-gray-300 p-2 rounded font-semibold mb-2",children:"Footer"}),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон футера"}),o.jsx(Fe,{backgroundId:"footer",element:"bgFooter",currentBackground:f.bgFooter,onColorChange:F=>P("footer","bgFooter",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста футера"}),o.jsx(Be,{textId:"footer",element:"textColorFooter",currentColor:f.textColorFooter,onColorChange:F=>P("footer","textColorFooter",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Закруглить футер"}),o.jsx(pn,{targetId:"footer",element:"isRoundedFooter",onChange:X}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон ссылок соц сетей (Телефон)"}),o.jsx(Fe,{backgroundId:"linkFooterPhone",element:"bgBoxLinkFooterPhone",currentBackground:f.bgBoxLinkFooterPhone,onColorChange:F=>P("footer","bgBoxLinkFooterPhone",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста ссылок соц сетей (Телефон)"}),o.jsx(Be,{textId:"linkFooterPhone",element:"colorTextBoxLinkFooterPhone",currentColor:f.colorTextBoxLinkFooterPhone,onColorChange:F=>P("footer","colorTextBoxLinkFooterPhone",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Закруглить Фон ссылки соц сетей (Телефон)"}),o.jsx(pn,{targetId:"linkFooterPhone",element:"isRoundedBoxLinkFooterPhone",onChange:X}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон ссылок соц сетей (Telegram)"}),o.jsx(Fe,{backgroundId:"linkFooterTelegram",element:"bgBoxLinkFooterTelegram",currentBackground:f.bgBoxLinkFooterTelegram,onColorChange:F=>P("footer","bgBoxLinkFooterTelegram",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста ссылок соц сетей (Telegram)"}),o.jsx(Be,{textId:"linkFooterTelegram",element:"colorTextBoxLinkFooterTelegram",currentColor:f.colorTextBoxLinkFooterTelegram,onColorChange:F=>P("footer","colorTextBoxLinkFooterTelegram",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Закруглить Фон ссылки соц сетей (Telegram)"}),o.jsx(pn,{targetId:"linkFooterTelegram",element:"isRoundedBoxLinkFooterTelegram",onChange:X}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон ссылок соц сетей (WhatsApp)"}),o.jsx(Fe,{backgroundId:"linkFooterWhatsApp",element:"bgBoxLinkFooterWhatsApp",currentBackground:f.bgBoxLinkFooterWhatsApp,onColorChange:F=>P("footer","bgBoxLinkFooterWhatsApp",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста ссылок соц сетей (WhatsApp)"}),o.jsx(Be,{textId:"linkFooterWhatsApp",element:"colorTextBoxLinkFooterWhatsApp",currentColor:f.colorTextBoxLinkFooterWhatsApp,onColorChange:F=>P("footer","colorTextBoxLinkFooterWhatsApp",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Закруглить Фон ссылки соц сетей (WhatsApp)"}),o.jsx(pn,{targetId:"linkFooterWhatsApp",element:"isRoundedBoxLinkFooterWhatsApp",onChange:X}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Фон ссылок соц сетей (Email)"}),o.jsx(Fe,{backgroundId:"linkFooterEmail",element:"bgBoxLinkFooterEmail",currentBackground:f.bgBoxLinkFooterEmail,onColorChange:F=>P("footer","bgBoxLinkFooterEmail",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Цвет текста ссылок соц сетей (Email)"}),o.jsx(Be,{textId:"linkFooterEmail",element:"colorTextBoxLinkFooterEmail",currentColor:f.colorTextBoxLinkFooterEmail,onColorChange:F=>P("footer","colorTextBoxLinkFooterEmail",F)}),o.jsx("label",{className:"block text-sm text-gray-700",children:"Закруглить Фон ссылки соц сетей (Email)"}),o.jsx(pn,{targetId:"linkFooterEmail",element:"isRoundedBoxLinkFooter",onChange:X})]})]}),o.jsx("button",{onClick:fe,className:"block w-full text-center mt-4 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:t?"Обновление...":"Опубликовать"}),o.jsx("div",{children:r.map((F,J)=>o.jsxs("p",{style:{color:F.success?"green":"red"},children:[o.jsx("span",{className:"text-orange-500",children:"Пожалуйста, подождите. Сайт будет обновлен в течение 15 минут."}),F.message]},J))})]})]})},Sc=()=>{const{isAuthenticated:s}=Li();return o.jsx("div",{children:o.jsxs(vc,{children:[s?o.jsx(ec,{}):o.jsx(_a,{}),s?o.jsx(jc,{}):"",o.jsx("div",{children:o.jsx(ja,{})})]})})},_c=()=>o.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-red-100",children:o.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"404 - CMS Page Not Found"})}),Oc=()=>{const[s,e]=q.useState(ct),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/navbar/navbar.json";q.useEffect(()=>{e(ct)},[]);const a=(f,m)=>{e(d=>({...d,[f]:m}))},h=(f,m,d)=>{e(g=>{const x=[...g.links];return x[f]={...x[f],[m]:d},{...g,links:x}})},u=async()=>{console.log("Обновленные данные:",JSON.stringify(s,null,2));try{i(!0);const m=(await We(l)).sha,d=JSON.stringify(s,null,2);await Ge(l,"Update navbar.json",d,m),i(!1),alert("Файл успешно обновлен!")}catch(f){i(!1),n(f.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор навигации"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Фон навбара:"}),o.jsx("input",{type:"text",value:s.bgNavbar,onChange:f=>a("bgNavbar",f.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Фон бургер-меню:"}),o.jsx("input",{type:"text",value:s.bgBurger,onChange:f=>a("bgBurger",f.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Цвет текста навбара:"}),o.jsx("input",{type:"text",value:s.textColorNavbar,onChange:f=>a("textColorNavbar",f.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Закруглённый навбар:"}),o.jsx("input",{type:"checkbox",checked:s.roundedNavbar,onChange:f=>a("roundedNavbar",f.target.checked),className:"mr-2"})]})]}),s.links.map((f,m)=>o.jsxs("div",{className:"mb-4 border p-4 rounded-md shadow-sm",children:[o.jsxs("p",{className:"font-bold mb-2",children:["Ссылка ",m+1]}),o.jsxs("label",{className:"block mb-1",children:[o.jsx("span",{className:"font-semibold",children:"Название:"}),o.jsx("input",{type:"text",value:f.label,onChange:d=>h(m,"label",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"hidden block mb-1",children:[o.jsx("span",{className:"font-semibold",children:"Путь:"}),o.jsx("input",{type:"text",value:f.path,onChange:d=>h(m,"path",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-1",children:[o.jsx("span",{className:"font-semibold",children:"Активна:"}),o.jsx("input",{type:"checkbox",checked:f.is_active,onChange:d=>h(m,"is_active",d.target.checked),className:"mr-2"})]})]},m)),o.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить данные"})]})},Lc=()=>o.jsx(o.Fragment,{children:o.jsxs("div",{className:"mt-12 relative",children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx(Oc,{})]})}),kc=()=>{const[s,e]=q.useState(be),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/footer/footer.json";q.useEffect(()=>{e(be)},[]);const a=(f,m)=>{e(d=>({...d,[f]:m}))},h=(f,m,d)=>{e(g=>{const x=[...g.links];return x[f]={...x[f],[m]:d},{...g,links:x}})},u=async()=>{console.log("Обновленные данные:",JSON.stringify(s,null,2));try{i(!0);const m=(await We(l)).sha,d=JSON.stringify(s,null,2);await Ge(l,"Update footer.json",d,m),i(!1),alert("Файл футера успешно обновлен!")}catch(f){i(!1),n(f.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор футера"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Фон футера:"}),o.jsx("input",{type:"text",value:s.bgFooter,onChange:f=>a("bgFooter",f.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Цвет текста футера:"}),o.jsx("input",{type:"text",value:s.textColorFooter,onChange:f=>a("textColorFooter",f.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Закруглённый футер:"}),o.jsx("input",{type:"checkbox",checked:s.isRoundedFooter,onChange:f=>a("isRoundedFooter",f.target.checked),className:"mr-2"})]}),o.jsx("h3",{className:"text-xl font-bold mt-4 mb-2",children:"Ссылки футера"}),s.links.map((f,m)=>o.jsxs("div",{className:"mb-4 border p-4 rounded-md shadow-sm",children:[o.jsxs("p",{className:"font-bold mb-2",children:["Ссылка ",m+1]}),o.jsxs("label",{className:"block mb-1",children:[o.jsx("span",{className:"font-semibold",children:"Название:"}),o.jsx("input",{type:"text",value:f.label,onChange:d=>h(m,"label",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"hidden block mb-1",children:[o.jsx("span",{className:"font-semibold",children:"Путь:"}),o.jsx("input",{type:"text",value:f.path,onChange:d=>h(m,"path",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-1",children:[o.jsx("span",{className:"font-semibold",children:"Активна:"}),o.jsx("input",{type:"checkbox",checked:f.is_active,onChange:d=>h(m,"is_active",d.target.checked),className:"mr-2"})]})]},m))]}),o.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить данные"})]})},qc=()=>{const[s,e]=q.useState(to),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/app-config/app-config.json",a={password_admin:"Пароль администратора",email_admin:"Email администратора",TOKEN_TELEGRAM:"Telegram токен",CHAT_ID_TELEGRAM:"ID чата Telegram",TINKOFF_EMAIL_COMPANY:"Email компании в Тинькофф",TINKOFF_TAXION_COMPANY:"Система налогообложения Тинькофф",TINKOFF_TERMINAL_KEY:"Ключ терминала Тинькофф",TINKOFF_SUCCES_URL:"URL успешной оплаты Тинькофф",is_payment_button:"Кнопка оплаты включена",button_to_order:"Текст кнопки для заказа"};q.useEffect(()=>{e(to)},[]);const h=(f,m)=>{e(d=>({...d,[f]:m}))},u=async()=>{console.log("Обновленные данные:",JSON.stringify(s,null,2));try{i(!0);const m=(await We(l)).sha,d=JSON.stringify(s,null,2);await Ge(l,"Update app-config.json",d,m),i(!1),alert("Конфигурация успешно обновлена!")}catch(f){i(!1),n(f.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор конфигурации приложения"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsx("div",{className:"mb-6",children:Object.keys(s).map(f=>o.jsxs("label",{className:"block mb-2",children:[o.jsxs("span",{className:"font-semibold",children:[a[f],":"]}),typeof s[f]=="boolean"?o.jsx("input",{type:"checkbox",checked:s[f],onChange:m=>h(f,m.target.checked),className:"mr-2"}):o.jsx("input",{type:"text",value:s[f],onChange:m=>h(f,m.target.value),className:"w-full p-2 border rounded-md mb-2"})]},f))}),o.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить конфигурацию"})]})},Rc=()=>o.jsx(o.Fragment,{children:o.jsxs("div",{className:"mt-12 relative",children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx(qc,{})]})}),La=async(s,e,t)=>{const n=await fetch(`${ke}/${s}/${e}/contents/${t}`,{headers:{Authorization:`token ${qe}`}});if(!n.ok)throw new Error("Не удалось получить содержимое файла");return await n.json()},Ic=s=>{let e="";const t=new Uint8Array(s),n=t.byteLength;for(let r=0;r<n;r++)e+=String.fromCharCode(t[r]);return btoa(e)},Fc=async(s,e,t)=>{const n=He,r=ze;try{const i=await La(n,r,s),l=typeof e=="string"?btoa(unescape(encodeURIComponent(e))):Ic(e),a={message:t,content:l,sha:i.sha};await zs(n,r,s,a),console.log(`Файл ${s} успешно обновлен!`)}catch(i){console.error(`Ошибка при обновлении файла ${s}:`,i)}},ka=async(s,e)=>{const t=new FileReader;t.onload=async n=>{const r=n.target?.result;r&&await Fc(e,r,`Update ${s.name} via API`)},t.onerror=n=>{console.error("Ошибка при чтении файла:",n)},t.readAsArrayBuffer(s)},Bc={src:"/_astro/hero.a_IX6uQB.webp"},Mc=()=>{const s="src/assets/hero.webp",[e,t]=q.useState(null),[n,r]=q.useState(Bc.src),[i,l]=q.useState(null),[a,h]=q.useState(!1),u=async m=>{const d=m.target.files?.[0];if(d)try{const g=await Sa(d,{maxSizeMB:1,maxWidthOrHeight:1024,useWebWorker:!0,fileType:"image/webp"});t(g),r(URL.createObjectURL(g)),l("Изображение подготовлено для загрузки.")}catch(g){console.error("Ошибка сжатия изображения:",g),l("Ошибка обработки изображения. Попробуйте другой файл.")}},f=async m=>{if(m.preventDefault(),e){h(!0);try{await ka(e,s),l("Файл успешно загружен и будет обновлен в течении 5-10 мин!"),t(null)}catch(d){console.error(d),l("Ошибка при загрузке файла.")}finally{h(!1)}}else l("Пожалуйста, выберите файл.")};return o.jsxs("div",{className:"mt-12 bg-gray-300 p-3 rounded-2xl",children:[o.jsx(Le,{to:"/",className:"fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx("img",{className:"w-28 h-full object-contain rounded-lg",src:n,alt:"profile"}),o.jsxs("form",{onSubmit:f,children:[o.jsxs("div",{children:[o.jsx("label",{children:"Выберите файл:"}),o.jsx("input",{type:"file",accept:"image/*",onChange:u})]}),o.jsx("button",{type:"submit",className:"mt-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",disabled:a,children:a?"Загрузка...":"Загрузить и обновить файл"})]}),i&&o.jsx("p",{className:`mt-2 ${i.includes("успешно")?"text-green-500":"text-red-500"}`,children:i})]})},Pc=()=>{const[s,e]=q.useState(null),[t,n]=q.useState("/logo.svg"),[r,i]=q.useState(null),[l,a]=q.useState(!1),h=f=>{const m=f.target.files?.[0];m&&(e(m),n(URL.createObjectURL(m)))},u=async f=>{if(f.preventDefault(),s){a(!0);try{await ka(s,"public/logo.svg"),i(`Файл ${s.name} успешно загружен и обновлен!`),e(null)}catch(m){i("Ошибка при загрузке файла."),console.error(m)}finally{a(!1)}}else i("Пожалуйста, выберите файл.")};return o.jsxs("div",{className:"mt-12 bg-gray-300 p-3 rounded-2xl",children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx("img",{className:"w-28 h-full object-contain rounded-lg ",src:t,alt:"logo"}),o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{children:[o.jsx("label",{children:"Выберите файл:"}),o.jsx("input",{type:"file",onChange:h})]}),o.jsx("button",{type:"submit",className:"mt-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:l?"Загрузка...":"Загрузить и обновить файл"})]}),r&&o.jsx("p",{children:r})]})},Dc=()=>{const[s,e]=q.useState(""),[t,n]=q.useState(!1),[r,i]=q.useState(null);q.useEffect(()=>{(async()=>{try{const m=await fetch(`${ke}/${He}/${ze}/contents/public/robots.txt`,{method:"GET",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"}});if(!m.ok)throw new Error(`Ошибка загрузки файла: ${m.statusText}`);const d=await m.json(),g=atob(d.content);e(g)}catch(h){i(h.message)}})()},[]);const l=async()=>{try{const a=He,h=ze,u="public/robots.txt";n(!0);const f=await fetch(`${ke}/${a}/${h}/contents/${u}`,{method:"GET",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"}});if(!f.ok)throw new Error(`Ошибка загрузки файла: ${f.statusText}`);const m=await f.json(),d=m.sha;let g=atob(m.content);g=s;const x=new TextEncoder,T={message:"Обновление файла robots.txt",content:btoa(String.fromCharCode(...x.encode(g))),sha:d};await fetch(`${ke}/${a}/${h}/contents/${u}`,{method:"PUT",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"},body:JSON.stringify(T)}),n(!1),alert("Файл robots.txt успешно обновлен!")}catch(a){i(a.message),n(!1)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500  rounded-lg shadow-md",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Редактирование файла robots.txt"}),o.jsx("textarea",{value:s,onChange:a=>e(a.target.value),className:"w-full p-2 border rounded-md mb-4",placeholder:"Введите содержимое файла robots.txt",rows:10}),o.jsx("button",{onClick:l,className:"mt-4 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",disabled:t,children:t?"Сохранение...":"Сохранить изменения"}),r&&o.jsx("p",{className:"text-red-500 mt-4",children:r})]})},Uc=()=>{const[s,e]=q.useState(no),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/quiz/quiz.json";q.useEffect(()=>{e(no)},[]);const a=(y,T)=>{e(j=>({...j,[y]:T}))},h=(y,T)=>{const j=[...s.questions];j[y].question=T,e(L=>({...L,questions:j}))},u=(y,T,j)=>{const L=[...s.questions];L[y].options[T]=j,e(B=>({...B,questions:L}))},f=y=>{const T=[...s.questions];T[y].options.push(""),e(j=>({...j,questions:T}))},m=(y,T)=>{const j=[...s.questions];j[y].options.splice(T,1),e(L=>({...L,questions:j}))},d=()=>{e(y=>({...y,questions:[...y.questions,{question:"",options:[""]}]}))},g=y=>{const T=[...s.questions];T.splice(y,1),e(j=>({...j,questions:T}))},x=async()=>{try{i(!0);const T=(await We(l)).sha,j=JSON.stringify(s,null,2);await Ge(l,"Update quiz.json",j,T),i(!1),alert("Quiz успешно обновлен!")}catch(y){i(!1),n(y.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор Квиза"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок иконки:"}),o.jsx("input",{type:"text",value:s.icon_title_gift_box,onChange:y=>a("icon_title_gift_box",y.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Подзаголовок иконки:"}),o.jsx("input",{type:"text",value:s.icon_subtitle_gift_box,onChange:y=>a("icon_subtitle_gift_box",y.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Текст кнопки на иконке:"}),o.jsx("input",{type:"text",value:s.icon_button_gift_box,onChange:y=>a("icon_button_gift_box",y.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок модального окна:"}),o.jsx("input",{type:"text",value:s.modal_title,onChange:y=>a("modal_title",y.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Подзаголовок модального окна:"}),o.jsx("input",{type:"text",value:s.modal_subtitle,onChange:y=>a("modal_subtitle",y.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок квиза:"}),o.jsx("input",{type:"text",value:s.title,onChange:y=>a("title",y.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Подзаголовок квиза:"}),o.jsx("input",{type:"text",value:s.subtitle,onChange:y=>a("subtitle",y.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsx("h3",{className:"text-xl font-semibold mt-6 mb-4",children:"Вопросы"}),s.questions.map((y,T)=>o.jsxs("div",{className:"mb-4 border p-4 rounded-lg shadow-sm",children:[o.jsxs("label",{className:"block mb-2",children:[o.jsxs("span",{className:"font-semibold",children:["Вопрос ",T+1,":"]}),o.jsx("input",{type:"text",value:y.question,onChange:j=>h(T,j.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),y.options.map((j,L)=>o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("input",{type:"text",value:j,onChange:B=>u(T,L,B.target.value),className:"w-full p-2 border rounded-md mr-2"}),o.jsx("button",{onClick:()=>m(T,L),className:"px-2 py-1 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Удалить вариант"})]},L)),o.jsx("button",{onClick:()=>f(T),className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 mb-2",children:"Добавить вариант"}),o.jsx("button",{onClick:()=>g(T),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Удалить вопрос"})]},T)),o.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Добавить вопрос"}),o.jsx("button",{onClick:x,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить Квиз"})]})},$c=()=>o.jsxs(o.Fragment,{children:[o.jsx(Uc,{}),o.jsx(Le,{to:"/",className:"fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"})]}),Hc=()=>{const[s,e]=q.useState(Ht),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/faq/faq.json";q.useEffect(()=>{e(Ht)},[]);const a=(d,g)=>{e(x=>({...x,[d]:g}))},h=(d,g,x)=>{const y=[...s.faqs];y[d]={...y[d],[g]:x},e(T=>({...T,faqs:y}))},u=()=>{e(d=>({...d,faqs:[...d.faqs,{question:"",answer:""}]}))},f=d=>{const g=s.faqs.filter((x,y)=>y!==d);e(x=>({...x,faqs:g}))},m=async()=>{console.log("Обновленные данные:",JSON.stringify(s,null,2));try{i(!0);const g=(await We(l)).sha,x=JSON.stringify(s,null,2);await Ge(l,"Update faq.json",x,g),i(!1),alert("FAQ успешно обновлен!")}catch(d){i(!1),n(d.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор FAQ"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Цвет фона:"}),o.jsx("input",{type:"color",value:s.bgFAQ,onChange:d=>a("bgFAQ",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Цвет текста:"}),o.jsx("input",{type:"color",value:s.textColorFAQ,onChange:d=>a("textColorFAQ",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Закругленные углы:"}),o.jsx("input",{type:"checkbox",checked:s.isRounded,onChange:d=>a("isRounded",d.target.checked),className:"mr-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок FAQ:"}),o.jsx("input",{type:"text",value:s.faq_title,onChange:d=>a("faq_title",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]})]}),o.jsx("h3",{className:"text-xl font-semibold mt-6 mb-4",children:"Вопросы и ответы"}),s.faqs.map((d,g)=>o.jsxs("div",{className:"mb-4 border p-4 rounded-md bg-gray-100",children:[o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Вопрос:"}),o.jsx("input",{type:"text",value:d.question,onChange:x=>h(g,"question",x.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Ответ:"}),o.jsx("textarea",{value:d.answer,onChange:x=>h(g,"answer",x.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsx("button",{onClick:()=>f(g),className:"text-red-500 mt-2 underline",children:"Удалить вопрос"})]},g)),o.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Добавить вопрос"}),o.jsx("button",{onClick:m,className:"mt-4 ml-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить FAQ"})]})},zc=()=>o.jsxs(o.Fragment,{children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx(Hc,{})]}),Wc=()=>{const[s,e]=q.useState(so),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/reviews/reviews.json";q.useEffect(()=>{e(so)},[]);const a=(d,g)=>{e(x=>({...x,[d]:g}))},h=(d,g,x)=>{const y=[...s.list];g==="rating"?y[d][g]=Number(x):y[d][g]=x,e(T=>({...T,list:y}))},u=()=>{const d={id:Date.now(),author:"",rating:0,comment:""};e(g=>({...g,list:[...g.list,d]}))},f=d=>{const g=s.list.filter((x,y)=>y!==d);e(x=>({...x,list:g}))},m=async()=>{try{i(!0);const g=(await We(l)).sha,x=JSON.stringify(s,null,2);await Ge(l,"Update reviews.json",x,g),i(!1),alert("Отзывы успешно обновлены!")}catch(d){i(!1),n(d.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор Отзывов"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок:"}),o.jsx("input",{type:"text",value:s.title,onChange:d=>a("title",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsx("h3",{className:"text-xl font-semibold mt-6 mb-4",children:"Отзывы"}),s.list.map((d,g)=>o.jsxs("div",{className:"mb-4 border p-4 rounded-lg shadow-sm",children:[o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Автор:"}),o.jsx("input",{type:"text",value:d.author,onChange:x=>h(g,"author",x.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Рейтинг:"}),o.jsx("input",{type:"number",value:d.rating,onChange:x=>h(g,"rating",parseInt(x.target.value)),className:"w-full p-2 border rounded-md mb-2",min:"1",max:"5"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Комментарий:"}),o.jsx("textarea",{value:d.comment,onChange:x=>h(g,"comment",x.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsx("button",{onClick:()=>f(g),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Удалить отзыв"})]},d.id)),o.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Добавить отзыв"}),o.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить Отзывы"})]})},Gc=()=>o.jsxs(o.Fragment,{children:[o.jsx(Wc,{}),o.jsx(Le,{to:"/",className:"fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"})]}),Kc=()=>{const[s,e]=q.useState(Ql),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/contact-us/contact-us.json",a=(u,f)=>{e(m=>({...m,data:{...m.data,[u]:f}}))},h=async()=>{console.log("Обновленные данные:",JSON.stringify(s,null,2));try{i(!0);const f=(await We(l)).sha,m=JSON.stringify(s,null,2);await Ge(l,"Update contact-us.json",m,f),i(!1),alert("Контактная информация успешно обновлена!")}catch(u){i(!1),n(u.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор контактной информации"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsx("div",{className:"mb-6",children:Object.keys(s.data).map(u=>{const f=s.data[u],m=typeof f=="boolean"||f==="true"||f==="false";return o.jsxs("label",{className:"block mb-4",children:[o.jsxs("span",{className:"font-semibold block mb-1",children:[s.labels[u]||u,":"]}),m?o.jsx("input",{type:"checkbox",checked:f===!0||f==="true",onChange:d=>a(u,d.target.checked),className:"mr-2"}):o.jsx("input",{type:"text",value:f,onChange:d=>a(u,d.target.value),className:"w-full p-2 border rounded-md"})]},u)})}),o.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить информацию"})]})},Jc="Рекламируйте товары или услуги, меняйте контент под любую нишу, даже когда реклама уже в деле!",Vc="В комплект поставки входят CMS. В нем использованы лучшие компоненты самых современных инструментов и добавлены собственные инновации.",Qc=[{title:"Используйте свой CMS",description:"Создавайте сайт без программистов, или добавьте веб-компоненты простого HTML.",icon:"bx:bxs-briefcase"},{title:"100% статичный HTML, без JS",description:"Этот сайт рендерит всю страницу в статичный HTML, по умолчанию исключая весь JavaScript из итоговой сборки.",icon:"bx:bxs-window-alt"},{title:"Компоненты по требованию",description:"Нужен JS? Сайт может автоматически оживлять интерактивные компоненты, когда они становятся видимыми на странице.",icon:"bx:bxs-data"},{title:"Широкая интеграция",description:"Сайт поддерживает TypeScript, Scoped CSS, CSS Modules, Sass, Tailwind, Markdown, MDX и любые другие npm-пакеты.",icon:"bx:bxs-bot"},{title:"SEO-оптимизация",description:"Автоматические карты сайта, RSS-ленты, пагинация и коллекции упрощают SEO и распространение. Просто работает!",icon:"bx:bxs-file-find"},{title:"Сообщество",description:"Buildberries — это проект, который планируется поддерживается сотнями участников, создающих тысячи индивидуальных вкладов.",icon:"bx:bxs-user"}],ro={title:Jc,subtitle:Vc,items:Qc},Zc=()=>{const[s,e]=q.useState(ro),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/features/features.json";q.useEffect(()=>{e(ro)},[]);const a=(d,g)=>{e(x=>({...x,[d]:g}))},h=(d,g,x)=>{const y=[...s.items];y[d]={...y[d],[g]:x},e(T=>({...T,items:y}))},u=()=>{e(d=>({...d,items:[...d.items,{title:"",description:"",icon:""}]}))},f=d=>{const g=s.items.filter((x,y)=>y!==d);e(x=>({...x,items:g}))},m=async()=>{console.log("Обновленные данные:",JSON.stringify(s,null,2));try{i(!0);const g=(await We(l)).sha,x=JSON.stringify(s,null,2);await Ge(l,"Update features.json",x,g),i(!1),alert("Features успешно обновлены!")}catch(d){i(!1),n(d.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор Features"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок:"}),o.jsx("input",{type:"text",value:s.title,onChange:d=>a("title",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Подзаголовок:"}),o.jsx("input",{type:"text",value:s.subtitle,onChange:d=>a("subtitle",d.target.value),className:"w-full p-2 border rounded-md mb-2"})]})]}),o.jsx("h3",{className:"text-xl font-semibold mt-6 mb-4",children:"Список карточек"}),s.items.map((d,g)=>o.jsxs("div",{className:"mb-4 border p-4 rounded-md bg-gray-100",children:[o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок карточки:"}),o.jsx("input",{type:"text",value:d.title,onChange:x=>h(g,"title",x.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Описание карточки:"}),o.jsx("textarea",{value:d.description,onChange:x=>h(g,"description",x.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Иконка (код):"}),o.jsx("input",{type:"text",value:d.icon,onChange:x=>h(g,"icon",x.target.value),className:"w-full p-2 border rounded-md mb-2",placeholder:"Введите код иконки (например, bx:bxs-briefcase)"})]}),o.jsx("button",{onClick:()=>f(g),className:"text-red-500 mt-2 underline",children:"Удалить карточку"})]},g)),o.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Добавить карточку"}),o.jsx("button",{onClick:m,className:"mt-4 ml-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить Features"})]})},Yc=()=>o.jsxs(o.Fragment,{children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx(Zc,{})]}),Xc=()=>{const[s,e]=q.useState(ut),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/hero/hero.json";q.useEffect(()=>{e(ut)},[]);const a=(u,f)=>{e(m=>({...m,[u]:f}))},h=async()=>{try{i(!0);const f=(await We(l)).sha,m=JSON.stringify(s,null,2);await Ge(l,"Update hero.json",m,f),i(!1),alert("Hero успешно обновлен!")}catch(u){i(!1),n(u.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор Hero"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок:"}),o.jsx("input",{type:"text",value:s.title,onChange:u=>a("title",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Подзаголовок:"}),o.jsx("textarea",{value:s.subtitle,onChange:u=>a("subtitle",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsx("h3",{className:"text-xl font-semibold mt-6 mb-4",children:"Настройки кнопок"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"font-semibold",children:"Кнопка 1"}),o.jsxs("label",{className:"block mb-2",children:["Текст:",o.jsx("input",{type:"text",value:s.button_one,onChange:u=>a("button_one",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:["Фон:",o.jsx("input",{type:"color",value:s.bgBtnOne,onChange:u=>a("bgBtnOne",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:["Цвет текста:",o.jsx("input",{type:"color",value:s.colorBtnOne,onChange:u=>a("colorBtnOne",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"flex items-center mb-4",children:[o.jsx("input",{type:"checkbox",checked:s.isActiveBtnOne,onChange:u=>a("isActiveBtnOne",u.target.checked),className:"mr-2"}),"Активна"]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"font-semibold",children:"Кнопка 2"}),o.jsxs("label",{className:"block mb-2",children:["Текст:",o.jsx("input",{type:"text",value:s.button_two,onChange:u=>a("button_two",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:["Фон:",o.jsx("input",{type:"color",value:s.bgBtnTwo,onChange:u=>a("bgBtnTwo",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:["Цвет текста:",o.jsx("input",{type:"color",value:s.colorBtnTwo,onChange:u=>a("colorBtnTwo",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"flex items-center mb-4",children:[o.jsx("input",{type:"checkbox",checked:s.isActiveBtnTwo,onChange:u=>a("isActiveBtnTwo",u.target.checked),className:"mr-2"}),"Активна"]})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Закругление изображения:"}),o.jsx("input",{type:"checkbox",checked:s.isRoundedMainImg,onChange:u=>a("isRoundedMainImg",u.target.checked),className:"mr-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Черно-белое изображение:"}),o.jsx("input",{type:"checkbox",checked:s.isBlackAndWhitePhoto,onChange:u=>a("isBlackAndWhitePhoto",u.target.checked),className:"mr-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Изображение фоном:"}),o.jsx("input",{type:"checkbox",checked:s.isHeroBackgroundImg,onChange:u=>a("isHeroBackgroundImg",u.target.checked),className:"mr-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Цвет текста главного экрана:"}),o.jsx("input",{type:"color",value:s.colorTextIsBackgroundImg,onChange:u=>a("colorTextIsBackgroundImg",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Дополнительный раздел:"}),o.jsx("input",{type:"checkbox",checked:s.isCustomHero,onChange:u=>a("isCustomHero",u.target.checked),className:"mr-2"})]}),o.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить Hero"})]})},eu=()=>o.jsxs(o.Fragment,{children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx(Xc,{})]}),tu=()=>{const[s,e]=q.useState({...fn,numberYandexMetric:Number(fn.numberYandexMetric),numberGoogleMetric:Number(fn.numberGoogleMetric)}),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/seo/seo-data-site.json";q.useEffect(()=>{e({...fn,numberYandexMetric:Number(fn.numberYandexMetric),numberGoogleMetric:Number(fn.numberGoogleMetric)})},[]);const a=(u,f)=>{e(m=>({...m,[u]:u==="numberYandexMetric"||u==="numberGoogleMetric"?Number(f):f}))},h=async()=>{try{i(!0);const f=(await We(l)).sha,m=JSON.stringify(s,null,2);await Ge(l,"Update seo-data-site.json",m,f),i(!1),alert("SEO данные успешно обновлены!")}catch(u){i(!1),n(u.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор SEO данных"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Локализация сайта ru/en:"}),o.jsx("input",{type:"text",value:s.lang,onChange:u=>a("lang",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"HTTPS-ссылка сайта:"}),o.jsx("input",{type:"text",value:s.siteHTTPS,onChange:u=>a("siteHTTPS",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Название сайта:"}),o.jsx("input",{type:"text",value:s.SITE_TITLE,onChange:u=>a("SITE_TITLE",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Описание сайта:"}),o.jsx("textarea",{value:s.SITE_DESCRIPTION,onChange:u=>a("SITE_DESCRIPTION",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Имя изображения OpenGraph:"}),o.jsx("input",{type:"text",value:s.nameImgOpengraph,onChange:u=>a("nameImgOpengraph",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Название сайта по умолчанию:"}),o.jsx("input",{type:"text",value:s.titleSiteDefault,onChange:u=>a("titleSiteDefault",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Twitter Creator:"}),o.jsx("input",{type:"text",value:s.twitterCreator,onChange:u=>a("twitterCreator",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Twitter Site:"}),o.jsx("input",{type:"text",value:s.twitterSite,onChange:u=>a("twitterSite",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Twitter Card:"}),o.jsx("input",{type:"text",value:s.twitterCard,onChange:u=>a("twitterCard",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Метрика Яндекс:"}),o.jsx("input",{type:"number",value:s.numberYandexMetric,onChange:u=>a("numberYandexMetric",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Метрика Google:"}),o.jsx("input",{type:"number",value:s.numberGoogleMetric,onChange:u=>a("numberGoogleMetric",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Ключевые слова:"}),o.jsx("input",{type:"text",value:s.seoKeywords,onChange:u=>a("seoKeywords",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить SEO данные"})]})},nu=()=>o.jsxs(o.Fragment,{children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx(tu,{})]}),su=()=>o.jsxs(o.Fragment,{children:[o.jsx("div",{className:" fixed top-0 left-0 right-0 bottom-0 bg-black bg-opacity-50 "}),o.jsx("div",{className:"z-20 fixed pt-24 top-0 left-0 right-0 bottom-0 flex justify-center items-center  p-4",children:o.jsxs("div",{className:"w-full max-w-4xl h-full overflow-y-auto bg-white rounded-lg shadow-lg p-6",children:[o.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:[o.jsx("p",{className:"text-3xl font-bold",children:"Редактор страниц"}),o.jsx("p",{className:"text-lg",children:"Это простой редактор страниц. Если у вас уже добавлены страницы в формате HTML, то перейдите по кнопке или добавьте HTML, иначе все будет заменено простым текстом."})]}),o.jsx("hr",{}),o.jsx(ja,{})]})})]});var qa=typeof global=="object"&&global&&global.Object===Object&&global,ru=typeof self=="object"&&self&&self.Object===Object&&self,ft=qa||ru||Function("return this")(),kt=ft.Symbol,Ra=Object.prototype,iu=Ra.hasOwnProperty,ou=Ra.toString,Wn=kt?kt.toStringTag:void 0;function au(s){var e=iu.call(s,Wn),t=s[Wn];try{s[Wn]=void 0;var n=!0}catch{}var r=ou.call(s);return n&&(e?s[Wn]=t:delete s[Wn]),r}var lu=Object.prototype,cu=lu.toString;function uu(s){return cu.call(s)}var du="[object Null]",hu="[object Undefined]",io=kt?kt.toStringTag:void 0;function jn(s){return s==null?s===void 0?hu:du:io&&io in Object(s)?au(s):uu(s)}function vt(s){return s!=null&&typeof s=="object"}var zt=Array.isArray;function qt(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}function Ia(s){return s}var fu="[object AsyncFunction]",pu="[object Function]",mu="[object GeneratorFunction]",gu="[object Proxy]";function ki(s){if(!qt(s))return!1;var e=jn(s);return e==pu||e==mu||e==fu||e==gu}var Kr=ft["__core-js_shared__"],oo=function(){var s=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function bu(s){return!!oo&&oo in s}var xu=Function.prototype,yu=xu.toString;function Jt(s){if(s!=null){try{return yu.call(s)}catch{}try{return s+""}catch{}}return""}var vu=/[\\^$.*+?()[\]{}|]/g,Nu=/^\[object .+?Constructor\]$/,wu=Function.prototype,Eu=Object.prototype,Tu=wu.toString,Cu=Eu.hasOwnProperty,Au=RegExp("^"+Tu.call(Cu).replace(vu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ju(s){if(!qt(s)||bu(s))return!1;var e=ki(s)?Au:Nu;return e.test(Jt(s))}function Su(s,e){return s?.[e]}function Vt(s,e){var t=Su(s,e);return ju(t)?t:void 0}var pi=Vt(ft,"WeakMap"),ao=Object.create,_u=function(){function s(){}return function(e){if(!qt(e))return{};if(ao)return ao(e);s.prototype=e;var t=new s;return s.prototype=void 0,t}}();function Ou(s,e,t){switch(t.length){case 0:return s.call(e);case 1:return s.call(e,t[0]);case 2:return s.call(e,t[0],t[1]);case 3:return s.call(e,t[0],t[1],t[2])}return s.apply(e,t)}function Lu(s,e){var t=-1,n=s.length;for(e||(e=Array(n));++t<n;)e[t]=s[t];return e}var ku=800,qu=16,Ru=Date.now;function Iu(s){var e=0,t=0;return function(){var n=Ru(),r=qu-(n-t);if(t=n,r>0){if(++e>=ku)return arguments[0]}else e=0;return s.apply(void 0,arguments)}}function Fu(s){return function(){return s}}var Ws=function(){try{var s=Vt(Object,"defineProperty");return s({},"",{}),s}catch{}}(),Bu=Ws?function(s,e){return Ws(s,"toString",{configurable:!0,enumerable:!1,value:Fu(e),writable:!0})}:Ia,Mu=Iu(Bu);function Pu(s,e){for(var t=-1,n=s==null?0:s.length;++t<n&&e(s[t],t,s)!==!1;);return s}var Du=9007199254740991,Uu=/^(?:0|[1-9]\d*)$/;function Fa(s,e){var t=typeof s;return e=e??Du,!!e&&(t=="number"||t!="symbol"&&Uu.test(s))&&s>-1&&s%1==0&&s<e}function qi(s,e,t){e=="__proto__"&&Ws?Ws(s,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):s[e]=t}function is(s,e){return s===e||s!==s&&e!==e}var $u=Object.prototype,Hu=$u.hasOwnProperty;function Ba(s,e,t){var n=s[e];(!(Hu.call(s,e)&&is(n,t))||t===void 0&&!(e in s))&&qi(s,e,t)}function zu(s,e,t,n){var r=!t;t||(t={});for(var i=-1,l=e.length;++i<l;){var a=e[i],h=void 0;h===void 0&&(h=s[a]),r?qi(t,a,h):Ba(t,a,h)}return t}var lo=Math.max;function Wu(s,e,t){return e=lo(e===void 0?s.length-1:e,0),function(){for(var n=arguments,r=-1,i=lo(n.length-e,0),l=Array(i);++r<i;)l[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=t(l),Ou(s,this,a)}}function Gu(s,e){return Mu(Wu(s,e,Ia),s+"")}var Ku=9007199254740991;function Ma(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Ku}function Ys(s){return s!=null&&Ma(s.length)&&!ki(s)}function Ju(s,e,t){if(!qt(t))return!1;var n=typeof e;return(n=="number"?Ys(t)&&Fa(e,t.length):n=="string"&&e in t)?is(t[e],s):!1}function Vu(s){return Gu(function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,l=r>2?t[2]:void 0;for(i=s.length>3&&typeof i=="function"?(r--,i):void 0,l&&Ju(t[0],t[1],l)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e})}var Qu=Object.prototype;function Ri(s){var e=s&&s.constructor,t=typeof e=="function"&&e.prototype||Qu;return s===t}function Zu(s,e){for(var t=-1,n=Array(s);++t<s;)n[t]=e(t);return n}var Yu="[object Arguments]";function co(s){return vt(s)&&jn(s)==Yu}var Pa=Object.prototype,Xu=Pa.hasOwnProperty,ed=Pa.propertyIsEnumerable,mi=co(function(){return arguments}())?co:function(s){return vt(s)&&Xu.call(s,"callee")&&!ed.call(s,"callee")};function td(){return!1}var Da=typeof exports=="object"&&exports&&!exports.nodeType&&exports,uo=Da&&typeof module=="object"&&module&&!module.nodeType&&module,nd=uo&&uo.exports===Da,ho=nd?ft.Buffer:void 0,sd=ho?ho.isBuffer:void 0,Xn=sd||td,rd="[object Arguments]",id="[object Array]",od="[object Boolean]",ad="[object Date]",ld="[object Error]",cd="[object Function]",ud="[object Map]",dd="[object Number]",hd="[object Object]",fd="[object RegExp]",pd="[object Set]",md="[object String]",gd="[object WeakMap]",bd="[object ArrayBuffer]",xd="[object DataView]",yd="[object Float32Array]",vd="[object Float64Array]",Nd="[object Int8Array]",wd="[object Int16Array]",Ed="[object Int32Array]",Td="[object Uint8Array]",Cd="[object Uint8ClampedArray]",Ad="[object Uint16Array]",jd="[object Uint32Array]",he={};he[yd]=he[vd]=he[Nd]=he[wd]=he[Ed]=he[Td]=he[Cd]=he[Ad]=he[jd]=!0;he[rd]=he[id]=he[bd]=he[od]=he[xd]=he[ad]=he[ld]=he[cd]=he[ud]=he[dd]=he[hd]=he[fd]=he[pd]=he[md]=he[gd]=!1;function Sd(s){return vt(s)&&Ma(s.length)&&!!he[jn(s)]}function Ii(s){return function(e){return s(e)}}var Ua=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zn=Ua&&typeof module=="object"&&module&&!module.nodeType&&module,_d=Zn&&Zn.exports===Ua,Jr=_d&&qa.process,Cn=function(){try{var s=Zn&&Zn.require&&Zn.require("util").types;return s||Jr&&Jr.binding&&Jr.binding("util")}catch{}}(),fo=Cn&&Cn.isTypedArray,Fi=fo?Ii(fo):Sd,Od=Object.prototype,Ld=Od.hasOwnProperty;function $a(s,e){var t=zt(s),n=!t&&mi(s),r=!t&&!n&&Xn(s),i=!t&&!n&&!r&&Fi(s),l=t||n||r||i,a=l?Zu(s.length,String):[],h=a.length;for(var u in s)(e||Ld.call(s,u))&&!(l&&(u=="length"||r&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Fa(u,h)))&&a.push(u);return a}function Ha(s,e){return function(t){return s(e(t))}}var kd=Ha(Object.keys,Object),qd=Object.prototype,Rd=qd.hasOwnProperty;function Id(s){if(!Ri(s))return kd(s);var e=[];for(var t in Object(s))Rd.call(s,t)&&t!="constructor"&&e.push(t);return e}function Fd(s){return Ys(s)?$a(s):Id(s)}function Bd(s){var e=[];if(s!=null)for(var t in Object(s))e.push(t);return e}var Md=Object.prototype,Pd=Md.hasOwnProperty;function Dd(s){if(!qt(s))return Bd(s);var e=Ri(s),t=[];for(var n in s)n=="constructor"&&(e||!Pd.call(s,n))||t.push(n);return t}function za(s){return Ys(s)?$a(s,!0):Dd(s)}var es=Vt(Object,"create");function Ud(){this.__data__=es?es(null):{},this.size=0}function $d(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e}var Hd="__lodash_hash_undefined__",zd=Object.prototype,Wd=zd.hasOwnProperty;function Gd(s){var e=this.__data__;if(es){var t=e[s];return t===Hd?void 0:t}return Wd.call(e,s)?e[s]:void 0}var Kd=Object.prototype,Jd=Kd.hasOwnProperty;function Vd(s){var e=this.__data__;return es?e[s]!==void 0:Jd.call(e,s)}var Qd="__lodash_hash_undefined__";function Zd(s,e){var t=this.__data__;return this.size+=this.has(s)?0:1,t[s]=es&&e===void 0?Qd:e,this}function Wt(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}Wt.prototype.clear=Ud;Wt.prototype.delete=$d;Wt.prototype.get=Gd;Wt.prototype.has=Vd;Wt.prototype.set=Zd;function Yd(){this.__data__=[],this.size=0}function Xs(s,e){for(var t=s.length;t--;)if(is(s[t][0],e))return t;return-1}var Xd=Array.prototype,eh=Xd.splice;function th(s){var e=this.__data__,t=Xs(e,s);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():eh.call(e,t,1),--this.size,!0}function nh(s){var e=this.__data__,t=Xs(e,s);return t<0?void 0:e[t][1]}function sh(s){return Xs(this.__data__,s)>-1}function rh(s,e){var t=this.__data__,n=Xs(t,s);return n<0?(++this.size,t.push([s,e])):t[n][1]=e,this}function wt(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}wt.prototype.clear=Yd;wt.prototype.delete=th;wt.prototype.get=nh;wt.prototype.has=sh;wt.prototype.set=rh;var ts=Vt(ft,"Map");function ih(){this.size=0,this.__data__={hash:new Wt,map:new(ts||wt),string:new Wt}}function oh(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null}function er(s,e){var t=s.__data__;return oh(e)?t[typeof e=="string"?"string":"hash"]:t.map}function ah(s){var e=er(this,s).delete(s);return this.size-=e?1:0,e}function lh(s){return er(this,s).get(s)}function ch(s){return er(this,s).has(s)}function uh(s,e){var t=er(this,s),n=t.size;return t.set(s,e),this.size+=t.size==n?0:1,this}function Qt(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}Qt.prototype.clear=ih;Qt.prototype.delete=ah;Qt.prototype.get=lh;Qt.prototype.has=ch;Qt.prototype.set=uh;function dh(s,e){for(var t=-1,n=e.length,r=s.length;++t<n;)s[r+t]=e[t];return s}var Wa=Ha(Object.getPrototypeOf,Object),hh="[object Object]",fh=Function.prototype,ph=Object.prototype,Ga=fh.toString,mh=ph.hasOwnProperty,gh=Ga.call(Object);function bh(s){if(!vt(s)||jn(s)!=hh)return!1;var e=Wa(s);if(e===null)return!0;var t=mh.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ga.call(t)==gh}function xh(){this.__data__=new wt,this.size=0}function yh(s){var e=this.__data__,t=e.delete(s);return this.size=e.size,t}function vh(s){return this.__data__.get(s)}function Nh(s){return this.__data__.has(s)}var wh=200;function Eh(s,e){var t=this.__data__;if(t instanceof wt){var n=t.__data__;if(!ts||n.length<wh-1)return n.push([s,e]),this.size=++t.size,this;t=this.__data__=new Qt(n)}return t.set(s,e),this.size=t.size,this}function dt(s){var e=this.__data__=new wt(s);this.size=e.size}dt.prototype.clear=xh;dt.prototype.delete=yh;dt.prototype.get=vh;dt.prototype.has=Nh;dt.prototype.set=Eh;var Ka=typeof exports=="object"&&exports&&!exports.nodeType&&exports,po=Ka&&typeof module=="object"&&module&&!module.nodeType&&module,Th=po&&po.exports===Ka,mo=Th?ft.Buffer:void 0,go=mo?mo.allocUnsafe:void 0;function Ja(s,e){if(e)return s.slice();var t=s.length,n=go?go(t):new s.constructor(t);return s.copy(n),n}function Ch(s,e){for(var t=-1,n=s==null?0:s.length,r=0,i=[];++t<n;){var l=s[t];e(l,t,s)&&(i[r++]=l)}return i}function Ah(){return[]}var jh=Object.prototype,Sh=jh.propertyIsEnumerable,bo=Object.getOwnPropertySymbols,_h=bo?function(s){return s==null?[]:(s=Object(s),Ch(bo(s),function(e){return Sh.call(s,e)}))}:Ah;function Oh(s,e,t){var n=e(s);return zt(s)?n:dh(n,t(s))}function gi(s){return Oh(s,Fd,_h)}var bi=Vt(ft,"DataView"),xi=Vt(ft,"Promise"),yi=Vt(ft,"Set"),xo="[object Map]",Lh="[object Object]",yo="[object Promise]",vo="[object Set]",No="[object WeakMap]",wo="[object DataView]",kh=Jt(bi),qh=Jt(ts),Rh=Jt(xi),Ih=Jt(yi),Fh=Jt(pi),Ze=jn;(bi&&Ze(new bi(new ArrayBuffer(1)))!=wo||ts&&Ze(new ts)!=xo||xi&&Ze(xi.resolve())!=yo||yi&&Ze(new yi)!=vo||pi&&Ze(new pi)!=No)&&(Ze=function(s){var e=jn(s),t=e==Lh?s.constructor:void 0,n=t?Jt(t):"";if(n)switch(n){case kh:return wo;case qh:return xo;case Rh:return yo;case Ih:return vo;case Fh:return No}return e});var Bh=Object.prototype,Mh=Bh.hasOwnProperty;function Ph(s){var e=s.length,t=new s.constructor(e);return e&&typeof s[0]=="string"&&Mh.call(s,"index")&&(t.index=s.index,t.input=s.input),t}var Gs=ft.Uint8Array;function Bi(s){var e=new s.constructor(s.byteLength);return new Gs(e).set(new Gs(s)),e}function Dh(s,e){var t=Bi(s.buffer);return new s.constructor(t,s.byteOffset,s.byteLength)}var Uh=/\w*$/;function $h(s){var e=new s.constructor(s.source,Uh.exec(s));return e.lastIndex=s.lastIndex,e}var Eo=kt?kt.prototype:void 0,To=Eo?Eo.valueOf:void 0;function Hh(s){return To?Object(To.call(s)):{}}function Va(s,e){var t=e?Bi(s.buffer):s.buffer;return new s.constructor(t,s.byteOffset,s.length)}var zh="[object Boolean]",Wh="[object Date]",Gh="[object Map]",Kh="[object Number]",Jh="[object RegExp]",Vh="[object Set]",Qh="[object String]",Zh="[object Symbol]",Yh="[object ArrayBuffer]",Xh="[object DataView]",ef="[object Float32Array]",tf="[object Float64Array]",nf="[object Int8Array]",sf="[object Int16Array]",rf="[object Int32Array]",of="[object Uint8Array]",af="[object Uint8ClampedArray]",lf="[object Uint16Array]",cf="[object Uint32Array]";function uf(s,e,t){var n=s.constructor;switch(e){case Yh:return Bi(s);case zh:case Wh:return new n(+s);case Xh:return Dh(s);case ef:case tf:case nf:case sf:case rf:case of:case af:case lf:case cf:return Va(s,t);case Gh:return new n;case Kh:case Qh:return new n(s);case Jh:return $h(s);case Vh:return new n;case Zh:return Hh(s)}}function Qa(s){return typeof s.constructor=="function"&&!Ri(s)?_u(Wa(s)):{}}var df="[object Map]";function hf(s){return vt(s)&&Ze(s)==df}var Co=Cn&&Cn.isMap,ff=Co?Ii(Co):hf,pf="[object Set]";function mf(s){return vt(s)&&Ze(s)==pf}var Ao=Cn&&Cn.isSet,gf=Ao?Ii(Ao):mf,bf=1,Za="[object Arguments]",xf="[object Array]",yf="[object Boolean]",vf="[object Date]",Nf="[object Error]",Ya="[object Function]",wf="[object GeneratorFunction]",Ef="[object Map]",Tf="[object Number]",Xa="[object Object]",Cf="[object RegExp]",Af="[object Set]",jf="[object String]",Sf="[object Symbol]",_f="[object WeakMap]",Of="[object ArrayBuffer]",Lf="[object DataView]",kf="[object Float32Array]",qf="[object Float64Array]",Rf="[object Int8Array]",If="[object Int16Array]",Ff="[object Int32Array]",Bf="[object Uint8Array]",Mf="[object Uint8ClampedArray]",Pf="[object Uint16Array]",Df="[object Uint32Array]",de={};de[Za]=de[xf]=de[Of]=de[Lf]=de[yf]=de[vf]=de[kf]=de[qf]=de[Rf]=de[If]=de[Ff]=de[Ef]=de[Tf]=de[Xa]=de[Cf]=de[Af]=de[jf]=de[Sf]=de[Bf]=de[Mf]=de[Pf]=de[Df]=!0;de[Nf]=de[Ya]=de[_f]=!1;function Hs(s,e,t,n,r,i){var l,a=e&bf;if(l!==void 0)return l;if(!qt(s))return s;var h=zt(s);if(h)l=Ph(s);else{var u=Ze(s),f=u==Ya||u==wf;if(Xn(s))return Ja(s,a);if(u==Xa||u==Za||f&&!r)l=f?{}:Qa(s);else{if(!de[u])return r?s:{};l=uf(s,u,a)}}i||(i=new dt);var m=i.get(s);if(m)return m;i.set(s,l),gf(s)?s.forEach(function(x){l.add(Hs(x,e,t,x,s,i))}):ff(s)&&s.forEach(function(x,y){l.set(y,Hs(x,e,t,y,s,i))});var d=gi,g=h?void 0:d(s);return Pu(g||s,function(x,y){g&&(y=x,x=s[y]),Ba(l,y,Hs(x,e,t,y,s,i))}),l}var Uf=1,$f=4;function Nn(s){return Hs(s,Uf|$f)}var Hf="__lodash_hash_undefined__";function zf(s){return this.__data__.set(s,Hf),this}function Wf(s){return this.__data__.has(s)}function Ks(s){var e=-1,t=s==null?0:s.length;for(this.__data__=new Qt;++e<t;)this.add(s[e])}Ks.prototype.add=Ks.prototype.push=zf;Ks.prototype.has=Wf;function Gf(s,e){for(var t=-1,n=s==null?0:s.length;++t<n;)if(e(s[t],t,s))return!0;return!1}function Kf(s,e){return s.has(e)}var Jf=1,Vf=2;function el(s,e,t,n,r,i){var l=t&Jf,a=s.length,h=e.length;if(a!=h&&!(l&&h>a))return!1;var u=i.get(s),f=i.get(e);if(u&&f)return u==e&&f==s;var m=-1,d=!0,g=t&Vf?new Ks:void 0;for(i.set(s,e),i.set(e,s);++m<a;){var x=s[m],y=e[m];if(n)var T=l?n(y,x,m,e,s,i):n(x,y,m,s,e,i);if(T!==void 0){if(T)continue;d=!1;break}if(g){if(!Gf(e,function(j,L){if(!Kf(g,L)&&(x===j||r(x,j,t,n,i)))return g.push(L)})){d=!1;break}}else if(!(x===y||r(x,y,t,n,i))){d=!1;break}}return i.delete(s),i.delete(e),d}function Qf(s){var e=-1,t=Array(s.size);return s.forEach(function(n,r){t[++e]=[r,n]}),t}function Zf(s){var e=-1,t=Array(s.size);return s.forEach(function(n){t[++e]=n}),t}var Yf=1,Xf=2,ep="[object Boolean]",tp="[object Date]",np="[object Error]",sp="[object Map]",rp="[object Number]",ip="[object RegExp]",op="[object Set]",ap="[object String]",lp="[object Symbol]",cp="[object ArrayBuffer]",up="[object DataView]",jo=kt?kt.prototype:void 0,Vr=jo?jo.valueOf:void 0;function dp(s,e,t,n,r,i,l){switch(t){case up:if(s.byteLength!=e.byteLength||s.byteOffset!=e.byteOffset)return!1;s=s.buffer,e=e.buffer;case cp:return!(s.byteLength!=e.byteLength||!i(new Gs(s),new Gs(e)));case ep:case tp:case rp:return is(+s,+e);case np:return s.name==e.name&&s.message==e.message;case ip:case ap:return s==e+"";case sp:var a=Qf;case op:var h=n&Yf;if(a||(a=Zf),s.size!=e.size&&!h)return!1;var u=l.get(s);if(u)return u==e;n|=Xf,l.set(s,e);var f=el(a(s),a(e),n,r,i,l);return l.delete(s),f;case lp:if(Vr)return Vr.call(s)==Vr.call(e)}return!1}var hp=1,fp=Object.prototype,pp=fp.hasOwnProperty;function mp(s,e,t,n,r,i){var l=t&hp,a=gi(s),h=a.length,u=gi(e),f=u.length;if(h!=f&&!l)return!1;for(var m=h;m--;){var d=a[m];if(!(l?d in e:pp.call(e,d)))return!1}var g=i.get(s),x=i.get(e);if(g&&x)return g==e&&x==s;var y=!0;i.set(s,e),i.set(e,s);for(var T=l;++m<h;){d=a[m];var j=s[d],L=e[d];if(n)var B=l?n(L,j,d,e,s,i):n(j,L,d,s,e,i);if(!(B===void 0?j===L||r(j,L,t,n,i):B)){y=!1;break}T||(T=d=="constructor")}if(y&&!T){var D=s.constructor,I=e.constructor;D!=I&&"constructor"in s&&"constructor"in e&&!(typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I)&&(y=!1)}return i.delete(s),i.delete(e),y}var gp=1,So="[object Arguments]",_o="[object Array]",_s="[object Object]",bp=Object.prototype,Oo=bp.hasOwnProperty;function xp(s,e,t,n,r,i){var l=zt(s),a=zt(e),h=l?_o:Ze(s),u=a?_o:Ze(e);h=h==So?_s:h,u=u==So?_s:u;var f=h==_s,m=u==_s,d=h==u;if(d&&Xn(s)){if(!Xn(e))return!1;l=!0,f=!1}if(d&&!f)return i||(i=new dt),l||Fi(s)?el(s,e,t,n,r,i):dp(s,e,h,t,n,r,i);if(!(t&gp)){var g=f&&Oo.call(s,"__wrapped__"),x=m&&Oo.call(e,"__wrapped__");if(g||x){var y=g?s.value():s,T=x?e.value():e;return i||(i=new dt),r(y,T,t,n,i)}}return d?(i||(i=new dt),mp(s,e,t,n,r,i)):!1}function tl(s,e,t,n,r){return s===e?!0:s==null||e==null||!vt(s)&&!vt(e)?s!==s&&e!==e:xp(s,e,t,n,tl,r)}function yp(s){return function(e,t,n){for(var r=-1,i=Object(e),l=n(e),a=l.length;a--;){var h=l[++r];if(t(i[h],h,i)===!1)break}return e}}var vp=yp();function vi(s,e,t){(t!==void 0&&!is(s[e],t)||t===void 0&&!(e in s))&&qi(s,e,t)}function Np(s){return vt(s)&&Ys(s)}function Ni(s,e){if(!(e==="constructor"&&typeof s[e]=="function")&&e!="__proto__")return s[e]}function wp(s){return zu(s,za(s))}function Ep(s,e,t,n,r,i,l){var a=Ni(s,t),h=Ni(e,t),u=l.get(h);if(u){vi(s,t,u);return}var f=i?i(a,h,t+"",s,e,l):void 0,m=f===void 0;if(m){var d=zt(h),g=!d&&Xn(h),x=!d&&!g&&Fi(h);f=h,d||g||x?zt(a)?f=a:Np(a)?f=Lu(a):g?(m=!1,f=Ja(h,!0)):x?(m=!1,f=Va(h,!0)):f=[]:bh(h)||mi(h)?(f=a,mi(a)?f=wp(a):(!qt(a)||ki(a))&&(f=Qa(h))):m=!1}m&&(l.set(h,f),r(f,h,n,i,l),l.delete(h)),vi(s,t,f)}function nl(s,e,t,n,r){s!==e&&vp(e,function(i,l){if(r||(r=new dt),qt(i))Ep(s,e,l,t,nl,n,r);else{var a=n?n(Ni(s,l),i,l+"",s,e,r):void 0;a===void 0&&(a=i),vi(s,l,a)}},za)}function Mi(s,e){return tl(s,e)}var Ot=Vu(function(s,e,t){nl(s,e,t)}),z=(s=>(s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY",s))(z||{});class ht{constructor(e,t,n={}){this.attrName=e,this.keyName=t;const r=z.TYPE&z.ATTRIBUTE;this.scope=n.scope!=null?n.scope&z.LEVEL|r:z.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class wn extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const sl=class wi{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,t)}return null}create(e,t,n){const r=this.query(t);if(r==null)throw new wn(`Unable to create ${t} blot`);const i=r,l=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:i.create(n),a=new i(e,l,n);return wi.blots.set(a.domNode,a),a}find(e,t=!1){return wi.find(e,t)}query(e,t=z.ANY){let n;return typeof e=="string"?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:typeof e=="number"?e&z.LEVEL&z.BLOCK?n=this.types.block:e&z.LEVEL&z.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(r=>(n=this.classes[r],!!n)),n=n||this.tags[e.tagName]),n==null?null:"scope"in n&&t&z.LEVEL&n.scope&&t&z.TYPE&n.scope?n:null}register(...e){return e.map(t=>{const n="blotName"in t,r="attrName"in t;if(!n&&!r)throw new wn("Invalid definition");if(n&&t.blotName==="abstract")throw new wn("Cannot register abstract class");const i=n?t.blotName:r?t.attrName:void 0;return this.types[i]=t,r?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):n&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(l=>l.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(l=>{(this.tags[l]==null||t.className==null)&&(this.tags[l]=t)}))),t})}};sl.blots=new WeakMap;let An=sl;function Lo(s,e){return(s.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class Tp extends ht{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){Lo(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(Lo(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const nt=Tp;function Qr(s){const e=s.split("-"),t=e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return e[0]+t}class Cp extends ht{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Qr(this.keyName)]=t,!0):!1}remove(e){e.style[Qr(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Qr(this.keyName)];return this.canAdd(e,t)?t:""}}const Rt=Cp;class Ap{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=An.find(this.domNode);if(e==null)return;const t=ht.keys(this.domNode),n=nt.keys(this.domNode),r=Rt.keys(this.domNode);t.concat(n).concat(r).forEach(i=>{const l=e.scroll.query(i,z.ATTRIBUTE);l instanceof ht&&(this.attributes[l.attrName]=l)})}copy(e){Object.keys(this.attributes).forEach(t=>{const n=this.attributes[t].value(this.domNode);e.format(t,n)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const tr=Ap,rl=class{constructor(e,t){this.scroll=e,this.domNode=t,An.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new wn("Blot definition missing tagName");let t,n;return Array.isArray(this.tagName)?(typeof e=="string"?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof e=="number"&&(n=e),typeof n=="number"?t=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?t=document.createElement(n):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),An.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,n,r){const i=this.isolate(e,t);if(this.scroll.query(n,z.BLOT)!=null&&r)i.wrap(n,r);else if(this.scroll.query(n,z.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);i.wrap(l),l.format(n,r)}}insertAt(e,t,n){const r=n==null?this.scroll.create("text",t):this.scroll.create(t,n),i=this.split(e);this.parent.insertBefore(r,i||void 0)}isolate(e,t){const n=this.split(e);if(n==null)throw new Error("Attempt to isolate at end");return n.split(t),n}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const n=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const n=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new wn(`Cannot wrap ${e}`);return n.appendChild(this),n}};rl.blotName="abstract";let il=rl;const ol=class extends il{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};ol.scope=z.INLINE_BLOT;let jp=ol;const Ce=jp;class Sp{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let n=t();for(;n&&e>0;)e-=1,n=t();return n}contains(e){const t=this.iterator();let n=t();for(;n;){if(n===e)return!0;n=t()}return!1}indexOf(e){const t=this.iterator();let n=t(),r=0;for(;n;){if(n===e)return r;r+=1,n=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,n=this.head;for(;n!=null;){if(n===e)return t;t+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const n=this.iterator();let r=n();for(;r;){const i=r.length();if(e<i||t&&e===i&&(r.next==null||r.next.length()!==0))return[r,e];e-=i,r=n()}return[null,0]}forEach(e){const t=this.iterator();let n=t();for(;n;)e(n),n=t()}forEachAt(e,t,n){if(t<=0)return;const[r,i]=this.find(e);let l=e-i;const a=this.iterator(r);let h=a();for(;h&&l<e+t;){const u=h.length();e>l?n(h,e-l,Math.min(t,l+u-e)):n(h,0,Math.min(u,e+t-l)),l+=u,h=a()}}map(e){return this.reduce((t,n)=>(t.push(e(n)),t),[])}reduce(e,t){const n=this.iterator();let r=n();for(;r;)t=e(t,r),r=n();return t}}function ko(s,e){const t=e.find(s);if(t)return t;try{return e.create(s)}catch{const n=e.create(z.INLINE);return Array.from(s.childNodes).forEach(r=>{n.domNode.appendChild(r)}),s.parentNode&&s.parentNode.replaceChild(n.domNode,s),n.attach(),n}}const al=class jt extends il{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,jt.uiClass&&this.uiNode.classList.add(jt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Sp,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=ko(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof wn)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(n,r,i)=>{n.deleteAt(r,i)})}descendant(e,t=0){const[n,r]=this.children.find(t);return e.blotName==null&&e(n)||e.blotName!=null&&n instanceof e?[n,r]:n instanceof jt?n.descendant(e,r):[null,-1]}descendants(e,t=0,n=Number.MAX_VALUE){let r=[],i=n;return this.children.forEachAt(t,n,(l,a,h)=>{(e.blotName==null&&e(l)||e.blotName!=null&&l instanceof e)&&r.push(l),l instanceof jt&&(r=r.concat(l.descendants(e,a,i))),i-=h}),r}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(n=>t instanceof n)||(t.statics.scope===z.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof jt?t.unwrap():t.remove())})}formatAt(e,t,n,r){this.children.forEachAt(e,t,(i,l,a)=>{i.formatAt(l,a,n,r)})}insertAt(e,t,n){const[r,i]=this.children.find(e);if(r)r.insertAt(i,t,n);else{const l=n==null?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(l)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(n=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(n=>{e.insertBefore(n,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[n,r]=this.children.find(e,t),i=[[this,e]];return n instanceof jt?i.concat(n.path(r,t)):(n!=null&&i.push([n,r]),i)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const n=typeof e=="string"?this.scroll.create(e,t):e;return n instanceof jt&&this.moveChildren(n),super.replaceWith(n)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(r,i,l)=>{const a=r.split(i,t);a!=null&&n.appendChild(a)}),n}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const n=[],r=[];e.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),r.push(...i.removedNodes))}),r.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(i);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,l)=>i===l?0:i.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let l=null;i.nextSibling!=null&&(l=this.scroll.find(i.nextSibling));const a=ko(i,this.scroll);(a.next!==l||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,l||void 0))}),this.enforceAllowedChildren()}};al.uiClass="";let _p=al;const et=_p;function Op(s,e){if(Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}const gn=class bn extends et{static create(e){return super.create(e)}static formats(e,t){const n=t.query(bn.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new tr(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(n=>{n instanceof bn||(n=n.wrap(bn.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(e,z.INLINE);if(n==null)return;n instanceof ht?this.attributes.attribute(n,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,r){this.formats()[n]!=null||this.scroll.query(n,z.ATTRIBUTE)?this.isolate(e,t).format(n,r):super.formatAt(e,t,n,r)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const n=this.next;n instanceof bn&&n.prev===this&&Op(t,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(e,t){const n=super.wrap(e,t);return n instanceof bn&&this.attributes.move(n),n}};gn.allowedChildren=[gn,Ce],gn.blotName="inline",gn.scope=z.INLINE_BLOT,gn.tagName="SPAN";let Lp=gn;const Pi=Lp,xn=class Ei extends et{static create(e){return super.create(e)}static formats(e,t){const n=t.query(Ei.blotName);if(!(n!=null&&e.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new tr(this.domNode)}format(e,t){const n=this.scroll.query(e,z.BLOCK);n!=null&&(n instanceof ht?this.attributes.attribute(n,t):e===this.statics.blotName&&!t?this.replaceWith(Ei.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,r){this.scroll.query(n,z.BLOCK)!=null?this.format(n,r):super.formatAt(e,t,n,r)}insertAt(e,t,n){if(n==null||this.scroll.query(t,z.INLINE)!=null)super.insertAt(e,t,n);else{const r=this.split(e);if(r!=null){const i=this.scroll.create(t,n);r.parent.insertBefore(i,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};xn.blotName="block",xn.scope=z.BLOCK_BLOT,xn.tagName="P",xn.allowedChildren=[Pi,xn,Ce];let kp=xn;const ns=kp,Ti=class extends et{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,n,r){super.formatAt(e,t,n,r),this.enforceAllowedChildren()}insertAt(e,t,n){super.insertAt(e,t,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Ti.blotName="container",Ti.scope=z.BLOCK_BLOT;let qp=Ti;const nr=qp;class Rp extends Ce{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,n,r){e===0&&t===this.length()?this.format(n,r):super.formatAt(e,t,n,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Re=Rp,Ip={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Fp=100,yn=class extends et{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,Ip),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e,t=z.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(e,t)}formatAt(e,t,n,r){this.update(),super.formatAt(e,t,n,r)}insertAt(e,t,n){this.update(),super.insertAt(e,t,n)}optimize(e=[],t={}){super.optimize(t);const n=t.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)e.push(r.pop());const i=(h,u=!0)=>{h==null||h===this||h.domNode.parentNode!=null&&(n.has(h.domNode)||n.set(h.domNode,[]),u&&i(h.parent))},l=h=>{n.has(h.domNode)&&(h instanceof et&&h.children.forEach(l),n.delete(h.domNode),h.optimize(t))};let a=e;for(let h=0;a.length>0;h+=1){if(h>=Fp)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(u=>{const f=this.find(u.target,!0);f!=null&&(f.domNode===u.target&&(u.type==="childList"?(i(this.find(u.previousSibling,!1)),Array.from(u.addedNodes).forEach(m=>{const d=this.find(m,!1);i(d,!1),d instanceof et&&d.children.forEach(g=>{i(g,!1)})})):u.type==="attributes"&&i(f.prev)),i(f))}),this.children.forEach(l),a=Array.from(this.observer.takeRecords()),r=a.slice();r.length>0;)e.push(r.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const n=new WeakMap;e.map(r=>{const i=this.find(r.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(r),null):(n.set(i.domNode,[r]),i)}).forEach(r=>{r!=null&&r!==this&&n.has(r.domNode)&&r.update(n.get(r.domNode)||[],t)}),t.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),t),this.optimize(e,t)}};yn.blotName="scroll",yn.defaultChild=ns,yn.allowedChildren=[ns,nr],yn.scope=z.BLOCK_BLOT,yn.tagName="DIV";let Bp=yn;const Di=Bp,Ci=class ll extends Ce{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,n){n==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,n)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof ll&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,t){e.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Ci.blotName="text",Ci.scope=z.INLINE_BLOT;let Mp=Ci;const Js=Mp,Pp=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ht,AttributorStore:tr,BlockBlot:ns,ClassAttributor:nt,ContainerBlot:nr,EmbedBlot:Re,InlineBlot:Pi,LeafBlot:Ce,ParentBlot:et,Registry:An,Scope:z,ScrollBlot:Di,StyleAttributor:Rt,TextBlot:Js},Symbol.toStringTag,{value:"Module"}));var Os={exports:{}},Zr,qo;function Dp(){if(qo)return Zr;qo=1;var s=-1,e=1,t=0;function n(b,E,w,A,C){if(b===E)return b?[[t,b]]:[];if(w!=null){var S=F(b,E,w);if(S)return S}var N=a(b,E),k=b.substring(0,N);b=b.substring(N),E=E.substring(N),N=u(b,E);var M=b.substring(b.length-N);b=b.substring(0,b.length-N),E=E.substring(0,E.length-N);var R=r(b,E);return k&&R.unshift([t,k]),M&&R.push([t,M]),L(R,C),A&&m(R),R}function r(b,E){var w;if(!b)return[[e,E]];if(!E)return[[s,b]];var A=b.length>E.length?b:E,C=b.length>E.length?E:b,S=A.indexOf(C);if(S!==-1)return w=[[e,A.substring(0,S)],[t,C],[e,A.substring(S+C.length)]],b.length>E.length&&(w[0][0]=w[2][0]=s),w;if(C.length===1)return[[s,b],[e,E]];var N=f(b,E);if(N){var k=N[0],M=N[1],R=N[2],U=N[3],K=N[4],V=n(k,R),Z=n(M,U);return V.concat([[t,K]],Z)}return i(b,E)}function i(b,E){for(var w=b.length,A=E.length,C=Math.ceil((w+A)/2),S=C,N=2*C,k=new Array(N),M=new Array(N),R=0;R<N;R++)k[R]=-1,M[R]=-1;k[S+1]=0,M[S+1]=0;for(var U=w-A,K=U%2!==0,V=0,Z=0,G=0,le=0,ue=0;ue<C;ue++){for(var Y=-ue+V;Y<=ue-Z;Y+=2){var se=S+Y,ne;Y===-ue||Y!==ue&&k[se-1]<k[se+1]?ne=k[se+1]:ne=k[se-1]+1;for(var re=ne-Y;ne<w&&re<A&&b.charAt(ne)===E.charAt(re);)ne++,re++;if(k[se]=ne,ne>w)Z+=2;else if(re>A)V+=2;else if(K){var oe=S+U-Y;if(oe>=0&&oe<N&&M[oe]!==-1){var ae=w-M[oe];if(ne>=ae)return l(b,E,ne,re)}}}for(var pe=-ue+G;pe<=ue-le;pe+=2){var oe=S+pe,ae;pe===-ue||pe!==ue&&M[oe-1]<M[oe+1]?ae=M[oe+1]:ae=M[oe-1]+1;for(var Ne=ae-pe;ae<w&&Ne<A&&b.charAt(w-ae-1)===E.charAt(A-Ne-1);)ae++,Ne++;if(M[oe]=ae,ae>w)le+=2;else if(Ne>A)G+=2;else if(!K){var se=S+U-pe;if(se>=0&&se<N&&k[se]!==-1){var ne=k[se],re=S+ne-se;if(ae=w-ae,ne>=ae)return l(b,E,ne,re)}}}}return[[s,b],[e,E]]}function l(b,E,w,A){var C=b.substring(0,w),S=E.substring(0,A),N=b.substring(w),k=E.substring(A),M=n(C,S),R=n(N,k);return M.concat(R)}function a(b,E){if(!b||!E||b.charAt(0)!==E.charAt(0))return 0;for(var w=0,A=Math.min(b.length,E.length),C=A,S=0;w<C;)b.substring(S,C)==E.substring(S,C)?(w=C,S=w):A=C,C=Math.floor((A-w)/2+w);return B(b.charCodeAt(C-1))&&C--,C}function h(b,E){var w=b.length,A=E.length;if(w==0||A==0)return 0;w>A?b=b.substring(w-A):w<A&&(E=E.substring(0,w));var C=Math.min(w,A);if(b==E)return C;for(var S=0,N=1;;){var k=b.substring(C-N),M=E.indexOf(k);if(M==-1)return S;N+=M,(M==0||b.substring(C-N)==E.substring(0,N))&&(S=N,N++)}}function u(b,E){if(!b||!E||b.slice(-1)!==E.slice(-1))return 0;for(var w=0,A=Math.min(b.length,E.length),C=A,S=0;w<C;)b.substring(b.length-C,b.length-S)==E.substring(E.length-C,E.length-S)?(w=C,S=w):A=C,C=Math.floor((A-w)/2+w);return D(b.charCodeAt(b.length-C))&&C--,C}function f(b,E){var w=b.length>E.length?b:E,A=b.length>E.length?E:b;if(w.length<4||A.length*2<w.length)return null;function C(Z,G,le){for(var ue=Z.substring(le,le+Math.floor(Z.length/4)),Y=-1,se="",ne,re,oe,ae;(Y=G.indexOf(ue,Y+1))!==-1;){var pe=a(Z.substring(le),G.substring(Y)),Ne=u(Z.substring(0,le),G.substring(0,Y));se.length<Ne+pe&&(se=G.substring(Y-Ne,Y)+G.substring(Y,Y+pe),ne=Z.substring(0,le-Ne),re=Z.substring(le+pe),oe=G.substring(0,Y-Ne),ae=G.substring(Y+pe))}return se.length*2>=Z.length?[ne,re,oe,ae,se]:null}var S=C(w,A,Math.ceil(w.length/4)),N=C(w,A,Math.ceil(w.length/2)),k;if(!S&&!N)return null;N?S?k=S[4].length>N[4].length?S:N:k=N:k=S;var M,R,U,K;b.length>E.length?(M=k[0],R=k[1],U=k[2],K=k[3]):(U=k[0],K=k[1],M=k[2],R=k[3]);var V=k[4];return[M,R,U,K,V]}function m(b){for(var E=!1,w=[],A=0,C=null,S=0,N=0,k=0,M=0,R=0;S<b.length;)b[S][0]==t?(w[A++]=S,N=M,k=R,M=0,R=0,C=b[S][1]):(b[S][0]==e?M+=b[S][1].length:R+=b[S][1].length,C&&C.length<=Math.max(N,k)&&C.length<=Math.max(M,R)&&(b.splice(w[A-1],0,[s,C]),b[w[A-1]+1][0]=e,A--,A--,S=A>0?w[A-1]:-1,N=0,k=0,M=0,R=0,C=null,E=!0)),S++;for(E&&L(b),j(b),S=1;S<b.length;){if(b[S-1][0]==s&&b[S][0]==e){var U=b[S-1][1],K=b[S][1],V=h(U,K),Z=h(K,U);V>=Z?(V>=U.length/2||V>=K.length/2)&&(b.splice(S,0,[t,K.substring(0,V)]),b[S-1][1]=U.substring(0,U.length-V),b[S+1][1]=K.substring(V),S++):(Z>=U.length/2||Z>=K.length/2)&&(b.splice(S,0,[t,U.substring(0,Z)]),b[S-1][0]=e,b[S-1][1]=K.substring(0,K.length-Z),b[S+1][0]=s,b[S+1][1]=U.substring(Z),S++),S++}S++}}var d=/[^a-zA-Z0-9]/,g=/\s/,x=/[\r\n]/,y=/\n\r?\n$/,T=/^\r?\n\r?\n/;function j(b){function E(Z,G){if(!Z||!G)return 6;var le=Z.charAt(Z.length-1),ue=G.charAt(0),Y=le.match(d),se=ue.match(d),ne=Y&&le.match(g),re=se&&ue.match(g),oe=ne&&le.match(x),ae=re&&ue.match(x),pe=oe&&Z.match(y),Ne=ae&&G.match(T);return pe||Ne?5:oe||ae?4:Y&&!ne&&re?3:ne||re?2:Y||se?1:0}for(var w=1;w<b.length-1;){if(b[w-1][0]==t&&b[w+1][0]==t){var A=b[w-1][1],C=b[w][1],S=b[w+1][1],N=u(A,C);if(N){var k=C.substring(C.length-N);A=A.substring(0,A.length-N),C=k+C.substring(0,C.length-N),S=k+S}for(var M=A,R=C,U=S,K=E(A,C)+E(C,S);C.charAt(0)===S.charAt(0);){A+=C.charAt(0),C=C.substring(1)+S.charAt(0),S=S.substring(1);var V=E(A,C)+E(C,S);V>=K&&(K=V,M=A,R=C,U=S)}b[w-1][1]!=M&&(M?b[w-1][1]=M:(b.splice(w-1,1),w--),b[w][1]=R,U?b[w+1][1]=U:(b.splice(w+1,1),w--))}w++}}function L(b,E){b.push([t,""]);for(var w=0,A=0,C=0,S="",N="",k;w<b.length;){if(w<b.length-1&&!b[w][1]){b.splice(w,1);continue}switch(b[w][0]){case e:C++,N+=b[w][1],w++;break;case s:A++,S+=b[w][1],w++;break;case t:var M=w-C-A-1;if(E){if(M>=0&&P(b[M][1])){var R=b[M][1].slice(-1);if(b[M][1]=b[M][1].slice(0,-1),S=R+S,N=R+N,!b[M][1]){b.splice(M,1),w--;var U=M-1;b[U]&&b[U][0]===e&&(C++,N=b[U][1]+N,U--),b[U]&&b[U][0]===s&&(A++,S=b[U][1]+S,U--),M=U}}if(I(b[w][1])){var R=b[w][1].charAt(0);b[w][1]=b[w][1].slice(1),S+=R,N+=R}}if(w<b.length-1&&!b[w][1]){b.splice(w,1);break}if(S.length>0||N.length>0){S.length>0&&N.length>0&&(k=a(N,S),k!==0&&(M>=0?b[M][1]+=N.substring(0,k):(b.splice(0,0,[t,N.substring(0,k)]),w++),N=N.substring(k),S=S.substring(k)),k=u(N,S),k!==0&&(b[w][1]=N.substring(N.length-k)+b[w][1],N=N.substring(0,N.length-k),S=S.substring(0,S.length-k)));var K=C+A;S.length===0&&N.length===0?(b.splice(w-K,K),w=w-K):S.length===0?(b.splice(w-K,K,[e,N]),w=w-K+1):N.length===0?(b.splice(w-K,K,[s,S]),w=w-K+1):(b.splice(w-K,K,[s,S],[e,N]),w=w-K+2)}w!==0&&b[w-1][0]===t?(b[w-1][1]+=b[w][1],b.splice(w,1)):w++,C=0,A=0,S="",N="";break}}b[b.length-1][1]===""&&b.pop();var V=!1;for(w=1;w<b.length-1;)b[w-1][0]===t&&b[w+1][0]===t&&(b[w][1].substring(b[w][1].length-b[w-1][1].length)===b[w-1][1]?(b[w][1]=b[w-1][1]+b[w][1].substring(0,b[w][1].length-b[w-1][1].length),b[w+1][1]=b[w-1][1]+b[w+1][1],b.splice(w-1,1),V=!0):b[w][1].substring(0,b[w+1][1].length)==b[w+1][1]&&(b[w-1][1]+=b[w+1][1],b[w][1]=b[w][1].substring(b[w+1][1].length)+b[w+1][1],b.splice(w+1,1),V=!0)),w++;V&&L(b,E)}function B(b){return b>=55296&&b<=56319}function D(b){return b>=56320&&b<=57343}function I(b){return D(b.charCodeAt(0))}function P(b){return B(b.charCodeAt(b.length-1))}function X(b){for(var E=[],w=0;w<b.length;w++)b[w][1].length>0&&E.push(b[w]);return E}function fe(b,E,w,A){return P(b)||I(A)?null:X([[t,b],[s,E],[e,w],[t,A]])}function F(b,E,w){var A=typeof w=="number"?{index:w,length:0}:w.oldRange,C=typeof w=="number"?null:w.newRange,S=b.length,N=E.length;if(A.length===0&&(C===null||C.length===0)){var k=A.index,M=b.slice(0,k),R=b.slice(k),U=C?C.index:null;e:{var K=k+N-S;if(U!==null&&U!==K||K<0||K>N)break e;var V=E.slice(0,K),Z=E.slice(K);if(Z!==R)break e;var G=Math.min(k,K),le=M.slice(0,G),ue=V.slice(0,G);if(le!==ue)break e;var Y=M.slice(G),se=V.slice(G);return fe(le,Y,se,R)}e:{if(U!==null&&U!==k)break e;var ne=k,V=E.slice(0,ne),Z=E.slice(ne);if(V!==M)break e;var re=Math.min(S-ne,N-ne),oe=R.slice(R.length-re),ae=Z.slice(Z.length-re);if(oe!==ae)break e;var Y=R.slice(0,R.length-re),se=Z.slice(0,Z.length-re);return fe(M,Y,se,oe)}}if(A.length>0&&C&&C.length===0)e:{var le=b.slice(0,A.index),oe=b.slice(A.index+A.length),G=le.length,re=oe.length;if(N<G+re)break e;var ue=E.slice(0,G),ae=E.slice(N-re);if(le!==ue||oe!==ae)break e;var Y=b.slice(G,S-re),se=E.slice(G,N-re);return fe(le,Y,se,oe)}return null}function J(b,E,w,A){return n(b,E,w,A,!0)}return J.INSERT=e,J.DELETE=s,J.EQUAL=t,Zr=J,Zr}var Jn={exports:{}};Jn.exports;var Ro;function cl(){return Ro||(Ro=1,function(s,e){var t=200,n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",l="[object Array]",a="[object Boolean]",h="[object Date]",u="[object Error]",f="[object Function]",m="[object GeneratorFunction]",d="[object Map]",g="[object Number]",x="[object Object]",y="[object Promise]",T="[object RegExp]",j="[object Set]",L="[object String]",B="[object Symbol]",D="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",X="[object Float32Array]",fe="[object Float64Array]",F="[object Int8Array]",J="[object Int16Array]",b="[object Int32Array]",E="[object Uint8Array]",w="[object Uint8ClampedArray]",A="[object Uint16Array]",C="[object Uint32Array]",S=/[\\^$.*+?()[\]{}|]/g,N=/\w*$/,k=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,R={};R[i]=R[l]=R[I]=R[P]=R[a]=R[h]=R[X]=R[fe]=R[F]=R[J]=R[b]=R[d]=R[g]=R[x]=R[T]=R[j]=R[L]=R[B]=R[E]=R[w]=R[A]=R[C]=!0,R[u]=R[f]=R[D]=!1;var U=typeof St=="object"&&St&&St.Object===Object&&St,K=typeof self=="object"&&self&&self.Object===Object&&self,V=U||K||Function("return this")(),Z=e&&!e.nodeType&&e,G=Z&&!0&&s&&!s.nodeType&&s,le=G&&G.exports===Z;function ue(c,p){return c.set(p[0],p[1]),c}function Y(c,p){return c.add(p),c}function se(c,p){for(var v=-1,_=c?c.length:0;++v<_&&p(c[v],v,c)!==!1;);return c}function ne(c,p){for(var v=-1,_=p.length,Q=c.length;++v<_;)c[Q+v]=p[v];return c}function re(c,p,v,_){for(var Q=-1,W=c?c.length:0;++Q<W;)v=p(v,c[Q],Q,c);return v}function oe(c,p){for(var v=-1,_=Array(c);++v<c;)_[v]=p(v);return _}function ae(c,p){return c?.[p]}function pe(c){var p=!1;if(c!=null&&typeof c.toString!="function")try{p=!!(c+"")}catch{}return p}function Ne(c){var p=-1,v=Array(c.size);return c.forEach(function(_,Q){v[++p]=[Q,_]}),v}function _n(c,p){return function(v){return c(p(v))}}function us(c){var p=-1,v=Array(c.size);return c.forEach(function(_){v[++p]=_}),v}var or=Array.prototype,ar=Function.prototype,tn=Object.prototype,On=V["__core-js_shared__"],ds=function(){var c=/[^.]+$/.exec(On&&On.keys&&On.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),hs=ar.toString,rt=tn.hasOwnProperty,nn=tn.toString,lr=RegExp("^"+hs.call(rt).replace(S,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=le?V.Buffer:void 0,sn=V.Symbol,Ln=V.Uint8Array,Ie=_n(Object.getPrototypeOf,Object),fs=Object.create,ps=tn.propertyIsEnumerable,cr=or.splice,kn=Object.getOwnPropertySymbols,rn=It?It.isBuffer:void 0,ms=_n(Object.keys,Object),on=Je(V,"DataView"),Ft=Je(V,"Map"),Ke=Je(V,"Promise"),an=Je(V,"Set"),qn=Je(V,"WeakMap"),Bt=Je(Object,"create"),Rn=Ae(on),Mt=Ae(Ft),In=Ae(Ke),Fn=Ae(an),Bn=Ae(qn),Tt=sn?sn.prototype:void 0,gs=Tt?Tt.valueOf:void 0;function mt(c){var p=-1,v=c?c.length:0;for(this.clear();++p<v;){var _=c[p];this.set(_[0],_[1])}}function ur(){this.__data__=Bt?Bt(null):{}}function dr(c){return this.has(c)&&delete this.__data__[c]}function hr(c){var p=this.__data__;if(Bt){var v=p[c];return v===n?void 0:v}return rt.call(p,c)?p[c]:void 0}function bs(c){var p=this.__data__;return Bt?p[c]!==void 0:rt.call(p,c)}function Mn(c,p){var v=this.__data__;return v[c]=Bt&&p===void 0?n:p,this}mt.prototype.clear=ur,mt.prototype.delete=dr,mt.prototype.get=hr,mt.prototype.has=bs,mt.prototype.set=Mn;function xe(c){var p=-1,v=c?c.length:0;for(this.clear();++p<v;){var _=c[p];this.set(_[0],_[1])}}function fr(){this.__data__=[]}function pr(c){var p=this.__data__,v=cn(p,c);if(v<0)return!1;var _=p.length-1;return v==_?p.pop():cr.call(p,v,1),!0}function mr(c){var p=this.__data__,v=cn(p,c);return v<0?void 0:p[v][1]}function gr(c){return cn(this.__data__,c)>-1}function br(c,p){var v=this.__data__,_=cn(v,c);return _<0?v.push([c,p]):v[_][1]=p,this}xe.prototype.clear=fr,xe.prototype.delete=pr,xe.prototype.get=mr,xe.prototype.has=gr,xe.prototype.set=br;function we(c){var p=-1,v=c?c.length:0;for(this.clear();++p<v;){var _=c[p];this.set(_[0],_[1])}}function xr(){this.__data__={hash:new mt,map:new(Ft||xe),string:new mt}}function yr(c){return Dt(this,c).delete(c)}function vr(c){return Dt(this,c).get(c)}function Nr(c){return Dt(this,c).has(c)}function wr(c,p){return Dt(this,c).set(c,p),this}we.prototype.clear=xr,we.prototype.delete=yr,we.prototype.get=vr,we.prototype.has=Nr,we.prototype.set=wr;function _e(c){this.__data__=new xe(c)}function Er(){this.__data__=new xe}function Tr(c){return this.__data__.delete(c)}function Cr(c){return this.__data__.get(c)}function Ar(c){return this.__data__.has(c)}function jr(c,p){var v=this.__data__;if(v instanceof xe){var _=v.__data__;if(!Ft||_.length<t-1)return _.push([c,p]),this;v=this.__data__=new we(_)}return v.set(c,p),this}_e.prototype.clear=Er,_e.prototype.delete=Tr,_e.prototype.get=Cr,_e.prototype.has=Ar,_e.prototype.set=jr;function ln(c,p){var v=$n(c)||dn(c)?oe(c.length,String):[],_=v.length,Q=!!_;for(var W in c)rt.call(c,W)&&!(Q&&(W=="length"||Ur(W,_)))&&v.push(W);return v}function xs(c,p,v){var _=c[p];(!(rt.call(c,p)&&Es(_,v))||v===void 0&&!(p in c))&&(c[p]=v)}function cn(c,p){for(var v=c.length;v--;)if(Es(c[v][0],p))return v;return-1}function it(c,p){return c&&Un(p,zn(p),c)}function Pn(c,p,v,_,Q,W,te){var ee;if(_&&(ee=W?_(c,Q,W,te):_(c)),ee!==void 0)return ee;if(!at(c))return c;var me=$n(c);if(me){if(ee=Pr(c),!p)return Fr(c,ee)}else{var ie=bt(c),Ee=ie==f||ie==m;if(Ts(c))return un(c,p);if(ie==x||ie==i||Ee&&!W){if(pe(c))return W?c:{};if(ee=ot(Ee?{}:c),!p)return Br(c,it(ee,c))}else{if(!R[ie])return W?c:{};ee=Dr(c,ie,Pn,p)}}te||(te=new _e);var Oe=te.get(c);if(Oe)return Oe;if(te.set(c,ee),!me)var ge=v?Mr(c):zn(c);return se(ge||c,function(Te,ye){ge&&(ye=Te,Te=c[ye]),xs(ee,ye,Pn(Te,p,v,_,ye,c,te))}),ee}function Sr(c){return at(c)?fs(c):{}}function _r(c,p,v){var _=p(c);return $n(c)?_:ne(_,v(c))}function Or(c){return nn.call(c)}function Lr(c){if(!at(c)||Hr(c))return!1;var p=Hn(c)||pe(c)?lr:k;return p.test(Ae(c))}function kr(c){if(!Ns(c))return ms(c);var p=[];for(var v in Object(c))rt.call(c,v)&&v!="constructor"&&p.push(v);return p}function un(c,p){if(p)return c.slice();var v=new c.constructor(c.length);return c.copy(v),v}function Dn(c){var p=new c.constructor(c.byteLength);return new Ln(p).set(new Ln(c)),p}function Pt(c,p){var v=p?Dn(c.buffer):c.buffer;return new c.constructor(v,c.byteOffset,c.byteLength)}function ys(c,p,v){var _=p?v(Ne(c),!0):Ne(c);return re(_,ue,new c.constructor)}function vs(c){var p=new c.constructor(c.source,N.exec(c));return p.lastIndex=c.lastIndex,p}function qr(c,p,v){var _=p?v(us(c),!0):us(c);return re(_,Y,new c.constructor)}function Rr(c){return gs?Object(gs.call(c)):{}}function Ir(c,p){var v=p?Dn(c.buffer):c.buffer;return new c.constructor(v,c.byteOffset,c.length)}function Fr(c,p){var v=-1,_=c.length;for(p||(p=Array(_));++v<_;)p[v]=c[v];return p}function Un(c,p,v,_){v||(v={});for(var Q=-1,W=p.length;++Q<W;){var te=p[Q],ee=void 0;xs(v,te,ee===void 0?c[te]:ee)}return v}function Br(c,p){return Un(c,gt(c),p)}function Mr(c){return _r(c,zn,gt)}function Dt(c,p){var v=c.__data__;return $r(p)?v[typeof p=="string"?"string":"hash"]:v.map}function Je(c,p){var v=ae(c,p);return Lr(v)?v:void 0}var gt=kn?_n(kn,Object):Wr,bt=Or;(on&&bt(new on(new ArrayBuffer(1)))!=P||Ft&&bt(new Ft)!=d||Ke&&bt(Ke.resolve())!=y||an&&bt(new an)!=j||qn&&bt(new qn)!=D)&&(bt=function(c){var p=nn.call(c),v=p==x?c.constructor:void 0,_=v?Ae(v):void 0;if(_)switch(_){case Rn:return P;case Mt:return d;case In:return y;case Fn:return j;case Bn:return D}return p});function Pr(c){var p=c.length,v=c.constructor(p);return p&&typeof c[0]=="string"&&rt.call(c,"index")&&(v.index=c.index,v.input=c.input),v}function ot(c){return typeof c.constructor=="function"&&!Ns(c)?Sr(Ie(c)):{}}function Dr(c,p,v,_){var Q=c.constructor;switch(p){case I:return Dn(c);case a:case h:return new Q(+c);case P:return Pt(c,_);case X:case fe:case F:case J:case b:case E:case w:case A:case C:return Ir(c,_);case d:return ys(c,_,v);case g:case L:return new Q(c);case T:return vs(c);case j:return qr(c,_,v);case B:return Rr(c)}}function Ur(c,p){return p=p??r,!!p&&(typeof c=="number"||M.test(c))&&c>-1&&c%1==0&&c<p}function $r(c){var p=typeof c;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null}function Hr(c){return!!ds&&ds in c}function Ns(c){var p=c&&c.constructor,v=typeof p=="function"&&p.prototype||tn;return c===v}function Ae(c){if(c!=null){try{return hs.call(c)}catch{}try{return c+""}catch{}}return""}function ws(c){return Pn(c,!0,!0)}function Es(c,p){return c===p||c!==c&&p!==p}function dn(c){return zr(c)&&rt.call(c,"callee")&&(!ps.call(c,"callee")||nn.call(c)==i)}var $n=Array.isArray;function hn(c){return c!=null&&Cs(c.length)&&!Hn(c)}function zr(c){return As(c)&&hn(c)}var Ts=rn||Gr;function Hn(c){var p=at(c)?nn.call(c):"";return p==f||p==m}function Cs(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=r}function at(c){var p=typeof c;return!!c&&(p=="object"||p=="function")}function As(c){return!!c&&typeof c=="object"}function zn(c){return hn(c)?ln(c):kr(c)}function Wr(){return[]}function Gr(){return!1}s.exports=ws}(Jn,Jn.exports)),Jn.exports}var Vn={exports:{}};Vn.exports;var Io;function ul(){return Io||(Io=1,function(s,e){var t=200,n="__lodash_hash_undefined__",r=1,i=2,l=9007199254740991,a="[object Arguments]",h="[object Array]",u="[object AsyncFunction]",f="[object Boolean]",m="[object Date]",d="[object Error]",g="[object Function]",x="[object GeneratorFunction]",y="[object Map]",T="[object Number]",j="[object Null]",L="[object Object]",B="[object Promise]",D="[object Proxy]",I="[object RegExp]",P="[object Set]",X="[object String]",fe="[object Symbol]",F="[object Undefined]",J="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",w="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",N="[object Int32Array]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",R="[object Uint16Array]",U="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,G={};G[w]=G[A]=G[C]=G[S]=G[N]=G[k]=G[M]=G[R]=G[U]=!0,G[a]=G[h]=G[b]=G[f]=G[E]=G[m]=G[d]=G[g]=G[y]=G[T]=G[L]=G[I]=G[P]=G[X]=G[J]=!1;var le=typeof St=="object"&&St&&St.Object===Object&&St,ue=typeof self=="object"&&self&&self.Object===Object&&self,Y=le||ue||Function("return this")(),se=e&&!e.nodeType&&e,ne=se&&!0&&s&&!s.nodeType&&s,re=ne&&ne.exports===se,oe=re&&le.process,ae=function(){try{return oe&&oe.binding&&oe.binding("util")}catch{}}(),pe=ae&&ae.isTypedArray;function Ne(c,p){for(var v=-1,_=c==null?0:c.length,Q=0,W=[];++v<_;){var te=c[v];p(te,v,c)&&(W[Q++]=te)}return W}function _n(c,p){for(var v=-1,_=p.length,Q=c.length;++v<_;)c[Q+v]=p[v];return c}function us(c,p){for(var v=-1,_=c==null?0:c.length;++v<_;)if(p(c[v],v,c))return!0;return!1}function or(c,p){for(var v=-1,_=Array(c);++v<c;)_[v]=p(v);return _}function ar(c){return function(p){return c(p)}}function tn(c,p){return c.has(p)}function On(c,p){return c?.[p]}function ds(c){var p=-1,v=Array(c.size);return c.forEach(function(_,Q){v[++p]=[Q,_]}),v}function hs(c,p){return function(v){return c(p(v))}}function rt(c){var p=-1,v=Array(c.size);return c.forEach(function(_){v[++p]=_}),v}var nn=Array.prototype,lr=Function.prototype,It=Object.prototype,sn=Y["__core-js_shared__"],Ln=lr.toString,Ie=It.hasOwnProperty,fs=function(){var c=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),ps=It.toString,cr=RegExp("^"+Ln.call(Ie).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kn=re?Y.Buffer:void 0,rn=Y.Symbol,ms=Y.Uint8Array,on=It.propertyIsEnumerable,Ft=nn.splice,Ke=rn?rn.toStringTag:void 0,an=Object.getOwnPropertySymbols,qn=kn?kn.isBuffer:void 0,Bt=hs(Object.keys,Object),Rn=gt(Y,"DataView"),Mt=gt(Y,"Map"),In=gt(Y,"Promise"),Fn=gt(Y,"Set"),Bn=gt(Y,"WeakMap"),Tt=gt(Object,"create"),gs=Ae(Rn),mt=Ae(Mt),ur=Ae(In),dr=Ae(Fn),hr=Ae(Bn),bs=rn?rn.prototype:void 0,Mn=bs?bs.valueOf:void 0;function xe(c){var p=-1,v=c==null?0:c.length;for(this.clear();++p<v;){var _=c[p];this.set(_[0],_[1])}}function fr(){this.__data__=Tt?Tt(null):{},this.size=0}function pr(c){var p=this.has(c)&&delete this.__data__[c];return this.size-=p?1:0,p}function mr(c){var p=this.__data__;if(Tt){var v=p[c];return v===n?void 0:v}return Ie.call(p,c)?p[c]:void 0}function gr(c){var p=this.__data__;return Tt?p[c]!==void 0:Ie.call(p,c)}function br(c,p){var v=this.__data__;return this.size+=this.has(c)?0:1,v[c]=Tt&&p===void 0?n:p,this}xe.prototype.clear=fr,xe.prototype.delete=pr,xe.prototype.get=mr,xe.prototype.has=gr,xe.prototype.set=br;function we(c){var p=-1,v=c==null?0:c.length;for(this.clear();++p<v;){var _=c[p];this.set(_[0],_[1])}}function xr(){this.__data__=[],this.size=0}function yr(c){var p=this.__data__,v=un(p,c);if(v<0)return!1;var _=p.length-1;return v==_?p.pop():Ft.call(p,v,1),--this.size,!0}function vr(c){var p=this.__data__,v=un(p,c);return v<0?void 0:p[v][1]}function Nr(c){return un(this.__data__,c)>-1}function wr(c,p){var v=this.__data__,_=un(v,c);return _<0?(++this.size,v.push([c,p])):v[_][1]=p,this}we.prototype.clear=xr,we.prototype.delete=yr,we.prototype.get=vr,we.prototype.has=Nr,we.prototype.set=wr;function _e(c){var p=-1,v=c==null?0:c.length;for(this.clear();++p<v;){var _=c[p];this.set(_[0],_[1])}}function Er(){this.size=0,this.__data__={hash:new xe,map:new(Mt||we),string:new xe}}function Tr(c){var p=Je(this,c).delete(c);return this.size-=p?1:0,p}function Cr(c){return Je(this,c).get(c)}function Ar(c){return Je(this,c).has(c)}function jr(c,p){var v=Je(this,c),_=v.size;return v.set(c,p),this.size+=v.size==_?0:1,this}_e.prototype.clear=Er,_e.prototype.delete=Tr,_e.prototype.get=Cr,_e.prototype.has=Ar,_e.prototype.set=jr;function ln(c){var p=-1,v=c==null?0:c.length;for(this.__data__=new _e;++p<v;)this.add(c[p])}function xs(c){return this.__data__.set(c,n),this}function cn(c){return this.__data__.has(c)}ln.prototype.add=ln.prototype.push=xs,ln.prototype.has=cn;function it(c){var p=this.__data__=new we(c);this.size=p.size}function Pn(){this.__data__=new we,this.size=0}function Sr(c){var p=this.__data__,v=p.delete(c);return this.size=p.size,v}function _r(c){return this.__data__.get(c)}function Or(c){return this.__data__.has(c)}function Lr(c,p){var v=this.__data__;if(v instanceof we){var _=v.__data__;if(!Mt||_.length<t-1)return _.push([c,p]),this.size=++v.size,this;v=this.__data__=new _e(_)}return v.set(c,p),this.size=v.size,this}it.prototype.clear=Pn,it.prototype.delete=Sr,it.prototype.get=_r,it.prototype.has=Or,it.prototype.set=Lr;function kr(c,p){var v=dn(c),_=!v&&Es(c),Q=!v&&!_&&hn(c),W=!v&&!_&&!Q&&As(c),te=v||_||Q||W,ee=te?or(c.length,String):[],me=ee.length;for(var ie in c)Ie.call(c,ie)&&!(te&&(ie=="length"||Q&&(ie=="offset"||ie=="parent")||W&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||Dr(ie,me)))&&ee.push(ie);return ee}function un(c,p){for(var v=c.length;v--;)if(ws(c[v][0],p))return v;return-1}function Dn(c,p,v){var _=p(c);return dn(c)?_:_n(_,v(c))}function Pt(c){return c==null?c===void 0?F:j:Ke&&Ke in Object(c)?bt(c):Ns(c)}function ys(c){return at(c)&&Pt(c)==a}function vs(c,p,v,_,Q){return c===p?!0:c==null||p==null||!at(c)&&!at(p)?c!==c&&p!==p:qr(c,p,v,_,vs,Q)}function qr(c,p,v,_,Q,W){var te=dn(c),ee=dn(p),me=te?h:ot(c),ie=ee?h:ot(p);me=me==a?L:me,ie=ie==a?L:ie;var Ee=me==L,Oe=ie==L,ge=me==ie;if(ge&&hn(c)){if(!hn(p))return!1;te=!0,Ee=!1}if(ge&&!Ee)return W||(W=new it),te||As(c)?Un(c,p,v,_,Q,W):Br(c,p,me,v,_,Q,W);if(!(v&r)){var Te=Ee&&Ie.call(c,"__wrapped__"),ye=Oe&&Ie.call(p,"__wrapped__");if(Te||ye){var Ct=Te?c.value():c,xt=ye?p.value():p;return W||(W=new it),Q(Ct,xt,v,_,W)}}return ge?(W||(W=new it),Mr(c,p,v,_,Q,W)):!1}function Rr(c){if(!Cs(c)||$r(c))return!1;var p=Ts(c)?cr:V;return p.test(Ae(c))}function Ir(c){return at(c)&&Hn(c.length)&&!!G[Pt(c)]}function Fr(c){if(!Hr(c))return Bt(c);var p=[];for(var v in Object(c))Ie.call(c,v)&&v!="constructor"&&p.push(v);return p}function Un(c,p,v,_,Q,W){var te=v&r,ee=c.length,me=p.length;if(ee!=me&&!(te&&me>ee))return!1;var ie=W.get(c);if(ie&&W.get(p))return ie==p;var Ee=-1,Oe=!0,ge=v&i?new ln:void 0;for(W.set(c,p),W.set(p,c);++Ee<ee;){var Te=c[Ee],ye=p[Ee];if(_)var Ct=te?_(ye,Te,Ee,p,c,W):_(Te,ye,Ee,c,p,W);if(Ct!==void 0){if(Ct)continue;Oe=!1;break}if(ge){if(!us(p,function(xt,Ut){if(!tn(ge,Ut)&&(Te===xt||Q(Te,xt,v,_,W)))return ge.push(Ut)})){Oe=!1;break}}else if(!(Te===ye||Q(Te,ye,v,_,W))){Oe=!1;break}}return W.delete(c),W.delete(p),Oe}function Br(c,p,v,_,Q,W,te){switch(v){case E:if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case b:return!(c.byteLength!=p.byteLength||!W(new ms(c),new ms(p)));case f:case m:case T:return ws(+c,+p);case d:return c.name==p.name&&c.message==p.message;case I:case X:return c==p+"";case y:var ee=ds;case P:var me=_&r;if(ee||(ee=rt),c.size!=p.size&&!me)return!1;var ie=te.get(c);if(ie)return ie==p;_|=i,te.set(c,p);var Ee=Un(ee(c),ee(p),_,Q,W,te);return te.delete(c),Ee;case fe:if(Mn)return Mn.call(c)==Mn.call(p)}return!1}function Mr(c,p,v,_,Q,W){var te=v&r,ee=Dt(c),me=ee.length,ie=Dt(p),Ee=ie.length;if(me!=Ee&&!te)return!1;for(var Oe=me;Oe--;){var ge=ee[Oe];if(!(te?ge in p:Ie.call(p,ge)))return!1}var Te=W.get(c);if(Te&&W.get(p))return Te==p;var ye=!0;W.set(c,p),W.set(p,c);for(var Ct=te;++Oe<me;){ge=ee[Oe];var xt=c[ge],Ut=p[ge];if(_)var Xi=te?_(Ut,xt,ge,p,c,W):_(xt,Ut,ge,c,p,W);if(!(Xi===void 0?xt===Ut||Q(xt,Ut,v,_,W):Xi)){ye=!1;break}Ct||(Ct=ge=="constructor")}if(ye&&!Ct){var js=c.constructor,Ss=p.constructor;js!=Ss&&"constructor"in c&&"constructor"in p&&!(typeof js=="function"&&js instanceof js&&typeof Ss=="function"&&Ss instanceof Ss)&&(ye=!1)}return W.delete(c),W.delete(p),ye}function Dt(c){return Dn(c,zn,Pr)}function Je(c,p){var v=c.__data__;return Ur(p)?v[typeof p=="string"?"string":"hash"]:v.map}function gt(c,p){var v=On(c,p);return Rr(v)?v:void 0}function bt(c){var p=Ie.call(c,Ke),v=c[Ke];try{c[Ke]=void 0;var _=!0}catch{}var Q=ps.call(c);return _&&(p?c[Ke]=v:delete c[Ke]),Q}var Pr=an?function(c){return c==null?[]:(c=Object(c),Ne(an(c),function(p){return on.call(c,p)}))}:Wr,ot=Pt;(Rn&&ot(new Rn(new ArrayBuffer(1)))!=E||Mt&&ot(new Mt)!=y||In&&ot(In.resolve())!=B||Fn&&ot(new Fn)!=P||Bn&&ot(new Bn)!=J)&&(ot=function(c){var p=Pt(c),v=p==L?c.constructor:void 0,_=v?Ae(v):"";if(_)switch(_){case gs:return E;case mt:return y;case ur:return B;case dr:return P;case hr:return J}return p});function Dr(c,p){return p=p??l,!!p&&(typeof c=="number"||Z.test(c))&&c>-1&&c%1==0&&c<p}function Ur(c){var p=typeof c;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null}function $r(c){return!!fs&&fs in c}function Hr(c){var p=c&&c.constructor,v=typeof p=="function"&&p.prototype||It;return c===v}function Ns(c){return ps.call(c)}function Ae(c){if(c!=null){try{return Ln.call(c)}catch{}try{return c+""}catch{}}return""}function ws(c,p){return c===p||c!==c&&p!==p}var Es=ys(function(){return arguments}())?ys:function(c){return at(c)&&Ie.call(c,"callee")&&!on.call(c,"callee")},dn=Array.isArray;function $n(c){return c!=null&&Hn(c.length)&&!Ts(c)}var hn=qn||Gr;function zr(c,p){return vs(c,p)}function Ts(c){if(!Cs(c))return!1;var p=Pt(c);return p==g||p==x||p==u||p==D}function Hn(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=l}function Cs(c){var p=typeof c;return c!=null&&(p=="object"||p=="function")}function at(c){return c!=null&&typeof c=="object"}var As=pe?ar(pe):Ir;function zn(c){return $n(c)?kr(c):Fr(c)}function Wr(){return[]}function Gr(){return!1}s.exports=zr}(Vn,Vn.exports)),Vn.exports}var Ls={},Fo;function Up(){if(Fo)return Ls;Fo=1,Object.defineProperty(Ls,"__esModule",{value:!0});const s=cl(),e=ul();var t;return function(n){function r(h={},u={},f=!1){typeof h!="object"&&(h={}),typeof u!="object"&&(u={});let m=s(u);f||(m=Object.keys(m).reduce((d,g)=>(m[g]!=null&&(d[g]=m[g]),d),{}));for(const d in h)h[d]!==void 0&&u[d]===void 0&&(m[d]=h[d]);return Object.keys(m).length>0?m:void 0}n.compose=r;function i(h={},u={}){typeof h!="object"&&(h={}),typeof u!="object"&&(u={});const f=Object.keys(h).concat(Object.keys(u)).reduce((m,d)=>(e(h[d],u[d])||(m[d]=u[d]===void 0?null:u[d]),m),{});return Object.keys(f).length>0?f:void 0}n.diff=i;function l(h={},u={}){h=h||{};const f=Object.keys(u).reduce((m,d)=>(u[d]!==h[d]&&h[d]!==void 0&&(m[d]=u[d]),m),{});return Object.keys(h).reduce((m,d)=>(h[d]!==u[d]&&u[d]===void 0&&(m[d]=null),m),f)}n.invert=l;function a(h,u,f=!1){if(typeof h!="object")return u;if(typeof u!="object")return;if(!f)return u;const m=Object.keys(u).reduce((d,g)=>(h[g]===void 0&&(d[g]=u[g]),d),{});return Object.keys(m).length>0?m:void 0}n.transform=a}(t||(t={})),Ls.default=t,Ls}var ks={},Bo;function dl(){if(Bo)return ks;Bo=1,Object.defineProperty(ks,"__esModule",{value:!0});var s;return function(e){function t(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}e.length=t}(s||(s={})),ks.default=s,ks}var qs={},Mo;function $p(){if(Mo)return qs;Mo=1,Object.defineProperty(qs,"__esModule",{value:!0});const s=dl();class e{constructor(n){this.ops=n,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(n){n||(n=1/0);const r=this.ops[this.index];if(r){const i=this.offset,l=s.default.length(r);if(n>=l-i?(n=l-i,this.index+=1,this.offset=0):this.offset+=n,typeof r.delete=="number")return{delete:n};{const a={};return r.attributes&&(a.attributes=r.attributes),typeof r.retain=="number"?a.retain=n:typeof r.retain=="object"&&r.retain!==null?a.retain=r.retain:typeof r.insert=="string"?a.insert=r.insert.substr(i,n):a.insert=r.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?s.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const n=this.ops[this.index];return n?typeof n.delete=="number"?"delete":typeof n.retain=="number"||typeof n.retain=="object"&&n.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const n=this.offset,r=this.index,i=this.next(),l=this.ops.slice(this.index);return this.offset=n,this.index=r,[i].concat(l)}}else return[]}}return qs.default=e,qs}var Po;function Hp(){return Po||(Po=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=Dp(),n=cl(),r=ul(),i=Up();e.AttributeMap=i.default;const l=dl();e.Op=l.default;const a=$p();e.OpIterator=a.default;const h="\0",u=(m,d)=>{if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);const g=Object.keys(m)[0];if(!g||g!==Object.keys(d)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(d)[0]}`);return[g,m[g],d[g]]};class f{constructor(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]}static registerEmbed(d,g){this.handlers[d]=g}static unregisterEmbed(d){delete this.handlers[d]}static getHandler(d){const g=this.handlers[d];if(!g)throw new Error(`no handlers for embed type "${d}"`);return g}insert(d,g){const x={};return typeof d=="string"&&d.length===0?this:(x.insert=d,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(x.attributes=g),this.push(x))}delete(d){return d<=0?this:this.push({delete:d})}retain(d,g){if(typeof d=="number"&&d<=0)return this;const x={retain:d};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(x.attributes=g),this.push(x)}push(d){let g=this.ops.length,x=this.ops[g-1];if(d=n(d),typeof x=="object"){if(typeof d.delete=="number"&&typeof x.delete=="number")return this.ops[g-1]={delete:x.delete+d.delete},this;if(typeof x.delete=="number"&&d.insert!=null&&(g-=1,x=this.ops[g-1],typeof x!="object"))return this.ops.unshift(d),this;if(r(d.attributes,x.attributes)){if(typeof d.insert=="string"&&typeof x.insert=="string")return this.ops[g-1]={insert:x.insert+d.insert},typeof d.attributes=="object"&&(this.ops[g-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof x.retain=="number")return this.ops[g-1]={retain:x.retain+d.retain},typeof d.attributes=="object"&&(this.ops[g-1].attributes=d.attributes),this}}return g===this.ops.length?this.ops.push(d):this.ops.splice(g,0,d),this}chop(){const d=this.ops[this.ops.length-1];return d&&typeof d.retain=="number"&&!d.attributes&&this.ops.pop(),this}filter(d){return this.ops.filter(d)}forEach(d){this.ops.forEach(d)}map(d){return this.ops.map(d)}partition(d){const g=[],x=[];return this.forEach(y=>{(d(y)?g:x).push(y)}),[g,x]}reduce(d,g){return this.ops.reduce(d,g)}changeLength(){return this.reduce((d,g)=>g.insert?d+l.default.length(g):g.delete?d-g.delete:d,0)}length(){return this.reduce((d,g)=>d+l.default.length(g),0)}slice(d=0,g=1/0){const x=[],y=new a.default(this.ops);let T=0;for(;T<g&&y.hasNext();){let j;T<d?j=y.next(d-T):(j=y.next(g-T),x.push(j)),T+=l.default.length(j)}return new f(x)}compose(d){const g=new a.default(this.ops),x=new a.default(d.ops),y=[],T=x.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){let L=T.retain;for(;g.peekType()==="insert"&&g.peekLength()<=L;)L-=g.peekLength(),y.push(g.next());T.retain-L>0&&x.next(T.retain-L)}const j=new f(y);for(;g.hasNext()||x.hasNext();)if(x.peekType()==="insert")j.push(x.next());else if(g.peekType()==="delete")j.push(g.next());else{const L=Math.min(g.peekLength(),x.peekLength()),B=g.next(L),D=x.next(L);if(D.retain){const I={};if(typeof B.retain=="number")I.retain=typeof D.retain=="number"?L:D.retain;else if(typeof D.retain=="number")B.retain==null?I.insert=B.insert:I.retain=B.retain;else{const X=B.retain==null?"insert":"retain",[fe,F,J]=u(B[X],D.retain),b=f.getHandler(fe);I[X]={[fe]:b.compose(F,J,X==="retain")}}const P=i.default.compose(B.attributes,D.attributes,typeof B.retain=="number");if(P&&(I.attributes=P),j.push(I),!x.hasNext()&&r(j.ops[j.ops.length-1],I)){const X=new f(g.rest());return j.concat(X).chop()}}else typeof D.delete=="number"&&(typeof B.retain=="number"||typeof B.retain=="object"&&B.retain!==null)&&j.push(D)}return j.chop()}concat(d){const g=new f(this.ops.slice());return d.ops.length>0&&(g.push(d.ops[0]),g.ops=g.ops.concat(d.ops.slice(1))),g}diff(d,g){if(this.ops===d.ops)return new f;const x=[this,d].map(B=>B.map(D=>{if(D.insert!=null)return typeof D.insert=="string"?D.insert:h;const I=B===d?"on":"with";throw new Error("diff() called "+I+" non-document")}).join("")),y=new f,T=t(x[0],x[1],g,!0),j=new a.default(this.ops),L=new a.default(d.ops);return T.forEach(B=>{let D=B[1].length;for(;D>0;){let I=0;switch(B[0]){case t.INSERT:I=Math.min(L.peekLength(),D),y.push(L.next(I));break;case t.DELETE:I=Math.min(D,j.peekLength()),j.next(I),y.delete(I);break;case t.EQUAL:I=Math.min(j.peekLength(),L.peekLength(),D);const P=j.next(I),X=L.next(I);r(P.insert,X.insert)?y.retain(I,i.default.diff(P.attributes,X.attributes)):y.push(X).delete(I);break}D-=I}}),y.chop()}eachLine(d,g=`
`){const x=new a.default(this.ops);let y=new f,T=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const j=x.peek(),L=l.default.length(j)-x.peekLength(),B=typeof j.insert=="string"?j.insert.indexOf(g,L)-L:-1;if(B<0)y.push(x.next());else if(B>0)y.push(x.next(B));else{if(d(y,x.next(1).attributes||{},T)===!1)return;T+=1,y=new f}}y.length()>0&&d(y,{},T)}invert(d){const g=new f;return this.reduce((x,y)=>{if(y.insert)g.delete(l.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return g.retain(y.retain),x+y.retain;if(y.delete||typeof y.retain=="number"){const T=y.delete||y.retain;return d.slice(x,x+T).forEach(L=>{y.delete?g.push(L):y.retain&&y.attributes&&g.retain(l.default.length(L),i.default.invert(y.attributes,L.attributes))}),x+T}else if(typeof y.retain=="object"&&y.retain!==null){const T=d.slice(x,x+1),j=new a.default(T.ops).next(),[L,B,D]=u(y.retain,j.insert),I=f.getHandler(L);return g.retain({[L]:I.invert(B,D)},i.default.invert(y.attributes,j.attributes)),x+1}}return x},0),g.chop()}transform(d,g=!1){if(g=!!g,typeof d=="number")return this.transformPosition(d,g);const x=d,y=new a.default(this.ops),T=new a.default(x.ops),j=new f;for(;y.hasNext()||T.hasNext();)if(y.peekType()==="insert"&&(g||T.peekType()!=="insert"))j.retain(l.default.length(y.next()));else if(T.peekType()==="insert")j.push(T.next());else{const L=Math.min(y.peekLength(),T.peekLength()),B=y.next(L),D=T.next(L);if(B.delete)continue;if(D.delete)j.push(D);else{const I=B.retain,P=D.retain;let X=typeof P=="object"&&P!==null?P:L;if(typeof I=="object"&&I!==null&&typeof P=="object"&&P!==null){const fe=Object.keys(I)[0];if(fe===Object.keys(P)[0]){const F=f.getHandler(fe);F&&(X={[fe]:F.transform(I[fe],P[fe],g)})}}j.retain(X,i.default.transform(B.attributes,D.attributes,g))}}return j.chop()}transformPosition(d,g=!1){g=!!g;const x=new a.default(this.ops);let y=0;for(;x.hasNext()&&y<=d;){const T=x.peekLength(),j=x.peekType();if(x.next(),j==="delete"){d-=Math.min(T,d-y);continue}else j==="insert"&&(y<d||!g)&&(d+=T);y+=T}return d}}f.Op=l.default,f.OpIterator=a.default,f.AttributeMap=i.default,f.handlers={},e.default=f,s.exports=f,s.exports.default=f}(Os,Os.exports)),Os.exports}var $e=Hp();const H=Oi($e);class st extends Re{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}st.blotName="break";st.tagName="BR";let tt=class extends Js{};const zp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function sr(s){return s.replace(/[&<>"']/g,e=>zp[e])}class je extends Pi{static allowedChildren=[je,st,Re,tt];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const n=je.order.indexOf(e),r=je.order.indexOf(t);return n>=0||r>=0?n-r:e===t?0:e<t?-1:1}formatAt(e,t,n,r){if(je.compare(this.statics.blotName,n)<0&&this.scroll.query(n,z.BLOT)){const i=this.isolate(e,t);r&&i.wrap(n,r)}else super.formatAt(e,t,n,r)}optimize(e){if(super.optimize(e),this.parent instanceof je&&je.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const Do=1;class ve extends ns{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=hl(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,n,r){t<=0||(this.scroll.query(n,z.BLOCK)?e+t===this.length()&&this.format(n,r):super.formatAt(e,Math.min(t,this.length()-e-1),n,r),this.cache={})}insertAt(e,t,n){if(n!=null){super.insertAt(e,t,n),this.cache={};return}if(t.length===0)return;const r=t.split(`
`),i=r.shift();i.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});let l=this;r.reduce((a,h)=>(l=l.split(a,!0),l.insertAt(0,h),h.length),e+i.length)}insertBefore(e,t){const{head:n}=this.children;super.insertBefore(e,t),n instanceof st&&n.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Do),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-Do)){const r=this.clone();return e===0?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}const n=super.split(e,t);return this.cache={},n}}ve.blotName="block";ve.tagName="P";ve.defaultChild=st;ve.allowedChildren=[st,je,Re,tt];class Ue extends Re{attach(){super.attach(),this.attributes=new tr(this.domNode)}delta(){return new H().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const n=this.scroll.query(e,z.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,t)}formatAt(e,t,n,r){this.format(n,r)}insertAt(e,t,n){if(n!=null){super.insertAt(e,t,n);return}const r=t.split(`
`),i=r.pop(),l=r.map(h=>{const u=this.scroll.create(ve.blotName);return u.insertAt(0,h),u}),a=this.split(e);l.forEach(h=>{this.parent.insertBefore(h,a)}),i&&this.parent.insertBefore(this.scroll.create("text",i),a)}}Ue.scope=z.BLOCK_BLOT;function hl(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s.descendants(Ce).reduce((t,n)=>n.length()===0?t:t.insert(n.value(),Pe(n,{},e)),new H).insert(`
`,Pe(s))}function Pe(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return s==null||("formats"in s&&typeof s.formats=="function"&&(e={...e,...s.formats()},t&&delete e["code-token"]),s.parent==null||s.parent.statics.blotName==="scroll"||s.parent.statics.scope!==s.statics.scope)?e:Pe(s.parent,e,t)}class Ye extends Re{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,n){super(e,t),this.selection=n,this.textNode=document.createTextNode(Ye.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let n=this,r=0;for(;n!=null&&n.statics.scope!==z.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=Ye.CONTENTS.length,n.optimize(),n.formatAt(r,Ye.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof tt?this.prev:null,n=t?t.length():0,r=this.next instanceof tt?this.next:null,i=r?r.text:"",{textNode:l}=this,a=l.data.split(Ye.CONTENTS).join("");l.data=Ye.CONTENTS;let h;if(t)h=t,(a||r)&&(t.insertAt(t.length(),a+i),r&&r.remove());else if(r)h=r,r.insertAt(0,a);else{const u=document.createTextNode(a);h=this.scroll.create(u),this.parent.insertBefore(h,this)}if(this.remove(),e){const u=(d,g)=>t&&d===t.domNode?g:d===l?n+g-1:r&&d===r.domNode?n+a.length+g:null,f=u(e.start.node,e.start.offset),m=u(e.end.node,e.end.offset);if(f!==null&&m!==null)return{startNode:h.domNode,startOffset:f,endNode:h.domNode,endOffset:m}}return null}update(e,t){if(e.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(t.range=n)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Ye.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Yr={exports:{}},Uo;function Wp(){return Uo||(Uo=1,function(s){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function r(h,u,f){this.fn=h,this.context=u,this.once=f||!1}function i(h,u,f,m,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new r(f,m||h,d),x=t?t+u:u;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],g]:h._events[x].push(g):(h._events[x]=g,h._eventsCount++),h}function l(h,u){--h._eventsCount===0?h._events=new n:delete h._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,m;if(this._eventsCount===0)return u;for(m in f=this._events)e.call(f,m)&&u.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=t?t+u:u,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var d=0,g=m.length,x=new Array(g);d<g;d++)x[d]=m[d].fn;return x},a.prototype.listenerCount=function(u){var f=t?t+u:u,m=this._events[f];return m?m.fn?1:m.length:0},a.prototype.emit=function(u,f,m,d,g,x){var y=t?t+u:u;if(!this._events[y])return!1;var T=this._events[y],j=arguments.length,L,B;if(T.fn){switch(T.once&&this.removeListener(u,T.fn,void 0,!0),j){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,m),!0;case 4:return T.fn.call(T.context,f,m,d),!0;case 5:return T.fn.call(T.context,f,m,d,g),!0;case 6:return T.fn.call(T.context,f,m,d,g,x),!0}for(B=1,L=new Array(j-1);B<j;B++)L[B-1]=arguments[B];T.fn.apply(T.context,L)}else{var D=T.length,I;for(B=0;B<D;B++)switch(T[B].once&&this.removeListener(u,T[B].fn,void 0,!0),j){case 1:T[B].fn.call(T[B].context);break;case 2:T[B].fn.call(T[B].context,f);break;case 3:T[B].fn.call(T[B].context,f,m);break;case 4:T[B].fn.call(T[B].context,f,m,d);break;default:if(!L)for(I=1,L=new Array(j-1);I<j;I++)L[I-1]=arguments[I];T[B].fn.apply(T[B].context,L)}}return!0},a.prototype.on=function(u,f,m){return i(this,u,f,m,!1)},a.prototype.once=function(u,f,m){return i(this,u,f,m,!0)},a.prototype.removeListener=function(u,f,m,d){var g=t?t+u:u;if(!this._events[g])return this;if(!f)return l(this,g),this;var x=this._events[g];if(x.fn)x.fn===f&&(!d||x.once)&&(!m||x.context===m)&&l(this,g);else{for(var y=0,T=[],j=x.length;y<j;y++)(x[y].fn!==f||d&&!x[y].once||m&&x[y].context!==m)&&T.push(x[y]);T.length?this._events[g]=T.length===1?T[0]:T:l(this,g)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=t?t+u:u,this._events[f]&&l(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,s.exports=a}(Yr)),Yr.exports}var Gp=Wp();const Kp=Oi(Gp),Ai=new WeakMap,ji=["error","warn","log","info"];let Si="warn";function fl(s){if(Si&&ji.indexOf(s)<=ji.indexOf(Si)){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];console[s](...t)}}function Et(s){return ji.reduce((e,t)=>(e[t]=fl.bind(console,t,s),e),{})}Et.level=s=>{Si=s};fl.level=Et.level;const Xr=Et("quill:events"),Jp=["selectionchange","mousedown","mouseup","click"];Jp.forEach(s=>{document.addEventListener(s,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const i=Ai.get(r);i&&i.emitter&&i.emitter.handleDOM(...t)})})});class $ extends Kp{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Xr.error)}emit(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xr.log.call(Xr,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.domListeners[e.type]||[]).forEach(i=>{let{node:l,handler:a}=i;(e.target===l||l.contains(e.target))&&a(e,...n)})}listenDOM(e,t,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:n})}}const ei=Et("quill:selection");class Gt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class Vp{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Gt(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,$.sources.USER),1)}),this.emitter.on($.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once($.events.SCROLL_UPDATE,(r,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const l=i.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(l?$.sources.SILENT:r)}catch{}})}),this.emitter.on($.events.SCROLL_OPTIMIZE,(n,r)=>{if(r.range){const{startNode:i,startOffset:l,endNode:a,endOffset:h}=r.range;this.setNativeRange(i,l,a,h),this.update($.sources.SILENT)}}),this.update($.sources.SILENT)}handleComposition(){this.emitter.on($.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on($.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update($.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(e,z.BLOCK))){if(n.start.node!==this.cursor.textNode){const r=this.scroll.find(n.start.node,!1);if(r==null)return;if(r instanceof Ce){const i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;let r,[i,l]=this.scroll.leaf(e);if(i==null)return null;if(t>0&&l===i.length()){const[f]=this.scroll.leaf(e+1);if(f){const[m]=this.scroll.line(e),[d]=this.scroll.line(e+1);m===d&&(i=f,l=0)}}[r,l]=i.position(l,!0);const a=document.createRange();if(t>0)return a.setStart(r,l),[i,l]=this.scroll.leaf(e+t),i==null?null:([r,l]=i.position(l,!0),a.setEnd(r,l),a.getBoundingClientRect());let h="left",u;if(r instanceof Text){if(!r.data.length)return null;l<r.data.length?(a.setStart(r,l),a.setEnd(r,l+1)):(a.setStart(r,l-1),a.setEnd(r,l),h="right"),u=a.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;u=i.domNode.getBoundingClientRect(),l>0&&(h="right")}return{bottom:u.top+u.height,height:u.height,left:u[h],right:u[h],top:u.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const n=this.normalizeNative(t);return ei.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ti(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const n=t.map(l=>{const[a,h]=l,u=this.scroll.find(a,!0),f=u.offset(this.scroll);return h===0?f:u instanceof Ce?f+u.index(a,h):f+u.length()}),r=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(r,...n);return new Gt(i,r-i)}normalizeNative(e){if(!ti(this.root,e.startContainer)||!e.collapsed&&!ti(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(n=>{let{node:r,offset:i}=n;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>i)r=r.childNodes[i],i=0;else if(r.childNodes.length===i)r=r.lastChild,r instanceof Text?i=r.data.length:r.childNodes.length>0?i=r.childNodes.length:i=r.childNodes.length+1;else break;n.node=r,n.offset=i}),t}rangeToNative(e){const t=this.scroll.length(),n=(r,i)=>{r=Math.min(t-1,r);const[l,a]=this.scroll.leaf(r);return l?l.position(a,i):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ei.info("setNativeRange",e,t,n,r),e!=null&&(this.root.parentNode==null||e.parentNode==null||n.parentNode==null))return;const l=document.getSelection();if(l!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||i||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&n.tagName==="BR"&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const h=document.createRange();h.setStart(e,t),h.setEnd(n,r),l.removeAllRanges(),l.addRange(h)}}else l.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.sources.API;if(typeof t=="string"&&(n=t,t=!1),ei.info("setRange",e),e!=null){const r=this.rangeToNative(e);this.setNativeRange(...r,t)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.sources.USER;const t=this.lastRange,[n,r]=this.getRange();if(this.lastRange=n,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!Mi(t,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const i=[$.events.SELECTION_CHANGE,Nn(this.lastRange),Nn(t),e];this.emitter.emit($.events.EDITOR_CHANGE,...i),e!==$.sources.SILENT&&this.emitter.emit(...i)}}}function ti(s,e){try{e.parentNode}catch{return!1}return s.contains(e)}const Qp=/^[ -~]*$/;class Zp{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const n=$o(e),r=new H;return Xp(n.ops.slice()).reduce((l,a)=>{const h=$e.Op.length(a);let u=a.attributes||{},f=!1,m=!1;if(a.insert!=null){if(r.retain(h),typeof a.insert=="string"){const x=a.insert;m=!x.endsWith(`
`)&&(t<=l||!!this.scroll.descendant(Ue,l)[0]),this.scroll.insertAt(l,x);const[y,T]=this.scroll.line(l);let j=Ot({},Pe(y));if(y instanceof ve){const[L]=y.descendant(Ce,T);L&&(j=Ot(j,Pe(L)))}u=$e.AttributeMap.diff(j,u)||{}}else if(typeof a.insert=="object"){const x=Object.keys(a.insert)[0];if(x==null)return l;const y=this.scroll.query(x,z.INLINE)!=null;if(y)(t<=l||this.scroll.descendant(Ue,l)[0])&&(m=!0);else if(l>0){const[T,j]=this.scroll.descendant(Ce,l-1);T instanceof tt?T.value()[j]!==`
`&&(f=!0):T instanceof Re&&T.statics.scope===z.INLINE_BLOT&&(f=!0)}if(this.scroll.insertAt(l,x,a.insert[x]),y){const[T]=this.scroll.descendant(Ce,l);if(T){const j=Ot({},Pe(T));u=$e.AttributeMap.diff(j,u)||{}}}}t+=h}else if(r.push(a),a.retain!==null&&typeof a.retain=="object"){const x=Object.keys(a.retain)[0];if(x==null)return l;this.scroll.updateEmbedAt(l,x,a.retain[x])}Object.keys(u).forEach(x=>{this.scroll.formatAt(l,h,x,u[x])});const d=f?1:0,g=m?1:0;return t+=d+g,r.retain(d),r.delete(g),l+h+d+g},0),r.reduce((l,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(l,a.delete),l):l+$e.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new H().retain(e).delete(t))}formatLine(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(e,Math.max(t,1)).forEach(l=>{l.format(i,n[i])})}),this.scroll.optimize();const r=new H().retain(e).retain(t,Nn(n));return this.update(r)}formatText(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(e,t,i,n[i])});const r=new H().retain(e).retain(t,Nn(n));return this.update(r)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new H)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],r=[];t===0?this.scroll.path(e).forEach(a=>{const[h]=a;h instanceof ve?n.push(h):h instanceof Ce&&r.push(h)}):(n=this.scroll.lines(e,t),r=this.scroll.descendants(Ce,e,t));const[i,l]=[n,r].map(a=>{const h=a.shift();if(h==null)return{};let u=Pe(h);for(;Object.keys(u).length>0;){const f=a.shift();if(f==null)return u;u=Yp(Pe(f),u)}return u});return{...i,...l}}getHTML(e,t){const[n,r]=this.scroll.line(e);if(n){const i=n.length();return n.length()>=r+t&&!(r===0&&t===i)?ss(n,r,t,!0):ss(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(e,t){const n=$o(t),r=new H().retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(r)}insertEmbed(e,t,n){return this.scroll.insertAt(e,t,n),this.update(new H().retain(e).insert({[t]:n}))}insertText(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(n).forEach(r=>{this.scroll.formatAt(e,t.length,r,n[r])}),this.update(new H().retain(e).insert(t,Nn(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==ve.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof st}removeFormat(e,t){const n=this.getText(e,t),[r,i]=this.scroll.line(e+t);let l=0,a=new H;r!=null&&(l=r.length()-i,a=r.delta().slice(i,i+l-1).insert(`
`));const u=this.getContents(e,t+l).diff(new H().insert(n).concat(a)),f=new H().retain(e).concat(u);return this.applyDelta(f)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(Qp)&&this.scroll.find(t[0].target)){const i=this.scroll.find(t[0].target),l=Pe(i),a=i.offset(this.scroll),h=t[0].oldValue.replace(Ye.CONTENTS,""),u=new H().insert(h),f=new H().insert(i.value()),m=n&&{oldRange:Ho(n.oldRange,-a),newRange:Ho(n.newRange,-a)};e=new H().retain(a).concat(u.diff(f,m)).reduce((g,x)=>x.insert?g.insert(x.insert,l):g.push(x),new H),this.delta=r.compose(e)}else this.delta=this.getDelta(),(!e||!Mi(r.compose(e),this.delta))&&(e=r.diff(this.delta,n));return e}}function vn(s,e,t){if(s.length===0){const[g]=ni(t.pop());return e<=0?`</li></${g}>`:`</li></${g}>${vn([],e-1,t)}`}const[{child:n,offset:r,length:i,indent:l,type:a},...h]=s,[u,f]=ni(a);if(l>e)return t.push(a),l===e+1?`<${u}><li${f}>${ss(n,r,i)}${vn(h,l,t)}`:`<${u}><li>${vn(s,e+1,t)}`;const m=t[t.length-1];if(l===e&&a===m)return`</li><li${f}>${ss(n,r,i)}${vn(h,l,t)}`;const[d]=ni(t.pop());return`</li></${d}>${vn(s,e-1,t)}`}function ss(s,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in s&&typeof s.html=="function")return s.html(e,t);if(s instanceof tt)return sr(s.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(s instanceof et){if(s.statics.blotName==="list-container"){const u=[];return s.children.forEachAt(e,t,(f,m,d)=>{const g="formats"in f&&typeof f.formats=="function"?f.formats():{};u.push({child:f,offset:m,length:d,indent:g.indent||0,type:g.list})}),vn(u,-1,[])}const r=[];if(s.children.forEachAt(e,t,(u,f,m)=>{r.push(ss(u,f,m))}),n||s.statics.blotName==="list")return r.join("");const{outerHTML:i,innerHTML:l}=s.domNode,[a,h]=i.split(`>${l}<`);return a==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${h}`:`${a}>${r.join("")}<${h}`}return s.domNode instanceof Element?s.domNode.outerHTML:""}function Yp(s,e){return Object.keys(e).reduce((t,n)=>{if(s[n]==null)return t;const r=e[n];return r===s[n]?t[n]=r:Array.isArray(r)?r.indexOf(s[n])<0?t[n]=r.concat([s[n]]):t[n]=r:t[n]=[r,s[n]],t},{})}function ni(s){const e=s==="ordered"?"ol":"ul";switch(s){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function $o(s){return s.reduce((e,t)=>{if(typeof t.insert=="string"){const n=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(n,t.attributes)}return e.push(t)},new H)}function Ho(s,e){let{index:t,length:n}=s;return new Gt(t+e,n)}function Xp(s){const e=[];return s.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((r,i)=>{i&&e.push({insert:`
`,attributes:t.attributes}),r&&e.push({insert:r,attributes:t.attributes})}):e.push(t)}),e}class pt{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const Rs="\uFEFF";class Ui extends Re{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(Rs),this.rightGuard=document.createTextNode(Rs),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,n;const r=e.data.split(Rs).join("");if(e===this.leftGuard)if(this.prev instanceof tt){const i=this.prev.length();this.prev.insertAt(i,r),t={startNode:this.prev.domNode,startOffset:i+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof tt?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=Rs,t}update(e,t){e.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const r=this.restore(n.target);r&&(t.range=r)}})}}class em{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Ui)&&(this.emitter.emit($.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit($.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit($.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit($.events.COMPOSITION_END,e),this.isComposing=!1}}class Sn{static DEFAULTS={modules:{}};static themes={default:Sn};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const tm=s=>s.parentElement||s.getRootNode().host||null,nm=s=>{const e=s.getBoundingClientRect(),t="offsetWidth"in s&&Math.abs(e.width)/s.offsetWidth||1,n="offsetHeight"in s&&Math.abs(e.height)/s.offsetHeight||1;return{top:e.top,right:e.left+s.clientWidth*t,bottom:e.top+s.clientHeight*n,left:e.left}},Is=s=>{const e=parseInt(s,10);return Number.isNaN(e)?0:e},zo=(s,e,t,n,r,i)=>s<t&&e>n?0:s<t?-(t-s+r):e>n?e-s>n-t?s+r-t:e-n+i:0,sm=(s,e)=>{const t=s.ownerDocument;let n=e,r=s;for(;r;){const i=r===t.body,l=i?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:nm(r),a=getComputedStyle(r),h=zo(n.left,n.right,l.left,l.right,Is(a.scrollPaddingLeft),Is(a.scrollPaddingRight)),u=zo(n.top,n.bottom,l.top,l.bottom,Is(a.scrollPaddingTop),Is(a.scrollPaddingBottom));if(h||u)if(i)t.defaultView?.scrollBy(h,u);else{const{scrollLeft:f,scrollTop:m}=r;u&&(r.scrollTop+=u),h&&(r.scrollLeft+=h);const d=r.scrollLeft-f,g=r.scrollTop-m;n={left:n.left-d,top:n.top-g,right:n.right-d,bottom:n.bottom-g}}r=i||a.position==="fixed"?null:tm(r)}},rm=100,im=["block","break","cursor","inline","scroll","text"],om=(s,e,t)=>{const n=new An;return im.forEach(r=>{const i=e.query(r);i&&n.register(i)}),s.forEach(r=>{let i=e.query(r);i||t.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,l+=1,l>rm){t.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),n},En=Et("quill"),Fs=new An;et.uiClass="ql-ui";class O{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Fs,theme:"default"};static events=$.events;static sources=$.sources;static version="2.0.3";static imports={delta:H,parchment:Pp,"core/module":pt,"core/theme":Sn};static debug(e){e===!0&&(e="log"),Et.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ai.get(e)||Fs.find(e,t)}static import(e){return this.imports[e]==null&&En.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in e?e.attrName:e.blotName;typeof n=="string"?this.register(`formats/${n}`,e,t):Object.keys(e).forEach(r=>{this.register(r,e[r],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!n&&En.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Fs.register(t),typeof t.register=="function"&&t.register(Fs)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=am(e,t),this.container=this.options.container,this.container==null){En.error("Invalid Quill container",e);return}this.options.debug&&O.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ai.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new $;const r=Di.blotName,i=this.options.registry.query(r);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Zp(this.scroll),this.selection=new Vp(this.scroll,this.emitter),this.composition=new em(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on($.events.EDITOR_CHANGE,l=>{l===$.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on($.events.SCROLL_UPDATE,(l,a)=>{const h=this.selection.lastRange,[u]=this.selection.getRange(),f=h&&u?{oldRange:h,newRange:u}:void 0;Ve.call(this,()=>this.editor.update(null,a,f),l)}),this.emitter.on($.events.SCROLL_EMBED_UPDATE,(l,a)=>{const h=this.selection.lastRange,[u]=this.selection.getRange(),f=h&&u?{oldRange:h,newRange:u}:void 0;Ve.call(this,()=>{const m=new H().retain(l.offset(this)).retain({[l.statics.blotName]:a});return this.editor.update(m,[],f)},O.sources.USER)}),n){const l=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const n=e;e=document.createElement("div"),e.classList.add(n)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,n){return[e,t,,n]=yt(e,t,n),Ve.call(this,()=>this.editor.deleteText(e,t),n,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.sources.API;return Ve.call(this,()=>{const r=this.getSelection(!0);let i=new H;if(r==null)return i;if(this.scroll.query(e,z.BLOCK))i=this.editor.formatLine(r.index,r.length,{[e]:t});else{if(r.length===0)return this.selection.format(e,t),i;i=this.editor.formatText(r.index,r.length,{[e]:t})}return this.setSelection(r,$.sources.SILENT),i},n)}formatLine(e,t,n,r,i){let l;return[e,t,l,i]=yt(e,t,n,r,i),Ve.call(this,()=>this.editor.formatLine(e,t,l),i,e,0)}formatText(e,t,n,r,i){let l;return[e,t,l,i]=yt(e,t,n,r,i),Ve.call(this,()=>this.editor.formatText(e,t,l),i,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof e=="number"?n=this.selection.getBounds(e,t):n=this.selection.getBounds(e.index,e.length),!n)return null;const r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=yt(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=yt(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=yt(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O.sources.API;return Ve.call(this,()=>this.editor.insertEmbed(e,t,n),r,e)}insertText(e,t,n,r,i){let l;return[e,,l,i]=yt(e,0,n,r,i),Ve.call(this,()=>this.editor.insertText(e,t,l),i,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,n){return[e,t,,n]=yt(e,t,n),Ve.call(this,()=>this.editor.removeFormat(e,t),n,e)}scrollRectIntoView(e){sm(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;return Ve.call(this,()=>{e=new H(e);const n=this.getLength(),r=this.editor.deleteText(0,n),i=this.editor.insertContents(0,e),l=this.editor.deleteText(this.getLength()-1,1);return r.compose(i).compose(l)},t)}setSelection(e,t,n){e==null?this.selection.setRange(null,t||O.sources.API):([e,t,,n]=yt(e,t,n),this.selection.setRange(new Gt(Math.max(0,e),t),n),n!==$.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;const n=new H().insert(e);return this.setContents(n,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$.sources.API;return Ve.call(this,()=>(e=new H(e),this.editor.applyDelta(e)),t,!0)}}function Wo(s){return typeof s=="string"?document.querySelector(s):s}function si(s){return Object.entries(s??{}).reduce((e,t)=>{let[n,r]=t;return{...e,[n]:r===!0?{}:r}},{})}function Go(s){return Object.fromEntries(Object.entries(s).filter(e=>e[1]!==void 0))}function am(s,e){const t=Wo(s);if(!t)throw new Error("Invalid Quill container");const r=!e.theme||e.theme===O.DEFAULTS.theme?Sn:O.import(`themes/${e.theme}`);if(!r)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...l}=O.DEFAULTS,{modules:a,...h}=r.DEFAULTS;let u=si(e.modules);u!=null&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const f=Ot({},si(i),si(a),u),m={...l,...Go(h),...Go(e)};let d=e.registry;return d?e.formats&&En.warn('Ignoring "formats" option because "registry" is specified'):d=e.formats?om(e.formats,m.registry,En):m.registry,{...m,registry:d,container:t,theme:r,modules:Object.entries(f).reduce((g,x)=>{let[y,T]=x;if(!T)return g;const j=O.import(`modules/${y}`);return j==null?(En.error(`Cannot load ${y} module. Are you sure you registered it?`),g):{...g,[y]:Ot({},j.DEFAULTS||{},T)}},{}),bounds:Wo(m.bounds)}}function Ve(s,e,t,n){if(!this.isEnabled()&&e===$.sources.USER&&!this.allowReadOnlyEdits)return new H;let r=t==null?null:this.getSelection();const i=this.editor.delta,l=s();if(r!=null&&(t===!0&&(t=r.index),n==null?r=Ko(r,l,e):n!==0&&(r=Ko(r,t,n,e)),this.setSelection(r,$.sources.SILENT)),l.length()>0){const a=[$.events.TEXT_CHANGE,l,i,e];this.emitter.emit($.events.EDITOR_CHANGE,...a),e!==$.sources.SILENT&&this.emitter.emit(...a)}return l}function yt(s,e,t,n,r){let i={};return typeof s.index=="number"&&typeof s.length=="number"?typeof e!="number"?(r=n,n=t,t=e,e=s.length,s=s.index):(e=s.length,s=s.index):typeof e!="number"&&(r=n,n=t,t=e,e=0),typeof t=="object"?(i=t,r=n):typeof t=="string"&&(n!=null?i[t]=n:r=t),r=r||$.sources.API,[s,e,i,r]}function Ko(s,e,t,n){const r=typeof t=="number"?t:0;if(s==null)return null;let i,l;return e&&typeof e.transformPosition=="function"?[i,l]=[s.index,s.index+s.length].map(a=>e.transformPosition(a,n!==$.sources.USER)):[i,l]=[s.index,s.index+s.length].map(a=>a<e||a===e&&n===$.sources.USER?a:r>=0?a+r:Math.max(e,a+r)),new Gt(i,l-i)}class Zt extends nr{}function Jo(s){return s instanceof ve||s instanceof Ue}function Vo(s){return typeof s.updateContent=="function"}class lm extends Di{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=ve;static allowedChildren=[ve,Ue,Zt];constructor(e,t,n){let{emitter:r}=n;super(e,t),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit($.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit($.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit($.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[n,r]=this.line(e),[i]=this.line(e+t);if(super.deleteAt(e,t),i!=null&&n!==i&&r>0){if(n instanceof Ue||i instanceof Ue){this.optimize();return}const l=i.children.head instanceof st?null:i.children.head;n.moveChildren(i,l),n.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,n,r){super.formatAt(e,t,n,r),this.optimize()}insertAt(e,t,n){if(e>=this.length())if(n==null||this.scroll.query(t,z.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),n==null&&t.endsWith(`
`)?r.insertAt(0,t.slice(0,-1),n):r.insertAt(0,t,n)}else{const r=this.scroll.create(t,n);this.appendChild(r)}else super.insertAt(e,t,n);this.optimize()}insertBefore(e,t){if(e.statics.scope===z.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,t)}else super.insertBefore(e,t)}insertContents(e,t){const n=this.deltaToRenderBlocks(t.concat(new H().insert(`
`))),r=n.pop();if(r==null)return;this.batchStart();const i=n.shift();if(i){const h=i.type==="block"&&(i.delta.length()===0||!this.descendant(Ue,e)[0]&&e<this.length()),u=i.type==="block"?i.delta:new H().insert({[i.key]:i.value});ri(this,e,u);const f=i.type==="block"?1:0,m=e+u.length()+f;h&&this.insertAt(m-1,`
`);const d=Pe(this.line(e)[0]),g=$e.AttributeMap.diff(d,i.attributes)||{};Object.keys(g).forEach(x=>{this.formatAt(m-1,1,x,g[x])}),e=m}let[l,a]=this.children.find(e);if(n.length&&(l&&(l=l.split(a),a=0),n.forEach(h=>{if(h.type==="block"){const u=this.createBlock(h.attributes,l||void 0);ri(u,0,h.delta)}else{const u=this.create(h.key,h.value);this.insertBefore(u,l||void 0),Object.keys(h.attributes).forEach(f=>{u.format(f,h.attributes[f])})}})),r.type==="block"&&r.delta.length()){const h=l?l.offset(l.scroll)+a:this.length();ri(this,h,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[n,r]=t;return n instanceof Ce?[n,r]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Jo,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(r,i,l)=>{let a=[],h=l;return r.children.forEachAt(i,l,(u,f,m)=>{Jo(u)?a.push(u):u instanceof nr&&(a=a.concat(n(u,f,h))),h-=m}),a};return n(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit($.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=$.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(n=>{let{target:r}=n;const i=this.find(r,!0);return i&&!Vo(i)}),e.length>0&&this.emitter.emit($.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit($.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,n){const[r]=this.descendant(i=>i instanceof Ue,e);r&&r.statics.blotName===t&&Vo(r)&&r.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let n=new H;return e.forEach(r=>{const i=r?.insert;if(i)if(typeof i=="string"){const l=i.split(`
`);l.slice(0,-1).forEach(h=>{n.insert(h,r.attributes),t.push({type:"block",delta:n,attributes:r.attributes??{}}),n=new H});const a=l[l.length-1];a&&n.insert(a,r.attributes)}else{const l=Object.keys(i)[0];if(!l)return;this.query(l,z.INLINE)?n.push(r):(n.length()&&t.push({type:"block",delta:n,attributes:{}}),n=new H,t.push({type:"blockEmbed",key:l,value:i[l],attributes:r.attributes??{}}))}}),n.length()&&t.push({type:"block",delta:n,attributes:{}}),t}createBlock(e,t){let n;const r={};Object.entries(e).forEach(a=>{let[h,u]=a;this.query(h,z.BLOCK&z.BLOT)!=null?n=h:r[h]=u});const i=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(i,t||void 0);const l=i.length();return Object.entries(r).forEach(a=>{let[h,u]=a;i.formatAt(0,l,h,u)}),i}}function ri(s,e,t){t.reduce((n,r)=>{const i=$e.Op.length(r);let l=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const a=r.insert;s.insertAt(n,a);const[h]=s.descendant(Ce,n),u=Pe(h);l=$e.AttributeMap.diff(u,l)||{}}else if(typeof r.insert=="object"){const a=Object.keys(r.insert)[0];if(a==null)return n;if(s.insertAt(n,a,r.insert[a]),s.scroll.query(a,z.INLINE)!=null){const[u]=s.descendant(Ce,n),f=Pe(u);l=$e.AttributeMap.diff(f,l)||{}}}}return Object.keys(l).forEach(a=>{s.formatAt(n,i,a,l[a])}),n+i},e)}const $i={scope:z.BLOCK,whitelist:["right","center","justify"]},cm=new ht("align","align",$i),pl=new nt("align","ql-align",$i),ml=new Rt("align","text-align",$i);class gl extends Rt{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):t}}const um=new nt("color","ql-color",{scope:z.INLINE}),Hi=new gl("color","color",{scope:z.INLINE}),dm=new nt("background","ql-bg",{scope:z.INLINE}),zi=new gl("background","background-color",{scope:z.INLINE});class Yt extends Zt{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${sr(this.code(e,t))}
</pre>`}}class Se extends ve{static TAB="  ";static register(){O.register(Yt)}}class Wi extends je{}Wi.blotName="code";Wi.tagName="CODE";Se.blotName="code-block";Se.className="ql-code-block";Se.tagName="DIV";Yt.blotName="code-block-container";Yt.className="ql-code-block-container";Yt.tagName="DIV";Yt.allowedChildren=[Se];Se.allowedChildren=[tt,st,Ye];Se.requiredContainer=Yt;const Gi={scope:z.BLOCK,whitelist:["rtl"]},bl=new ht("direction","dir",Gi),xl=new nt("direction","ql-direction",Gi),yl=new Rt("direction","direction",Gi),vl={scope:z.INLINE,whitelist:["serif","monospace"]},Nl=new nt("font","ql-font",vl);class hm extends Rt{value(e){return super.value(e).replace(/["']/g,"")}}const wl=new hm("font","font-family",vl),El=new nt("size","ql-size",{scope:z.INLINE,whitelist:["small","large","huge"]}),Tl=new Rt("size","font-size",{scope:z.INLINE,whitelist:["10px","18px","32px"]}),fm=Et("quill:keyboard"),pm=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class rr extends pt{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!t[n]!==e[n]&&t[n]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=gm(e);if(r==null){fm.warn("Attempted to add invalid keyboard binding",r);return}typeof t=="function"&&(t={handler:t}),typeof n=="function"&&(n={handler:n}),(Array.isArray(r.key)?r.key:[r.key]).forEach(l=>{const a={...r,key:l,...t,...n};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const r=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(j=>rr.match(e,j));if(r.length===0)return;const i=O.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[a,h]=this.quill.getLine(l.index),[u,f]=this.quill.getLeaf(l.index),[m,d]=l.length===0?[u,f]:this.quill.getLeaf(l.index+l.length),g=u instanceof Js?u.value().slice(0,f):"",x=m instanceof Js?m.value().slice(d):"",y={collapsed:l.length===0,empty:l.length===0&&a.length()<=1,format:this.quill.getFormat(l),line:a,offset:h,prefix:g,suffix:x,event:e};r.some(j=>{if(j.collapsed!=null&&j.collapsed!==y.collapsed||j.empty!=null&&j.empty!==y.empty||j.offset!=null&&j.offset!==y.offset)return!1;if(Array.isArray(j.format)){if(j.format.every(L=>y.format[L]==null))return!1}else if(typeof j.format=="object"&&!Object.keys(j.format).every(L=>j.format[L]===!0?y.format[L]!=null:j.format[L]===!1?y.format[L]==null:Mi(j.format[L],y.format[L])))return!1;return j.prefix!=null&&!j.prefix.test(y.prefix)||j.suffix!=null&&!j.suffix.test(y.suffix)?!1:j.handler.call(this,l,y,j)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let r={};const[i]=this.quill.getLine(e.index);let l=new H().retain(e.index-n).delete(n);if(t.offset===0){const[a]=this.quill.getLine(e.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const u=i.formats(),f=this.quill.getFormat(e.index-1,1);if(r=$e.AttributeMap.diff(u,f)||{},Object.keys(r).length>0){const m=new H().retain(e.index+i.length()-2).retain(1,r);l=l.compose(m)}}}this.quill.updateContents(l,O.sources.USER),this.quill.focus()}handleDelete(e,t){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let r={};const[i]=this.quill.getLine(e.index);let l=new H().retain(e.index).delete(n);if(t.offset>=i.length()-1){const[a]=this.quill.getLine(e.index+1);if(a){const h=i.formats(),u=this.quill.getFormat(e.index,1);r=$e.AttributeMap.diff(h,u)||{},Object.keys(r).length>0&&(l=l.retain(a.length()-1).retain(1,r))}}this.quill.updateContents(l,O.sources.USER),this.quill.focus()}handleDeleteRange(e){Ki({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const n=Object.keys(t.format).reduce((i,l)=>(this.quill.scroll.query(l,z.BLOCK)&&!Array.isArray(t.format[l])&&(i[l]=t.format[l]),i),{}),r=new H().retain(e.index).delete(e.length).insert(`
`,n);this.quill.updateContents(r,O.sources.USER),this.quill.setSelection(e.index+1,O.sources.SILENT),this.quill.focus()}}const mm={bindings:{bold:ii("bold"),italic:ii("italic"),underline:ii("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(s,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",O.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(s,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",O.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(s,e){e.format.indent!=null?this.quill.format("indent","-1",O.sources.USER):e.format.list!=null&&this.quill.format("list",!1,O.sources.USER)}},"indent code-block":Qo(!0),"outdent code-block":Qo(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(s){this.quill.deleteText(s.index-1,1,O.sources.USER)}},tab:{key:"Tab",handler(s,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new H().retain(s.index).delete(s.length).insert("	");return this.quill.updateContents(t,O.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(s.index+1,O.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,O.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(s,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(s.index,s.length,t,O.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(s){const[e,t]=this.quill.getLine(s.index),n={...e.formats(),list:"checked"},r=new H().retain(s.index).insert(`
`,n).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,O.sources.USER),this.quill.setSelection(s.index+1,O.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(s,e){const[t,n]=this.quill.getLine(s.index),r=new H().retain(s.index).insert(`
`,e.format).retain(t.length()-n-1).retain(1,{header:null});this.quill.updateContents(r,O.sources.USER),this.quill.setSelection(s.index+1,O.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(s){const e=this.quill.getModule("table");if(e){const[t,n,r,i]=e.getTable(s),l=bm(t,n,r,i);if(l==null)return;let a=t.offset();if(l<0){const h=new H().retain(a).insert(`
`);this.quill.updateContents(h,O.sources.USER),this.quill.setSelection(s.index+1,s.length,O.sources.SILENT)}else if(l>0){a+=t.length();const h=new H().retain(a).insert(`
`);this.quill.updateContents(h,O.sources.USER),this.quill.setSelection(a,O.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(s,e){const{event:t,line:n}=e,r=n.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(r-1,O.sources.USER):this.quill.setSelection(r+n.length(),O.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(s,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[n,r]=this.quill.getLine(s.index);if(r>t)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(s.index," ",O.sources.USER),this.quill.history.cutoff();const l=new H().retain(s.index-r).delete(t+1).retain(n.length()-2-r).retain(1,{list:i});return this.quill.updateContents(l,O.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(s.index-t,O.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(s){const[e,t]=this.quill.getLine(s.index);let n=2,r=e;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,n-=1,n<=0){const i=new H().retain(s.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,O.sources.USER),this.quill.setSelection(s.index-1,O.sources.SILENT),!1}return!0}},"embed left":Bs("ArrowLeft",!1),"embed left shift":Bs("ArrowLeft",!0),"embed right":Bs("ArrowRight",!1),"embed right shift":Bs("ArrowRight",!0),"table down":Zo(!1),"table up":Zo(!0)}};rr.DEFAULTS=mm;function Qo(s){return{key:"Tab",shiftKey:!s,format:{"code-block":!0},handler(e,t){let{event:n}=t;const r=this.quill.scroll.query("code-block"),{TAB:i}=r;if(e.length===0&&!n.shiftKey){this.quill.insertText(e.index,i,O.sources.USER),this.quill.setSelection(e.index+i.length,O.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:a,length:h}=e;l.forEach((u,f)=>{s?(u.insertAt(0,i),f===0?a+=i.length:h+=i.length):u.domNode.textContent.startsWith(i)&&(u.deleteAt(0,i.length),f===0?a-=i.length:h-=i.length)}),this.quill.update(O.sources.USER),this.quill.setSelection(a,h,O.sources.SILENT)}}}function Bs(s,e){return{key:s,shiftKey:e,altKey:null,[s==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:r}=n;s==="ArrowRight"&&(r+=n.length+1);const[i]=this.quill.getLeaf(r);return i instanceof Re?(s==="ArrowLeft"?e?this.quill.setSelection(n.index-1,n.length+1,O.sources.USER):this.quill.setSelection(n.index-1,O.sources.USER):e?this.quill.setSelection(n.index,n.length+1,O.sources.USER):this.quill.setSelection(n.index+n.length+1,O.sources.USER),!1):!0}}}function ii(s){return{key:s[0],shortKey:!0,handler(e,t){this.quill.format(s,!t.format[s],O.sources.USER)}}}function Zo(s){return{key:s?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const n=s?"prev":"next",r=t.line,i=r.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let l=i.children.head,a=r;for(;a.prev!=null;)a=a.prev,l=l.next;const h=l.offset(this.quill.scroll)+Math.min(t.offset,l.length()-1);this.quill.setSelection(h,0,O.sources.USER)}}else{const l=r.table()[n];l!=null&&(s?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,O.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,O.sources.USER))}return!1}}}function gm(s){if(typeof s=="string"||typeof s=="number")s={key:s};else if(typeof s=="object")s=Nn(s);else return null;return s.shortKey&&(s[pm]=s.shortKey,delete s.shortKey),s}function Ki(s){let{quill:e,range:t}=s;const n=e.getLines(t);let r={};if(n.length>1){const i=n[0].formats(),l=n[n.length-1].formats();r=$e.AttributeMap.diff(l,i)||{}}e.deleteText(t,O.sources.USER),Object.keys(r).length>0&&e.formatLine(t.index,1,r,O.sources.USER),e.setSelection(t.index,O.sources.SILENT)}function bm(s,e,t,n){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?n===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const xm=/font-weight:\s*normal/,ym=["P","OL","UL"],Yo=s=>s&&ym.includes(s.tagName),vm=s=>{Array.from(s.querySelectorAll("br")).filter(e=>Yo(e.previousElementSibling)&&Yo(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},Nm=s=>{Array.from(s.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(xm)).forEach(e=>{const t=s.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function wm(s){s.querySelector('[id^="docs-internal-guid-"]')&&(Nm(s),vm(s))}const Em=/\bmso-list:[^;]*ignore/i,Tm=/\bmso-list:[^;]*\bl(\d+)/i,Cm=/\bmso-list:[^;]*\blevel(\d+)/i,Am=(s,e)=>{const t=s.getAttribute("style"),n=t?.match(Tm);if(!n)return null;const r=Number(n[1]),i=t?.match(Cm),l=i?Number(i[1]):1,a=new RegExp(`@list l${r}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),h=e.match(a),u=h&&h[1]==="bullet"?"bullet":"ordered";return{id:r,indent:l,type:u,element:s}},jm=s=>{const e=Array.from(s.querySelectorAll("[style*=mso-list]")),t=[],n=[];e.forEach(l=>{(l.getAttribute("style")||"").match(Em)?t.push(l):n.push(l)}),t.forEach(l=>l.parentNode?.removeChild(l));const r=s.documentElement.innerHTML,i=n.map(l=>Am(l,r)).filter(l=>l);for(;i.length;){const l=[];let a=i.shift();for(;a;)l.push(a),a=i.length&&i[0]?.element===a.element.nextElementSibling&&i[0].id===a.id?i.shift():null;const h=document.createElement("ul");l.forEach(m=>{const d=document.createElement("li");d.setAttribute("data-list",m.type),m.indent>1&&d.setAttribute("class",`ql-indent-${m.indent-1}`),d.innerHTML=m.element.innerHTML,h.appendChild(d)});const u=l[0]?.element,{parentNode:f}=u??{};u&&f?.replaceChild(h,u),l.slice(1).forEach(m=>{let{element:d}=m;f?.removeChild(d)})}};function Sm(s){s.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&jm(s)}const _m=[Sm,wm],Om=s=>{s.documentElement&&_m.forEach(e=>{e(s)})},Lm=Et("quill:clipboard"),km=[[Node.TEXT_NODE,Wm],[Node.TEXT_NODE,ea],["br",Mm],[Node.ELEMENT_NODE,ea],[Node.ELEMENT_NODE,Bm],[Node.ELEMENT_NODE,Fm],[Node.ELEMENT_NODE,Hm],["li",Um],["ol, ul",$m],["pre",Pm],["tr",zm],["b",oi("bold")],["i",oi("italic")],["strike",oi("strike")],["style",Dm]],qm=[cm,bl].reduce((s,e)=>(s[e.keyName]=e,s),{}),Xo=[ml,zi,Hi,yl,wl,Tl].reduce((s,e)=>(s[e.keyName]=e,s),{});class Rm extends pt{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],km.concat(this.options.matchers??[]).forEach(n=>{let[r,i]=n;this.addMatcher(r,i)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[Se.blotName])return new H().insert(n||"",{[Se.blotName]:r[Se.blotName]});if(!t)return new H().insert(n||"",r);const i=this.convertHTML(t);return os(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||r.table)?i.compose(new H().retain(i.length()-1).delete(1)):i}normalizeHTML(e){Om(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const n=t.body,r=new WeakMap,[i,l]=this.prepareMatching(n,r);return Ji(this.quill.scroll,n,i,l,r)}dangerouslyPasteHTML(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O.sources.API;if(typeof e=="string"){const r=this.convert({html:e,text:""});this.quill.setContents(r,t),this.quill.setSelection(0,O.sources.SILENT)}else{const r=this.convert({html:t,text:""});this.quill.updateContents(new H().retain(e).concat(r),n),this.quill.setSelection(e+r.length(),O.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:r,text:i}=this.onCopy(n,t);e.clipboardData?.setData("text/plain",i),e.clipboardData?.setData("text/html",r),t&&Ki({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const n=e.clipboardData?.getData("text/html");let r=e.clipboardData?.getData("text/plain");if(!n&&!r){const l=e.clipboardData?.getData("text/uri-list");l&&(r=this.normalizeURIList(l))}const i=Array.from(e.clipboardData?.files||[]);if(!n&&i.length>0){this.quill.uploader.upload(t,i);return}if(n&&i.length>0){const l=new DOMParser().parseFromString(n,"text/html");if(l.body.childElementCount===1&&l.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,i);return}}this.onPaste(t,{html:n,text:r})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:n,html:r}=t;const i=this.quill.getFormat(e.index),l=this.convert({text:n,html:r},i);Lm.log("onPaste",l,{text:n,html:r});const a=new H().retain(e.index).delete(e.length).concat(l);this.quill.updateContents(a,O.sources.USER),this.quill.setSelection(a.length()-e.length,O.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const n=[],r=[];return this.matchers.forEach(i=>{const[l,a]=i;switch(l){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:n.push(a);break;default:Array.from(e.querySelectorAll(l)).forEach(h=>{t.has(h)?t.get(h)?.push(a):t.set(h,[a])});break}}),[n,r]}}function Xt(s,e,t,n){return n.query(e)?s.reduce((r,i)=>{if(!i.insert)return r;if(i.attributes&&i.attributes[e])return r.push(i);const l=t?{[e]:t}:{};return r.insert(i.insert,{...l,...i.attributes})},new H):s}function os(s,e){let t="";for(let n=s.ops.length-1;n>=0&&t.length<e.length;--n){const r=s.ops[n];if(typeof r.insert!="string")break;t=r.insert+t}return t.slice(-1*e.length)===e}function _t(s,e){if(!(s instanceof Element))return!1;const t=e.query(s);return t&&t.prototype instanceof Re?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(s.tagName.toLowerCase())}function Im(s,e){return s.previousElementSibling&&s.nextElementSibling&&!_t(s.previousElementSibling,e)&&!_t(s.nextElementSibling,e)}const Ms=new WeakMap;function Cl(s){return s==null?!1:(Ms.has(s)||(s.tagName==="PRE"?Ms.set(s,!0):Ms.set(s,Cl(s.parentNode))),Ms.get(s))}function Ji(s,e,t,n,r){return e.nodeType===e.TEXT_NODE?n.reduce((i,l)=>l(e,i,s),new H):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((i,l)=>{let a=Ji(s,l,t,n,r);return l.nodeType===e.ELEMENT_NODE&&(a=t.reduce((h,u)=>u(l,h,s),a),a=(r.get(l)||[]).reduce((h,u)=>u(l,h,s),a)),i.concat(a)},new H):new H}function oi(s){return(e,t,n)=>Xt(t,s,!0,n)}function Fm(s,e,t){const n=ht.keys(s),r=nt.keys(s),i=Rt.keys(s),l={};return n.concat(r).concat(i).forEach(a=>{let h=t.query(a,z.ATTRIBUTE);h!=null&&(l[h.attrName]=h.value(s),l[h.attrName])||(h=qm[a],h!=null&&(h.attrName===a||h.keyName===a)&&(l[h.attrName]=h.value(s)||void 0),h=Xo[a],h!=null&&(h.attrName===a||h.keyName===a)&&(h=Xo[a],l[h.attrName]=h.value(s)||void 0))}),Object.entries(l).reduce((a,h)=>{let[u,f]=h;return Xt(a,u,f,t)},e)}function Bm(s,e,t){const n=t.query(s);if(n==null)return e;if(n.prototype instanceof Re){const r={},i=n.value(s);if(i!=null)return r[n.blotName]=i,new H().insert(r,n.formats(s,t))}else if(n.prototype instanceof ns&&!os(e,`
`)&&e.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return Xt(e,n.blotName,n.formats(s,t),t);return e}function Mm(s,e){return os(e,`
`)||e.insert(`
`),e}function Pm(s,e,t){const n=t.query("code-block"),r=n&&"formats"in n&&typeof n.formats=="function"?n.formats(s,t):!0;return Xt(e,"code-block",r,t)}function Dm(){return new H}function Um(s,e,t){const n=t.query(s);if(n==null||n.blotName!=="list"||!os(e,`
`))return e;let r=-1,i=s.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(r+=1),i=i.parentNode;return r<=0?e:e.reduce((l,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?l.push(a):l.insert(a.insert,{indent:r,...a.attributes||{}}):l,new H)}function $m(s,e,t){const n=s;let r=n.tagName==="OL"?"ordered":"bullet";const i=n.getAttribute("data-checked");return i&&(r=i==="true"?"checked":"unchecked"),Xt(e,"list",r,t)}function ea(s,e,t){if(!os(e,`
`)){if(_t(s,t)&&(s.childNodes.length>0||s instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&s.nextSibling){let n=s.nextSibling;for(;n!=null;){if(_t(n,t))return e.insert(`
`);const r=t.query(n);if(r&&r.prototype instanceof Ue)return e.insert(`
`);n=n.firstChild}}}return e}function Hm(s,e,t){const n={},r=s.style||{};return r.fontStyle==="italic"&&(n.italic=!0),r.textDecoration==="underline"&&(n.underline=!0),r.textDecoration==="line-through"&&(n.strike=!0),(r.fontWeight?.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(n.bold=!0),e=Object.entries(n).reduce((i,l)=>{let[a,h]=l;return Xt(i,a,h,t)},e),parseFloat(r.textIndent||0)>0?new H().insert("	").concat(e):e}function zm(s,e,t){const n=s.parentElement?.tagName==="TABLE"?s.parentElement:s.parentElement?.parentElement;if(n!=null){const i=Array.from(n.querySelectorAll("tr")).indexOf(s)+1;return Xt(e,"table",i,t)}return e}function Wm(s,e,t){let n=s.data;if(s.parentElement?.tagName==="O:P")return e.insert(n.trim());if(!Cl(s)){if(n.trim().length===0&&n.includes(`
`)&&!Im(s,t))return e;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(s.previousSibling==null&&s.parentElement!=null&&_t(s.parentElement,t)||s.previousSibling instanceof Element&&_t(s.previousSibling,t))&&(n=n.replace(/^ /,"")),(s.nextSibling==null&&s.parentElement!=null&&_t(s.parentElement,t)||s.nextSibling instanceof Element&&_t(s.nextSibling,t))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return e.insert(n)}class Gm extends pt{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(O.events.EDITOR_CHANGE,(n,r,i,l)=>{n===O.events.SELECTION_CHANGE?r&&l!==O.sources.SILENT&&(this.currentRange=r):n===O.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===O.sources.USER?this.record(r,i):this.transform(r)),this.currentRange=_i(this.currentRange,r))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",n=>{n.inputType==="historyUndo"?(this.undo(),n.preventDefault()):n.inputType==="historyRedo"&&(this.redo(),n.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const n=this.stack[e].pop();if(!n)return;const r=this.quill.getContents(),i=n.delta.invert(r);this.stack[t].push({delta:i,range:_i(n.range,i)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,O.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let n=e.invert(t),r=this.currentRange;const i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(n=n.compose(l.delta),r=l.range)}else this.lastRecorded=i;n.length()!==0&&(this.stack.undo.push({delta:n,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){ta(this.stack.undo,e),ta(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,O.sources.USER);else{const t=Jm(this.quill.scroll,e.delta);this.quill.setSelection(t,O.sources.USER)}}}function ta(s,e){let t=e;for(let n=s.length-1;n>=0;n-=1){const r=s[n];s[n]={delta:t.transform(r.delta,!0),range:r.range&&_i(r.range,t)},t=r.delta.transform(t),s[n].delta.length()===0&&s.splice(n,1)}}function Km(s,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(n=>s.query(n,z.BLOCK)!=null):!1}function Jm(s,e){const t=e.reduce((r,i)=>r+(i.delete||0),0);let n=e.length()-t;return Km(s,e)&&(n-=1),n}function _i(s,e){if(!s)return s;const t=e.transformPosition(s.index),n=e.transformPosition(s.index+s.length);return{index:t,length:n-t}}class Al extends pt{constructor(e,t){super(e,t),e.root.addEventListener("drop",n=>{n.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);r=document.createRange(),r.setStart(l.offsetNode,l.offset),r.setEnd(l.offsetNode,l.offset)}const i=r&&e.selection.normalizeNative(r);if(i){const l=e.selection.normalizedToRange(i);n.dataTransfer?.files&&this.upload(l,n.dataTransfer.files)}})}upload(e,t){const n=[];Array.from(t).forEach(r=>{r&&this.options.mimetypes?.includes(r.type)&&n.push(r)}),n.length>0&&this.options.handler.call(this,e,n)}}Al.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(s,e){if(!this.quill.scroll.query("image"))return;const t=e.map(n=>new Promise(r=>{const i=new FileReader;i.onload=()=>{r(i.result)},i.readAsDataURL(n)}));Promise.all(t).then(n=>{const r=n.reduce((i,l)=>i.insert({image:l}),new H().retain(s.index).delete(s.length));this.quill.updateContents(r,$.sources.USER),this.quill.setSelection(s.index+n.length,$.sources.SILENT)})}};const Vm=["insertText","insertReplacementText"];class Qm extends pt{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||e.on(O.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){Ki({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new H().retain(e.index).insert(t,n),O.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,O.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!Vm.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const n=Zm(e);if(n==null)return;const r=this.quill.selection.normalizeNative(t),i=r?this.quill.selection.normalizedToRange(r):null;i&&this.replaceText(i,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function Zm(s){return typeof s.data=="string"?s.data:s.dataTransfer?.types.includes("text/plain")?s.dataTransfer.getData("text/plain"):null}const Ym=/Mac/i.test(navigator.platform),Xm=100,eg=s=>!!(s.key==="ArrowLeft"||s.key==="ArrowRight"||s.key==="ArrowUp"||s.key==="ArrowDown"||s.key==="Home"||Ym&&s.key==="a"&&s.ctrlKey===!0);class tg extends pt{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:n,event:r}=t;if(!(n instanceof et)||!n.uiNode)return!0;const i=getComputedStyle(n.domNode).direction==="rtl";return i&&r.key!=="ArrowRight"||!i&&r.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(r.shiftKey?1:0),O.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&eg(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Xm,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const n=this.quill.scroll.find(t.startContainer);if(!(n instanceof et)||!n.uiNode)return;const r=document.createRange();r.setStartAfter(n.uiNode),r.setEndAfter(n.uiNode),e.removeAllRanges(),e.addRange(r)}}O.register({"blots/block":ve,"blots/block/embed":Ue,"blots/break":st,"blots/container":Zt,"blots/cursor":Ye,"blots/embed":Ui,"blots/inline":je,"blots/scroll":lm,"blots/text":tt,"modules/clipboard":Rm,"modules/history":Gm,"modules/keyboard":rr,"modules/uploader":Al,"modules/input":Qm,"modules/uiNode":tg});class ng extends nt{add(e,t){let n=0;if(t==="+1"||t==="-1"){const r=this.value(e)||0;n=t==="+1"?r+1:r-1}else typeof t=="number"&&(n=t);return n===0?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const sg=new ng("indent","ql-indent",{scope:z.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class rg extends ve{static blotName="blockquote";static tagName="blockquote"}class ig extends ve{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class as extends Zt{}as.blotName="list-container";as.tagName="OL";class ls extends ve{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){O.register(as)}constructor(e,t){super(e,t);const n=t.ownerDocument.createElement("span"),r=i=>{if(!e.isEnabled())return;const l=this.statics.formats(t,e);l==="checked"?(this.format("list","unchecked"),i.preventDefault()):l==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",r),n.addEventListener("touchstart",r),this.attachUI(n)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}ls.blotName="list";ls.tagName="LI";as.allowedChildren=[ls];ls.requiredContainer=as;class Vi extends je{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class og extends Vi{static blotName="italic";static tagName=["EM","I"]}class Vs extends je{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return jl(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function jl(s,e){const t=document.createElement("a");t.href=s;const n=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(n)>-1}class ag extends je{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class lg extends Vi{static blotName="strike";static tagName=["S","STRIKE"]}class cg extends je{static blotName="underline";static tagName="U"}class ug extends Ui{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const na=["alt","height","width"];class dg extends Re{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return na.reduce((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return jl(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){na.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}const sa=["height","width"];class hg extends Ue{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return sa.reduce((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t),{})}static sanitize(e){return Vs.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){sa.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const Qn=new nt("code-token","hljs",{scope:z.INLINE});class Nt extends je{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Se.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,n){super(e,t,n),Qn.add(this.domNode,n)}format(e,t){e!==Nt.blotName?super.format(e,t):t?Qn.add(this.domNode,t):(Qn.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Qn.value(this.domNode)||this.unwrap()}}Nt.blotName="code-token";Nt.className="ql-token";class De extends Se{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Nt.blotName,!1),super.replaceWith(e,t)}}class Yn extends Yt{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===De.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(e,t)}))}formatAt(e,t,n,r){n===De.blotName&&(this.forceNext=!0),super.formatAt(e,t,n,r)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,i=De.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const l=this.children.reduce((h,u)=>h.concat(hl(u,!1)),new H),a=e(r,i);l.diff(a).reduce((h,u)=>{let{retain:f,attributes:m}=u;return f?(m&&Object.keys(m).forEach(d=>{[De.blotName,Nt.blotName].includes(d)&&this.formatAt(h,f,d,m[d])}),h+f):h},0)}this.cachedText=r,this.forceNext=!1}}html(e,t){const[n]=this.children.find(e);return`<pre data-language="${n?De.formats(n.domNode):"plain"}">
${sr(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=De.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Yn.allowedChildren=[De];De.requiredContainer=Yn;De.allowedChildren=[Nt,Ye,tt,st];const fg=(s,e,t)=>{if(typeof s.versionString=="string"){const n=s.versionString.split(".")[0];if(parseInt(n,10)>=11)return s.highlight(t,{language:e}).value}return s.highlight(e,t).value};class Sl extends pt{static register(){O.register(Nt,!0),O.register(De,!0),O.register(Yn,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,r)=>{let{key:i}=r;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(O.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Yn))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:r,label:i}=n;const l=t.ownerDocument.createElement("option");l.textContent=i,l.setAttribute("value",r),t.appendChild(l)}),t.addEventListener("change",()=>{e.format(De.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=De.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(O.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(O.sources.USER);const n=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Yn):[e]).forEach(i=>{i.highlight(this.highlightBlot,t)}),this.quill.update(O.sources.SILENT),n!=null&&this.quill.setSelection(n,O.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return sr(e).split(`
`).reduce((r,i,l)=>(l!==0&&r.insert(`
`,{[Se.blotName]:t}),r.insert(i)),new H);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Se.className),n.innerHTML=fg(this.options.hljs,t,e),Ji(this.quill.scroll,n,[(r,i)=>{const l=Qn.value(r);return l?i.compose(new H().retain(i.length(),{[Nt.blotName]:l})):i}],[(r,i)=>r.data.split(`
`).reduce((l,a,h)=>(h!==0&&l.insert(`
`,{[Se.blotName]:t}),l.insert(a)),i)],new WeakMap)}}Sl.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Xe extends ve{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",Qi()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Xe.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Kt extends Zt{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),n=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.table===t.table&&e.table===n.table&&e.table===r.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const n=t.formats(),r=t.next.formats();if(n.table!==r.table){const i=this.splitAfter(t);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Lt extends Zt{static blotName="table-body";static tagName="TBODY"}class Qs extends Zt{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(Kt),t=e.reduce((n,r)=>Math.max(r.children.length,n),0);e.forEach(n=>{new Array(t-n.children.length).fill(0).forEach(()=>{let r;n.children.head!=null&&(r=Xe.formats(n.children.head.domNode));const i=this.scroll.create(Xe.blotName,r);n.appendChild(i),i.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Lt);t==null||t.children.head==null||t.children.forEach(n=>{const r=n.children.at(e);r?.remove()})}insertColumn(e){const[t]=this.descendant(Lt);t==null||t.children.head==null||t.children.forEach(n=>{const r=n.children.at(e),i=Xe.formats(n.children.head.domNode),l=this.scroll.create(Xe.blotName,i);n.insertBefore(l,r)})}insertRow(e){const[t]=this.descendant(Lt);if(t==null||t.children.head==null)return;const n=Qi(),r=this.scroll.create(Kt.blotName);t.children.head.children.forEach(()=>{const l=this.scroll.create(Xe.blotName,n);r.appendChild(l)});const i=t.children.at(e);t.insertBefore(r,i)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Qs.allowedChildren=[Lt];Lt.requiredContainer=Qs;Lt.allowedChildren=[Kt];Kt.requiredContainer=Lt;Kt.allowedChildren=[Xe];Xe.requiredContainer=Kt;function Qi(){return`row-${Math.random().toString(36).slice(2,6)}`}class pg extends pt{static register(){O.register(Xe),O.register(Kt),O.register(Lt),O.register(Qs)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Qs).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(O.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(O.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(O.sources.USER),this.quill.setSelection(t,O.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,n]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Xe.blotName)return[null,null,null,-1];const r=t.parent;return[r.parent.parent,r,t,n]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[n,r,i]=this.getTable(t);if(i==null)return;const l=i.cellOffset();n.insertColumn(l+e),this.quill.update(O.sources.USER);let a=r.rowOffset();e===0&&(a+=1),this.quill.setSelection(t.index+a,t.length,O.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[n,r,i]=this.getTable(t);if(i==null)return;const l=r.rowOffset();n.insertRow(l+e),this.quill.update(O.sources.USER),e>0?this.quill.setSelection(t,O.sources.SILENT):this.quill.setSelection(t.index+r.children.length,t.length,O.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const n=this.quill.getSelection();if(n==null)return;const r=new Array(e).fill(0).reduce(i=>{const l=new Array(t).fill(`
`).join("");return i.insert(l,{table:Qi()})},new H().retain(n.index));this.quill.updateContents(r,O.sources.USER),this.quill.setSelection(n.index,O.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(O.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(O.events.TEXT_CHANGE,(n,r,i)=>{i===O.sources.USER&&this.balanceTables()}),!0):!1)})}}const ra=Et("quill:toolbar");class Zi extends pt{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const n=document.createElement("div");n.setAttribute("role","toolbar"),mg(n,this.options.container),e.container?.parentNode?.insertBefore(n,e.container),this.container=n}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){ra.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(n=>{const r=this.options.handlers?.[n];r&&this.addHandler(n,r)}),Array.from(this.container.querySelectorAll("button, select")).forEach(n=>{this.attach(n)}),this.quill.on(O.events.EDITOR_CHANGE,()=>{const[n]=this.quill.selection.getRange();this.update(n)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(r=>r.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){ra.warn("ignoring attaching to nonexistent format",t,e);return}const n=e.tagName==="SELECT"?"change":"click";e.addEventListener(n,r=>{let i;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const a=e.options[e.selectedIndex];a.hasAttribute("selected")?i=!1:i=a.value||!1}else e.classList.contains("ql-active")?i=!1:i=e.value||!e.hasAttribute("value"),r.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,i);else if(this.quill.scroll.query(t).prototype instanceof Re){if(i=prompt(`Enter ${t}`),!i)return;this.quill.updateContents(new H().retain(l.index).delete(l.length).insert({[t]:i}),O.sources.USER)}else this.quill.format(t,i,O.sources.USER);this.update(l)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(n=>{const[r,i]=n;if(i.tagName==="SELECT"){let l=null;if(e==null)l=null;else if(t[r]==null)l=i.querySelector("option[selected]");else if(!Array.isArray(t[r])){let a=t[r];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),l=i.querySelector(`option[value="${a}"]`)}l==null?(i.value="",i.selectedIndex=-1):l.selected=!0}else if(e==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const l=t[r],a=l===i.getAttribute("value")||l!=null&&l.toString()===i.getAttribute("value")||l==null&&!i.getAttribute("value");i.classList.toggle("ql-active",a),i.setAttribute("aria-pressed",a.toString())}else{const l=t[r]!=null;i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}})}}Zi.DEFAULTS={};function ia(s,e,t){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${e}`),n.setAttribute("aria-pressed","false"),t!=null?(n.value=t,n.setAttribute("aria-label",`${e}: ${t}`)):n.setAttribute("aria-label",e),s.appendChild(n)}function mg(s,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(r=>{if(typeof r=="string")ia(n,r);else{const i=Object.keys(r)[0],l=r[i];Array.isArray(l)?gg(n,i,l):ia(n,i,l)}}),s.appendChild(n)})}function gg(s,e,t){const n=document.createElement("select");n.classList.add(`ql-${e}`),t.forEach(r=>{const i=document.createElement("option");r!==!1?i.setAttribute("value",String(r)):i.setAttribute("selected","selected"),n.appendChild(i)}),s.appendChild(n)}Zi.DEFAULTS={container:null,handlers:{clean(){const s=this.quill.getSelection();if(s!=null)if(s.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,z.INLINE)!=null&&this.quill.format(t,!1,O.sources.USER)})}else this.quill.removeFormat(s.index,s.length,O.sources.USER)},direction(s){const{align:e}=this.quill.getFormat();s==="rtl"&&e==null?this.quill.format("align","right",O.sources.USER):!s&&e==="right"&&this.quill.format("align",!1,O.sources.USER),this.quill.format("direction",s,O.sources.USER)},indent(s){const e=this.quill.getSelection(),t=this.quill.getFormat(e),n=parseInt(t.indent||0,10);if(s==="+1"||s==="-1"){let r=s==="+1"?1:-1;t.direction==="rtl"&&(r*=-1),this.quill.format("indent",n+r,O.sources.USER)}},link(s){s===!0&&(s=prompt("Enter link URL:")),this.quill.format("link",s,O.sources.USER)},list(s){const e=this.quill.getSelection(),t=this.quill.getFormat(e);s==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,O.sources.USER):this.quill.format("list","unchecked",O.sources.USER):this.quill.format("list",s,O.sources.USER)}}};const bg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',xg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',yg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',vg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',Ng='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',wg='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Eg='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Tg='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',oa='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Cg='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Ag='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',jg='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Sg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',_g='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Og='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Lg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',kg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',qg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Rg='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Ig='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Fg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Bg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Mg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Pg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Dg='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Ug='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',$g='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Hg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',zg='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Wg='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Gg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Kg='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Jg='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',rs={align:{"":bg,center:xg,right:yg,justify:vg},background:Ng,blockquote:wg,bold:Eg,clean:Tg,code:oa,"code-block":oa,color:Cg,direction:{"":Ag,rtl:jg},formula:Sg,header:{1:_g,2:Og,3:Lg,4:kg,5:qg,6:Rg},italic:Ig,image:Fg,indent:{"+1":Bg,"-1":Mg},link:Pg,list:{bullet:Dg,check:Ug,ordered:$g},script:{sub:Hg,super:zg},strike:Wg,table:Gg,underline:Kg,video:Jg},Vg='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let aa=0;function la(s,e){s.setAttribute(e,`${s.getAttribute(e)!=="true"}`)}class ir{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),la(this.label,"aria-expanded"),la(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&t.setAttribute("data-value",n),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(t,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Vg,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${aa}`,aa+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const n=this.buildItem(t);e.appendChild(n),t.selected===!0&&this.selectItem(n)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");e!==n&&(n?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class _l extends ir{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const n=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=r:n.style.fill=r)}}class Ol extends ir{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=t[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const n=e||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const Qg=s=>{const{overflowY:e}=getComputedStyle(s,null);return e!=="visible"&&e!=="clip"};class Ll{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Qg(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let l=0;if(i.right>r.right&&(l=r.right-i.right,this.root.style.left=`${t+l}px`),i.left<r.left&&(l=r.left-i.left,this.root.style.left=`${t+l}px`),i.bottom>r.bottom){const a=i.bottom-i.top,h=e.bottom-e.top+a;this.root.style.top=`${n-h}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Zg=[!1,"center","right","justify"],Yg=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Xg=[!1,"serif","monospace"],eb=["1","2","3",!1],tb=["small",!1,"large","huge"];class cs extends Sn{constructor(e,t){super(e,t);const n=r=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(r.target)||i.close()})};e.emitter.listenDOM("click",document.body,n)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),t[i]!=null))if(i==="direction")n.innerHTML=t[i][""]+t[i].rtl;else if(typeof t[i]=="string")n.innerHTML=t[i];else{const l=n.value||"";l!=null&&t[i][l]&&(n.innerHTML=t[i][l])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&Gn(r,Zg),typeof t.align=="object"))return new Ol(r,t.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const i=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&Gn(r,Yg,i==="background"?"#ffffff":"#000000"),new _l(r,t[i])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?Gn(r,Xg):r.classList.contains("ql-header")?Gn(r,eb):r.classList.contains("ql-size")&&Gn(r,tb)),new ir(r)});const n=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on($.events.EDITOR_CHANGE,n)}}cs.DEFAULTS=Ot({},Sn.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let s=this.container.querySelector("input.ql-image[type=file]");s==null&&(s=document.createElement("input"),s.setAttribute("type","file"),s.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),s.classList.add("ql-image"),s.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,s.files),s.value=""}),this.container.appendChild(s)),s.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class kl extends Ll{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,$.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,$.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=nb(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const n=t.index+t.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,$.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",$.sources.USER),this.quill.setSelection(n+2,$.sources.USER)}break}}this.textbox.value="",this.hide()}}function nb(s){let e=s.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||s.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=s.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:s}function Gn(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(n=>{const r=document.createElement("option");n===t?r.setAttribute("selected","selected"):r.setAttribute("value",String(n)),s.appendChild(r)})}const sb=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class rb extends kl{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on($.events.EDITOR_CHANGE,(n,r,i,l)=>{if(n===$.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&l===$.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(r.index,r.length);if(a.length===1){const h=this.quill.getBounds(r);h!=null&&this.position(h)}else{const h=a[a.length-1],u=this.quill.getIndex(h),f=Math.min(h.length()-1,r.index+r.length-u),m=this.quill.getBounds(new Gt(u,f));m!=null&&this.position(m)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on($.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",t!==0&&(n.style.marginLeft=`${-1*t-n.offsetWidth/2}px`),t}}class ql extends cs{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=sb),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new rb(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),rs),this.buildPickers(e.container.querySelectorAll("select"),rs))}}ql.DEFAULTS=Ot({},cs.DEFAULTS,{modules:{toolbar:{handlers:{link(s){s?this.quill.theme.tooltip.edit():this.quill.format("link",!1,O.sources.USER)}}}}});const ib=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class ob extends kl{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,$.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on($.events.SELECTION_CHANGE,(e,t,n)=>{if(e!=null){if(e.length===0&&n===$.sources.USER){const[r,i]=this.quill.scroll.descendant(Vs,e.index);if(r!=null){this.linkRange=new Gt(e.index-i,r.length());const l=Vs.formats(r.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Rl extends cs{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=ib),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),rs),this.buildPickers(e.container.querySelectorAll("select"),rs),this.tooltip=new ob(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,n)=>{e.handlers.link.call(e,!n.format.link)}))}}Rl.DEFAULTS=Ot({},cs.DEFAULTS,{modules:{toolbar:{handlers:{link(s){if(s){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:n}=this.quill.theme;n.edit("link",t)}else this.quill.format("link",!1,O.sources.USER)}}}}});O.register({"attributors/attribute/direction":bl,"attributors/class/align":pl,"attributors/class/background":dm,"attributors/class/color":um,"attributors/class/direction":xl,"attributors/class/font":Nl,"attributors/class/size":El,"attributors/style/align":ml,"attributors/style/background":zi,"attributors/style/color":Hi,"attributors/style/direction":yl,"attributors/style/font":wl,"attributors/style/size":Tl},!0);O.register({"formats/align":pl,"formats/direction":xl,"formats/indent":sg,"formats/background":zi,"formats/color":Hi,"formats/font":Nl,"formats/size":El,"formats/blockquote":rg,"formats/code-block":Se,"formats/header":ig,"formats/list":ls,"formats/bold":Vi,"formats/code":Wi,"formats/italic":og,"formats/link":Vs,"formats/script":ag,"formats/strike":lg,"formats/underline":cg,"formats/formula":ug,"formats/image":dg,"formats/video":hg,"modules/syntax":Sl,"modules/table":pg,"modules/toolbar":Zi,"themes/bubble":ql,"themes/snow":Rl,"ui/icons":rs,"ui/picker":ir,"ui/icon-picker":Ol,"ui/color-picker":_l,"ui/tooltip":Ll},!0);var Ps={exports:{}},At={},ai={exports:{}},li,ca;function ab(){if(ca)return li;ca=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return li=s,li}var ci,ua;function lb(){if(ua)return ci;ua=1;var s=ab();function e(){}function t(){}return t.resetWarningCache=e,ci=function(){function n(l,a,h,u,f,m){if(m!==s){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function r(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},ci}var da;function Il(){return da||(da=1,ai.exports=lb()()),ai.exports}var Ds={exports:{}},Me={},Us={exports:{}},ha;function Fl(){return ha||(ha=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=f;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",n="contents",r=/^(input|select|textarea|button|object|iframe)$/;function i(m,d){return d.getPropertyValue("overflow")!=="visible"||m.scrollWidth<=0&&m.scrollHeight<=0}function l(m){var d=m.offsetWidth<=0&&m.offsetHeight<=0;if(d&&!m.innerHTML)return!0;try{var g=window.getComputedStyle(m),x=g.getPropertyValue("display");return d?x!==n&&i(m,g):x===t}catch{return console.warn("Failed to inspect element style"),!1}}function a(m){for(var d=m,g=m.getRootNode&&m.getRootNode();d&&d!==document.body;){if(g&&d===g&&(d=g.host.parentNode),l(d))return!1;d=d.parentNode}return!0}function h(m,d){var g=m.nodeName.toLowerCase(),x=r.test(g)&&!m.disabled||g==="a"&&m.href||d;return x&&a(m)}function u(m){var d=m.getAttribute("tabindex");d===null&&(d=void 0);var g=isNaN(d);return(g||d>=0)&&h(m,!g)}function f(m){var d=[].slice.call(m.querySelectorAll("*"),0).reduce(function(g,x){return g.concat(x.shadowRoot?f(x.shadowRoot):[x])},[]);return d.filter(u)}s.exports=e.default}(Us,Us.exports)),Us.exports}var fa;function cb(){if(fa)return Me;fa=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.resetState=l,Me.log=a,Me.handleBlur=h,Me.handleFocus=u,Me.markForFocusLater=f,Me.returnFocus=m,Me.popWithoutFocus=d,Me.setupScopedFocus=g,Me.teardownScopedFocus=x;var s=Fl(),e=t(s);function t(y){return y&&y.__esModule?y:{default:y}}var n=[],r=null,i=!1;function l(){n=[]}function a(){}function h(){i=!0}function u(){if(i){if(i=!1,!r)return;setTimeout(function(){if(!r.contains(document.activeElement)){var y=(0,e.default)(r)[0]||r;y.focus()}},0)}}function f(){n.push(document.activeElement)}function m(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=null;try{n.length!==0&&(T=n.pop(),T.focus({preventScroll:y}));return}catch{console.warn(["You tried to return focus to",T,"but it is not in the DOM anymore"].join(" "))}}function d(){n.length>0&&n.pop()}function g(y){r=y,window.addEventListener?(window.addEventListener("blur",h,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",h),document.attachEvent("onFocus",u))}function x(){r=null,window.addEventListener?(window.removeEventListener("blur",h),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",h),document.detachEvent("onFocus",u))}return Me}var $s={exports:{}},pa;function ub(){return pa||(pa=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=Fl(),n=r(t);function r(a){return a&&a.__esModule?a:{default:a}}function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?i(a.activeElement.shadowRoot):a.activeElement}function l(a,h){var u=(0,n.default)(a);if(!u.length){h.preventDefault();return}var f=void 0,m=h.shiftKey,d=u[0],g=u[u.length-1],x=i();if(a===x){if(!m)return;f=g}if(g===x&&!m&&(f=d),d===x&&m&&(f=g),f){h.preventDefault(),f.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),T=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(T){var j=u.indexOf(x);if(j>-1&&(j+=m?-1:1),f=u[j],typeof f>"u"){h.preventDefault(),f=m?g:d,f.focus();return}h.preventDefault(),f.focus()}}s.exports=e.default}($s,$s.exports)),$s.exports}var Qe={},ui,ma;function db(){if(ma)return ui;ma=1;var s=function(){};return ui=s,ui}var lt={},di={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var ga;function hb(){return ga||(ga=1,function(s){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};s.exports?s.exports=t:window.ExecutionEnvironment=t})()}(di)),di.exports}var ba;function Yi(){if(ba)return lt;ba=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.canUseDOM=lt.SafeNodeList=lt.SafeHTMLCollection=void 0;var s=hb(),e=t(s);function t(i){return i&&i.__esModule?i:{default:i}}var n=e.default,r=n.canUseDOM?window.HTMLElement:{};return lt.SafeHTMLCollection=n.canUseDOM?window.HTMLCollection:{},lt.SafeNodeList=n.canUseDOM?window.NodeList:{},lt.canUseDOM=n.canUseDOM,lt.default=r,lt}var xa;function Bl(){if(xa)return Qe;xa=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.resetState=i,Qe.log=l,Qe.assertNodeList=a,Qe.setElement=h,Qe.validateElement=u,Qe.hide=f,Qe.show=m,Qe.documentNotReadyOrSSRTesting=d;var s=db(),e=n(s),t=Yi();function n(g){return g&&g.__esModule?g:{default:g}}var r=null;function i(){r&&(r.removeAttribute?r.removeAttribute("aria-hidden"):r.length!=null?r.forEach(function(g){return g.removeAttribute("aria-hidden")}):document.querySelectorAll(r).forEach(function(g){return g.removeAttribute("aria-hidden")})),r=null}function l(){}function a(g,x){if(!g||!g.length)throw new Error("react-modal: No elements were found for selector "+x+".")}function h(g){var x=g;if(typeof x=="string"&&t.canUseDOM){var y=document.querySelectorAll(x);a(y,x),x=y}return r=x||r,r}function u(g){var x=g||r;return x?Array.isArray(x)||x instanceof HTMLCollection||x instanceof NodeList?x:[x]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function f(g){var x=!0,y=!1,T=void 0;try{for(var j=u(g)[Symbol.iterator](),L;!(x=(L=j.next()).done);x=!0){var B=L.value;B.setAttribute("aria-hidden","true")}}catch(D){y=!0,T=D}finally{try{!x&&j.return&&j.return()}finally{if(y)throw T}}}function m(g){var x=!0,y=!1,T=void 0;try{for(var j=u(g)[Symbol.iterator](),L;!(x=(L=j.next()).done);x=!0){var B=L.value;B.removeAttribute("aria-hidden")}}catch(D){y=!0,T=D}finally{try{!x&&j.return&&j.return()}finally{if(y)throw T}}}function d(){r=null}return Qe}var $t={},ya;function fb(){if(ya)return $t;ya=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.resetState=n,$t.log=r;var s={},e={};function t(u,f){u.classList.remove(f)}function n(){var u=document.getElementsByTagName("html")[0];for(var f in s)t(u,s[f]);var m=document.body;for(var d in e)t(m,e[d]);s={},e={}}function r(){}var i=function(f,m){return f[m]||(f[m]=0),f[m]+=1,m},l=function(f,m){return f[m]&&(f[m]-=1),m},a=function(f,m,d){d.forEach(function(g){i(m,g),f.add(g)})},h=function(f,m,d){d.forEach(function(g){l(m,g),m[g]===0&&f.remove(g)})};return $t.add=function(f,m){return a(f.classList,f.nodeName.toLowerCase()=="html"?s:e,m.split(" "))},$t.remove=function(f,m){return h(f.classList,f.nodeName.toLowerCase()=="html"?s:e,m.split(" "))},$t}var mn={},va;function Ml(){if(va)return mn;va=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.log=n,mn.resetState=r;function s(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}var e=function i(){var l=this;s(this,i),this.register=function(a){l.openInstances.indexOf(a)===-1&&(l.openInstances.push(a),l.emit("register"))},this.deregister=function(a){var h=l.openInstances.indexOf(a);h!==-1&&(l.openInstances.splice(h,1),l.emit("deregister"))},this.subscribe=function(a){l.subscribers.push(a)},this.emit=function(a){l.subscribers.forEach(function(h){return h(a,l.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function n(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(i){return console.log(i)}),console.log("end portalOpenInstances ----------")}function r(){t=new e}return mn.default=t,mn}var Kn={},Na;function pb(){if(Na)return Kn;Na=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.resetState=l,Kn.log=a;var s=Ml(),e=t(s);function t(f){return f&&f.__esModule?f:{default:f}}var n=void 0,r=void 0,i=[];function l(){for(var f=[n,r],m=0;m<f.length;m++){var d=f[m];d&&d.parentNode&&d.parentNode.removeChild(d)}n=r=null,i=[]}function a(){console.log("bodyTrap ----------"),console.log(i.length);for(var f=[n,r],m=0;m<f.length;m++){var d=f[m],g=d||{};console.log(g.nodeName,g.className,g.id)}console.log("edn bodyTrap ----------")}function h(){i.length!==0&&i[i.length-1].focusContent()}function u(f,m){!n&&!r&&(n=document.createElement("div"),n.setAttribute("data-react-modal-body-trap",""),n.style.position="absolute",n.style.opacity="0",n.setAttribute("tabindex","0"),n.addEventListener("focus",h),r=n.cloneNode(),r.addEventListener("focus",h)),i=m,i.length>0?(document.body.firstChild!==n&&document.body.insertBefore(n,document.body.firstChild),document.body.lastChild!==r&&document.body.appendChild(r)):(n.parentElement&&n.parentElement.removeChild(n),r.parentElement&&r.parentElement.removeChild(r))}return e.default.subscribe(u),Kn}var wa;function mb(){return wa||(wa=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(A[N]=S[N])}return A},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},r=function(){function A(C,S){for(var N=0;N<S.length;N++){var k=S[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,S,N){return S&&A(C.prototype,S),N&&A(C,N),C}}(),i=Aa(),l=Il(),a=I(l),h=cb(),u=D(h),f=ub(),m=I(f),d=Bl(),g=D(d),x=fb(),y=D(x),T=Yi(),j=I(T),L=Ml(),B=I(L);pb();function D(A){if(A&&A.__esModule)return A;var C={};if(A!=null)for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(C[S]=A[S]);return C.default=A,C}function I(A){return A&&A.__esModule?A:{default:A}}function P(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function X(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function fe(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var F={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},J=function(C){return C.code==="Tab"||C.keyCode===9},b=function(C){return C.code==="Escape"||C.keyCode===27},E=0,w=function(A){fe(C,A);function C(S){P(this,C);var N=X(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S));return N.setOverlayRef=function(k){N.overlay=k,N.props.overlayRef&&N.props.overlayRef(k)},N.setContentRef=function(k){N.content=k,N.props.contentRef&&N.props.contentRef(k)},N.afterClose=function(){var k=N.props,M=k.appElement,R=k.ariaHideApp,U=k.htmlOpenClassName,K=k.bodyOpenClassName,V=k.parentSelector,Z=V&&V().ownerDocument||document;K&&y.remove(Z.body,K),U&&y.remove(Z.getElementsByTagName("html")[0],U),R&&E>0&&(E-=1,E===0&&g.show(M)),N.props.shouldFocusAfterRender&&(N.props.shouldReturnFocusAfterClose?(u.returnFocus(N.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),N.props.onAfterClose&&N.props.onAfterClose(),B.default.deregister(N)},N.open=function(){N.beforeOpen(),N.state.afterOpen&&N.state.beforeClose?(clearTimeout(N.closeTimer),N.setState({beforeClose:!1})):(N.props.shouldFocusAfterRender&&(u.setupScopedFocus(N.node),u.markForFocusLater()),N.setState({isOpen:!0},function(){N.openAnimationFrame=requestAnimationFrame(function(){N.setState({afterOpen:!0}),N.props.isOpen&&N.props.onAfterOpen&&N.props.onAfterOpen({overlayEl:N.overlay,contentEl:N.content})})}))},N.close=function(){N.props.closeTimeoutMS>0?N.closeWithTimeout():N.closeWithoutTimeout()},N.focusContent=function(){return N.content&&!N.contentHasFocus()&&N.content.focus({preventScroll:!0})},N.closeWithTimeout=function(){var k=Date.now()+N.props.closeTimeoutMS;N.setState({beforeClose:!0,closesAt:k},function(){N.closeTimer=setTimeout(N.closeWithoutTimeout,N.state.closesAt-Date.now())})},N.closeWithoutTimeout=function(){N.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},N.afterClose)},N.handleKeyDown=function(k){J(k)&&(0,m.default)(N.content,k),N.props.shouldCloseOnEsc&&b(k)&&(k.stopPropagation(),N.requestClose(k))},N.handleOverlayOnClick=function(k){N.shouldClose===null&&(N.shouldClose=!0),N.shouldClose&&N.props.shouldCloseOnOverlayClick&&(N.ownerHandlesClose()?N.requestClose(k):N.focusContent()),N.shouldClose=null},N.handleContentOnMouseUp=function(){N.shouldClose=!1},N.handleOverlayOnMouseDown=function(k){!N.props.shouldCloseOnOverlayClick&&k.target==N.overlay&&k.preventDefault()},N.handleContentOnClick=function(){N.shouldClose=!1},N.handleContentOnMouseDown=function(){N.shouldClose=!1},N.requestClose=function(k){return N.ownerHandlesClose()&&N.props.onRequestClose(k)},N.ownerHandlesClose=function(){return N.props.onRequestClose},N.shouldBeClosed=function(){return!N.state.isOpen&&!N.state.beforeClose},N.contentHasFocus=function(){return document.activeElement===N.content||N.content.contains(document.activeElement)},N.buildClassName=function(k,M){var R=(typeof M>"u"?"undefined":n(M))==="object"?M:{base:F[k],afterOpen:F[k]+"--after-open",beforeClose:F[k]+"--before-close"},U=R.base;return N.state.afterOpen&&(U=U+" "+R.afterOpen),N.state.beforeClose&&(U=U+" "+R.beforeClose),typeof M=="string"&&M?U+" "+M:U},N.attributesFromObject=function(k,M){return Object.keys(M).reduce(function(R,U){return R[k+"-"+U]=M[U],R},{})},N.state={afterOpen:!1,beforeClose:!1},N.shouldClose=null,N.moveFromContentToOverlay=null,N}return r(C,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(N,k){this.props.isOpen&&!N.isOpen?this.open():!this.props.isOpen&&N.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!k.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var N=this.props,k=N.appElement,M=N.ariaHideApp,R=N.htmlOpenClassName,U=N.bodyOpenClassName,K=N.parentSelector,V=K&&K().ownerDocument||document;U&&y.add(V.body,U),R&&y.add(V.getElementsByTagName("html")[0],R),M&&(E+=1,g.hide(k)),B.default.register(this)}},{key:"render",value:function(){var N=this.props,k=N.id,M=N.className,R=N.overlayClassName,U=N.defaultStyles,K=N.children,V=M?{}:U.content,Z=R?{}:U.overlay;if(this.shouldBeClosed())return null;var G={ref:this.setOverlayRef,className:this.buildClassName("overlay",R),style:t({},Z,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},le=t({id:k,ref:this.setContentRef,style:t({},V,this.props.style.content),className:this.buildClassName("content",M),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ue=this.props.contentElement(le,K);return this.props.overlayElement(G,ue)}}]),C}(i.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(j.default),a.default.instanceOf(T.SafeHTMLCollection),a.default.instanceOf(T.SafeNodeList),a.default.arrayOf(a.default.instanceOf(j.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=w,s.exports=e.default}(Ds,Ds.exports)),Ds.exports}function Pl(){var s=this.constructor.getDerivedStateFromProps(this.props,this.state);s!=null&&this.setState(s)}function Dl(s){function e(t){var n=this.constructor.getDerivedStateFromProps(s,t);return n??null}this.setState(e.bind(this))}function Ul(s,e){try{var t=this.props,n=this.state;this.props=s,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,n)}finally{this.props=t,this.state=n}}Pl.__suppressDeprecationWarning=!0;Dl.__suppressDeprecationWarning=!0;Ul.__suppressDeprecationWarning=!0;function gb(s){var e=s.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof s.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return s;var t=null,n=null,r=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),t!==null||n!==null||r!==null){var i=s.displayName||s.name,l=typeof s.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+l+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof s.getDerivedStateFromProps=="function"&&(e.componentWillMount=Pl,e.componentWillReceiveProps=Dl),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Ul;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,f,m){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:m;a.call(this,u,f,d)}}return s}const bb=Object.freeze(Object.defineProperty({__proto__:null,polyfill:gb},Symbol.toStringTag,{value:"Module"})),xb=$l(bb);var Ea;function yb(){if(Ea)return At;Ea=1,Object.defineProperty(At,"__esModule",{value:!0}),At.bodyOpenClassName=At.portalClassName=void 0;var s=Object.assign||function(b){for(var E=1;E<arguments.length;E++){var w=arguments[E];for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(b[A]=w[A])}return b},e=function(){function b(E,w){for(var A=0;A<w.length;A++){var C=w[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,w,A){return w&&b(E.prototype,w),A&&b(E,A),E}}(),t=Aa(),n=T(t),r=Zl(),i=T(r),l=Il(),a=T(l),h=mb(),u=T(h),f=Bl(),m=y(f),d=Yi(),g=T(d),x=xb;function y(b){if(b&&b.__esModule)return b;var E={};if(b!=null)for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(E[w]=b[w]);return E.default=b,E}function T(b){return b&&b.__esModule?b:{default:b}}function j(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function L(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function B(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var D=At.portalClassName="ReactModalPortal",I=At.bodyOpenClassName="ReactModal__Body--open",P=d.canUseDOM&&i.default.createPortal!==void 0,X=function(E){return document.createElement(E)},fe=function(){return P?i.default.createPortal:i.default.unstable_renderSubtreeIntoContainer};function F(b){return b()}var J=function(b){B(E,b);function E(){var w,A,C,S;j(this,E);for(var N=arguments.length,k=Array(N),M=0;M<N;M++)k[M]=arguments[M];return S=(A=(C=L(this,(w=E.__proto__||Object.getPrototypeOf(E)).call.apply(w,[this].concat(k))),C),C.removePortal=function(){!P&&i.default.unmountComponentAtNode(C.node);var R=F(C.props.parentSelector);R&&R.contains(C.node)?R.removeChild(C.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},C.portalRef=function(R){C.portal=R},C.renderPortal=function(R){var U=fe(),K=U(C,n.default.createElement(u.default,s({defaultStyles:E.defaultStyles},R)),C.node);C.portalRef(K)},A),L(C,S)}return e(E,[{key:"componentDidMount",value:function(){if(d.canUseDOM){P||(this.node=X("div")),this.node.className=this.props.portalClassName;var A=F(this.props.parentSelector);A.appendChild(this.node),!P&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(A){var C=F(A.parentSelector),S=F(this.props.parentSelector);return{prevParent:C,nextParent:S}}},{key:"componentDidUpdate",value:function(A,C,S){if(d.canUseDOM){var N=this.props,k=N.isOpen,M=N.portalClassName;A.portalClassName!==M&&(this.node.className=M);var R=S.prevParent,U=S.nextParent;U!==R&&(R.removeChild(this.node),U.appendChild(this.node)),!(!A.isOpen&&!k)&&!P&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!d.canUseDOM||!this.node||!this.portal)){var A=this.portal.state,C=Date.now(),S=A.isOpen&&this.props.closeTimeoutMS&&(A.closesAt||C+this.props.closeTimeoutMS);S?(A.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,S-C)):this.removePortal()}}},{key:"render",value:function(){if(!d.canUseDOM||!P)return null;!this.node&&P&&(this.node=X("div"));var A=fe();return A(n.default.createElement(u.default,s({ref:this.portalRef,defaultStyles:E.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(A){m.setElement(A)}}]),E}(t.Component);return J.propTypes={isOpen:a.default.bool.isRequired,style:a.default.shape({content:a.default.object,overlay:a.default.object}),portalClassName:a.default.string,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,className:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),overlayClassName:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),appElement:a.default.oneOfType([a.default.instanceOf(g.default),a.default.instanceOf(d.SafeHTMLCollection),a.default.instanceOf(d.SafeNodeList),a.default.arrayOf(a.default.instanceOf(g.default))]),onAfterOpen:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,ariaHideApp:a.default.bool,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,parentSelector:a.default.func,aria:a.default.object,data:a.default.object,role:a.default.string,contentLabel:a.default.string,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func},J.defaultProps={isOpen:!1,portalClassName:D,bodyOpenClassName:I,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(E,w){return n.default.createElement("div",E,w)},contentElement:function(E,w){return n.default.createElement("div",E,w)}},J.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,x.polyfill)(J),At.default=J,At}var Ta;function vb(){return Ta||(Ta=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0});var t=yb(),n=r(t);function r(i){return i&&i.__esModule?i:{default:i}}e.default=n.default,s.exports=e.default}(Ps,Ps.exports)),Ps.exports}var Nb=vb();const wb=Oi(Nb),hi=He,fi=ze,Ca=s=>btoa(unescape(encodeURIComponent(s))),Eb=s=>decodeURIComponent(escape(atob(s))),en=({path:s})=>{const[e,t]=q.useState(""),[n,r]=q.useState(""),[i,l]=q.useState(null),[a,h]=q.useState(!1),[u,f]=q.useState(!1),[m,d]=q.useState(""),g=q.useRef(null),x=q.useRef(null);q.useEffect(()=>{g.current&&!x.current&&(x.current=new O(g.current,{theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],["clean"]]}}))},[]);const y=async()=>{try{const D=await La(hi,fi,s),I=Eb(D.content);t(I),r(D.sha),s.endsWith(".html")||I.includes("<html>")?d(I):x.current&&(x.current.root.innerHTML=I)}catch(D){l("Ошибка при загрузке файла"),console.error(D)}};q.useEffect(()=>{y()},[s]);const T=async()=>{const D=x.current?.root.innerHTML;D&&t(D);const I=Ca(D||"");await y();const P={message:`Update ${s} via API`,content:I,sha:n};h(!0);try{await zs(hi,fi,s,P),alert("Файл успешно обновлен!")}catch(X){l("Ошибка при обновлении файла"),console.error(X)}finally{h(!1)}},j=()=>{f(!0)},L=()=>{f(!1)},B=async()=>{const D=Ca(m);try{await y()}catch{l("Ошибка при загрузке файла для сохранения HTML");return}const I={message:`Save HTML of ${s} via API`,content:D,sha:n};h(!0);try{await zs(hi,fi,s,I),alert("HTML содержимое сохранено!"),L()}catch(P){l("Ошибка при сохранении HTML"),console.error(P)}finally{h(!1)}};return o.jsxs("div",{className:"text-gray-500",children:[i&&o.jsx("p",{style:{color:"red"},children:i}),o.jsx("div",{ref:g,style:{height:"300px"}}),o.jsx("button",{className:`m-2 p-2 rounded-lg ${a?"bg-gray-400":"bg-blue-500 hover:bg-blue-700"}`,onClick:T,disabled:a,children:a?"Сохранение...":"Сохранить изменения"}),o.jsx("button",{className:"m-2 p-2 rounded-lg bg-green-500 hover:bg-green-700",onClick:j,disabled:a,children:"или Добавить HTML"}),o.jsx("a",{className:"m-2 p-2 rounded-lg text-white bg-gray-500 hover:bg-gray-700",href:"/index-editor",children:"На главную"}),o.jsxs(wb,{isOpen:u,onRequestClose:L,contentLabel:"Добавить HTML",ariaHideApp:!1,style:{content:{zIndex:999,top:"100px"},overlay:{zIndex:50}},children:[o.jsx("h2",{children:"Введите HTML содержимое"}),o.jsx("textarea",{value:m,onChange:D=>d(D.target.value),style:{width:"100%",height:"200px"}}),o.jsx("button",{className:"m-2 p-2 rounded-lg bg-blue-500 hover:bg-blue-700",onClick:B,children:"Сохранить HTML"}),o.jsx("button",{className:"m-2 p-2 rounded-lg bg-gray-500 hover:bg-gray-700",onClick:L,children:"Отмена"})]})]})},Tb=()=>o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl",children:"Страница: О нас"}),o.jsx(en,{path:"public/fragmentAbout.html"})]}),Cb=()=>o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl",children:"Страница: Соглашение оферта"}),o.jsx(en,{path:"public/fragmentOfferAgreement.html"})]}),Ab=()=>o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl",children:"Страница:  Политика конфиденциальности"}),o.jsx(en,{path:"public/fragmentPrivacyPolicy.html"})]}),jb=()=>o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl",children:"Страница: Пользовательское соглашение"}),o.jsx(en,{path:"public/fragmentUserAgreement.html"})]}),Sb=()=>o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl",children:"Страница: Правила доставки"}),o.jsx(en,{path:"public/fragmentDeliveryRules.html"})]}),_b=()=>o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl",children:"Страница: Наши работы"}),o.jsx(en,{path:"public/fragmentPortfolio.html"})]}),Ob={bgCard:"Цвет фона карточки",cardTextColor:"Цвет текста карточки",title:"Заголовок",subtitle:"Подзаголовок",text_button_to_order:'Текст кнопки "Заказать"',isBlackAndWhitePhoto:"Черно-белое фото"},Lb=()=>{const[s,e]=q.useState(Tn),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/products/products.json";q.useEffect(()=>{e(Tn)},[]);const a=(u,f)=>{e(m=>({...m,[u]:f}))},h=async()=>{console.log("Обновленные данные:",JSON.stringify(s,null,2));try{i(!0);const f=(await We(l)).sha,m=JSON.stringify(s,null,2);await Ge(l,"Update products.json",m,f),i(!1),alert("Настройки продуктов успешно обновлены!")}catch(u){i(!1),n(u.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор настроек продуктов"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsx("div",{className:"mb-6",children:Object.keys(s).map(u=>o.jsxs("label",{className:"block mb-4",children:[o.jsxs("span",{className:"font-semibold",children:[Ob[u],":"]}),typeof s[u]=="boolean"?o.jsxs("div",{className:"flex items-center mt-2",children:[o.jsx("input",{type:"checkbox",checked:s[u],onChange:f=>a(u,f.target.checked),className:"mr-2"}),o.jsx("span",{children:s[u]?"Включено":"Выключено"})]}):o.jsx("input",{type:"text",value:s[u],onChange:f=>a(u,f.target.value),className:"w-full p-2 border rounded-md mt-2"})]},u))}),o.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить настройки продуктов"})]})},kb=()=>o.jsxs(o.Fragment,{children:[o.jsx(Lb,{}),o.jsx(Le,{to:"/",className:"fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"})]}),qb=()=>{const[s,e]=q.useState(eo),[t,n]=q.useState(null),[r,i]=q.useState(!1),l="src/const/navbar/logo.json";q.useEffect(()=>{e(eo)},[]);const a=(u,f)=>{e(m=>({...m,[u]:f}))},h=async()=>{try{i(!0);const f=(await We(l)).sha,m=JSON.stringify(s,null,2);await Ge(l,"Update logo.json",m,f),i(!1),alert("Данные логотипа успешно обновлены!")}catch(u){i(!1),n(u.message)}};return o.jsxs("div",{className:"mt-12 p-6 bg-white text-gray-500 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Редактор логотипа"}),t&&o.jsx("p",{className:"text-red-500",children:t}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Заголовок:"}),o.jsx("input",{type:"text",value:s.title,onChange:u=>a("title",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Отображать заголовок:"}),o.jsx("input",{type:"checkbox",checked:s.isTitle,onChange:u=>a("isTitle",u.target.checked),className:"mr-2"}),"Включить"]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold rounded-lg p-1 bg-orange-300",children:"Путь к логотипу. Желательно логотип загружать в формате SVG. Вы можете загрузить изображение логотипа в любом формате, но в этом случае вам нужно будет указать путь и название файла здесь. Если вы загрузите файл в формате SVG, то в футере и на логотипе будут использоваться одинаковые изображения. Однако если вы измените путь, то для логотипа и для футера внизу будут использоваться разные изображения."}),o.jsx("input",{type:"text",value:s.path,onChange:u=>a("path",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Альтернативный текст:"}),o.jsx("input",{type:"text",value:s.alt,onChange:u=>a("alt",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Ширина логотипа:"}),o.jsx("input",{type:"text",value:s.widthLogo,onChange:u=>a("widthLogo",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsxs("label",{className:"block mb-2",children:[o.jsx("span",{className:"font-semibold",children:"Высота логотипа:"}),o.jsx("input",{type:"text",value:s.heightLogo,onChange:u=>a("heightLogo",u.target.value),className:"w-full p-2 border rounded-md mb-2"})]}),o.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:r?"Обновление...":"Обновить данные логотипа"})]})},Rb=()=>o.jsxs(o.Fragment,{children:[o.jsx(Le,{to:"/",className:" fixed top-4 right-20 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"На главную"}),o.jsx(qb,{})]}),Ib=async s=>{const e=`public/images-site/${s.name}`,t=`${ke}/${He}/${ze}/contents/${e}`,n=qe,r=new FileReader;return r.readAsDataURL(s),new Promise((i,l)=>{r.onload=async()=>{const a=r.result?.toString()?.split(",")[1];try{const h=await fetch(t,{method:"PUT",headers:{Authorization:`token ${n}`,"Content-Type":"application/json"},body:JSON.stringify({message:`Загрузка изображения: ${s.name}`,content:a})});if(!h.ok)throw new Error(`Ошибка загрузки изображения: ${h.statusText}`);const u=await h.json();i(u.content.download_url)}catch(h){l(h)}},r.onerror=a=>l(a)})},Fb=()=>{const[s,e]=q.useState(null),[t,n]=q.useState(""),[r,i]=q.useState(!1),l=async h=>{if(h.target.files&&h.target.files[0]){const u=h.target.files[0];try{const f=await Sa(u,{maxSizeMB:1,maxWidthOrHeight:1024,useWebWorker:!0,fileType:"image/webp"});e(f),n("Изображение подготовлено к загрузке.")}catch(f){console.error("Ошибка обработки изображения:",f),n("Ошибка обработки изображения. Попробуйте другой файл.")}}},a=async()=>{if(!s){n("Пожалуйста, выберите изображение для загрузки.");return}i(!0);try{const h=await Ib(s),u=`/images-site/${s.name}`;n(`Изображение успешно загружено! Путь: ${u}`)}catch(h){console.error("Ошибка загрузки изображения:",h),n("Ошибка загрузки изображения. Попробуйте еще раз.")}finally{i(!1)}};return o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block mb-1",children:"Выберите изображение:"}),o.jsx("input",{type:"file",accept:"image/*",onChange:l,className:"border border-gray-300 p-2 w-full rounded"}),o.jsx("button",{onClick:a,className:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition",disabled:r,children:r?"Загрузка...":"Загрузить изображение"}),t&&o.jsx("div",{className:`mt-2 text-sm ${t.includes("успешно")?"text-green-500":"text-red-500"}`,children:t})]})},Bb=()=>{const[s,e]=q.useState([]),[t,n]=q.useState(!0),[r,i]=q.useState(null),l=async u=>{const f=await fetch(`${ke}/${He}/${ze}/contents/${u}`,{method:"GET",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"}});if(!f.ok)throw new Error(`Ошибка при получении информации о файле: ${f.statusText}`);return(await f.json()).sha},a=async()=>{try{const u=await fetch(`${ke}/${He}/${ze}/contents/public/images-site`,{method:"GET",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"}});if(!u.ok)throw new Error("Ошибка при получении списка файлов");const f=await u.json(),m=await Promise.all(f.map(async d=>{const g=await l(d.path);return{name:d.name,path:d.path,sha:g}}));e(m)}catch(u){i(u.message)}finally{n(!1)}},h=async(u,f)=>{const m=`${ke}/${He}/${ze}/contents/${u}`;try{if(!(await fetch(m,{method:"DELETE",headers:{Authorization:`token ${qe}`,"Content-Type":"application/json"},body:JSON.stringify({message:`Удаление изображения: ${u}`,sha:f})})).ok)throw new Error("Ошибка при удалении изображения");e(g=>g.filter(x=>x.sha!==f))}catch(d){i(`Ошибка при удалении изображения: ${d.message}`)}};return q.useEffect(()=>{a()},[]),t?o.jsx("div",{children:"Загрузка..."}):r?o.jsxs("div",{className:"text-red-500",children:["Ошибка: ",r]}):o.jsx("div",{style:{zIndex:999},className:"min-h-screen flex flex-col items-center justify-center p-8",children:o.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-lg w-full max-w-3xl",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Список изображений"}),o.jsx("div",{className:"mb-6",children:o.jsx(Fb,{})}),o.jsx("ul",{className:"space-y-4",children:s.map((u,f)=>o.jsx(o.Fragment,{children:u.name!==".gitkeep"&&o.jsxs("li",{className:"flex items-center justify-between border-b pb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:`/images-site/${u.name}`,alt:u.name,className:"w-32 h-32 object-cover rounded-md"}),o.jsx("div",{className:"ml-4",children:o.jsx("span",{className:"font-semibold",children:u.name})})]}),o.jsx("button",{onClick:()=>h(u.path,u.sha),className:"bg-red-500 text-white py-1 px-3 rounded-md",children:"Удалить"})]},`${f}-${u.sha}`)}))})]})})},Mb=()=>o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl",children:"Редактор главного экрана сайта"}),o.jsx(en,{path:"public/fragmentHeroCustom.html"})]}),a0=()=>{const s=zl(Wl(o.jsxs(ce,{path:"admin-cms",element:o.jsx(Sc,{}),errorElement:o.jsx(_c,{}),children:[o.jsx(ce,{path:"login",element:o.jsx(_a,{})}),o.jsx(ce,{path:"admin/site-settings",element:o.jsx(Rc,{})}),o.jsx(ce,{path:"admin/edit-burger-menu",element:o.jsx(Xl,{})}),o.jsx(ce,{path:"admin/edit-nav-bar",element:o.jsx(Lc,{})}),o.jsx(ce,{path:"admin/edit-footer",element:o.jsx(kc,{})}),o.jsx(ce,{path:"admin/edit-main-image",element:o.jsx(Mc,{})}),o.jsx(ce,{path:"admin/edit-image-list",element:o.jsx(Bb,{})}),o.jsx(ce,{path:"admin/edit-main-logo",element:o.jsx(Pc,{})}),o.jsx(ce,{path:"admin/edit-main-config-logo",element:o.jsx(Rb,{})}),o.jsx(ce,{path:"admin/edit-robots-txt",element:o.jsx(Dc,{})}),o.jsx(ce,{path:"admin/edit-quiz",element:o.jsx($c,{})}),o.jsx(ce,{path:"admin/edit-faq",element:o.jsx(zc,{})}),o.jsx(ce,{path:"admin/edit-review",element:o.jsx(Gc,{})}),o.jsx(ce,{path:"admin/edit/contact-us-company",element:o.jsx(Kc,{})}),o.jsx(ce,{path:"admin/edit/features",element:o.jsx(Yc,{})}),o.jsx(ce,{path:"admin/edit/hero",element:o.jsx(eu,{})}),o.jsx(ce,{path:"admin/edit/seo",element:o.jsx(nu,{})}),o.jsx(ce,{path:"admin/edit/product-section",element:o.jsx(kb,{})}),o.jsxs(ce,{path:"admin/edit-flatpages",element:o.jsx(su,{}),children:[o.jsx(ce,{path:"edit-about",element:o.jsx(Tb,{})}),o.jsx(ce,{path:"edit-hero",element:o.jsx(Mb,{})}),o.jsx(ce,{path:"edit-portfolio",element:o.jsx(_b,{})}),o.jsx(ce,{path:"edit-offer-agreement",element:o.jsx(Cb,{})}),o.jsx(ce,{path:"edit-privacy-policy",element:o.jsx(Ab,{})}),o.jsx(ce,{path:"edit-user-agreement",element:o.jsx(jb,{})}),o.jsx(ce,{path:"edit-delivery-rules",element:o.jsx(Sb,{})})]})]})),{future:{v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0}});return o.jsx(Kl,{children:o.jsx(Gl,{router:s})})};export{a0 as default};
